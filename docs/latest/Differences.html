<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Differences</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="Differences.css" /> 
<meta name="src" content="Differences.tex" /> 
<link rel="stylesheet" type="text/css" href="../main.css" /></head><body 
><div class="center" 
>
<!--l. 146--><p class="noindent" >
</p><!--l. 153--><p class="noindent" > <img 
src="Logos/Logo-.png" alt="PIC"  
width="160" height="160"  />
</p><!--l. 157--><p class="noindent" >OpenCore
</p><!--l. 161--><p class="noindent" >Reference Manual (0.6<span class="sout">.6</span><span class="uwave">.7</span>)
</p><!--l. 165--><p class="noindent" >[2021.02.27]
</p><!--l. 173--><p class="noindent" >Copyright ©2018-2021 vit9696
</p>
</div>
                                                                                                  
                                                                                                  
<br /> <span class="subsectionToc" >12.1 <a 
href="#x1-770001" id="QQ2-1-81">Legacy Apple OS</a></span>
<br /> <span class="subsectionToc" >12.2 <a 
href="#x1-830002" id="QQ2-1-87">UEFI Secure Boot</a></span>
<br /> <span class="subsectionToc" >12.4 <a 
href="#x1-850004" id="QQ2-1-90">Debugging</a></span>
<br /> <span class="subsectionToc" >12.5 <a 
href="#x1-860005" id="QQ2-1-91">Tips and Tricks</a></span>
</div>
<a 
 id="x1-1001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Introduction</h3>
<!--l. 182--><p class="noindent" >This document provides information on <span class="uwave">the </span><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenCore</a> user configuration file format used to set up the correct functioning of
the macOS operating system. It is to be read as the official clarification of expected OpenCore behaviour. All
deviations, if found in published OpenCore releases, shall be considered to be documentation or implementation <span class="sout">bugs
</span><span class="uwave">issues </span>which should be reported via the <a 
href="https://github.com/acidanthera/bugtracker" >Acidanthera Bugtracker</a>. An errata sheet is available in <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Errata/Errata.pdf" >OpenCorePkg
repository</a>.
</p><!--l. 192--><p class="noindent" >This document is structured as a specification and is not meant to provide a step-by-step guide to configuring an end-user
Board Support Package (BSP). The intended audience of the document is anticipated to be programmers and engineers with a
basic understanding of macOS internals and UEFI functionality. For these reasons, this document is available
exclusively in English, and all other sources or translations of this document are unofficial and may contain
errors.
</p><!--l. 199--><p class="noindent" >Third-party articles, utilities, books, and similar, may be more useful for a wider audience as they could provide
guide-like material. However, they are subject to their authors’ preferences, tastes, misinterpretations of this
document, and unavoidable obsolescence. In cases of using such sources, such as <a 
href="https://dortania.github.io" >Dortania</a>’s <a 
href="https://dortania.github.io/OpenCore-Install-Guide" >OpenCore Install
Guide</a> and <a 
href="https://dortania.github.io/getting-started" >related material</a>, please refer back to this document on every decision made and re-evaluate potential
consequences.
</p><!--l. 207--><p class="noindent" >Please note that regardless of the sources used, users are required to fully understand every OpenCore configuration option,
and the principles behind them, before posting issues to the <a 
href="https://github.com/acidanthera/bugtracker" >Acidanthera Bugtracker</a>.
</p><!--l. 211--><p class="noindent" >Note: Creating this document would not have been possible without the invaluable contributions from other people:
Andrey1970, Goldfish64, dakanji, PMheart, and several others, with the full list available in <a 
href="https://github.com/acidanthera/OpenCorePkg/commits/master/Docs" >OpenCorePkg
history</a>.
<a 
 id="x1-2001r1"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-30001"></a>Generic Terms</h4>
     <ul class="itemize1">
     <li class="itemize">plist —  Subset  of  ASCII  Property  List  format  written  in  XML,  also  know  as  XML  plist  format  version
     1.  Uniform  Type  Identifier  (UTI):  com.apple.property-list.  Plists  consist  of  plist objects,  which  are
     combined to form a hierarchical structure. Due to plist format not being well-defined, all the definitions of this
     document may only be applied after plist is considered valid by running plutil -lint. External references:
     https://www.apple.com/DTDs/PropertyList-1.0.dtd, man plutil.
     </li>
     <li class="itemize">plist type — plist collections (plist array, plist dictionary, plist key) and primitives (plist string,
     plist data, plist date, plist boolean, plist integer, plist real).
     </li>
     <li class="itemize">plist object — definite realisation of plist type, which may be interpreted as value.
     </li>
     <li class="itemize">plist array — array-like collection, conforms to array. Consists of zero or more plist objects.
     </li>
     <li class="itemize">plist dictionary —  map-like  (associative  array)  collection,  conforms  to  dict.  Consists  of  zero  or  more
     plist keys.
     </li>
                                                                                                  
                                                                                                  
     <li class="itemize">plist key — contains one plist object going by the name of plist key, conforms to key. Consists of printable
     7-bit ASCII characters.
     </li>
     <li class="itemize">plist string — printable 7-bit ASCII string, conforms to string.
     </li>
     <li class="itemize">plist data — base64-encoded blob, conforms to data.
     </li>
     <li class="itemize">plist date — ISO-8601 date, conforms to date, unsupported.
     </li>
     <li class="itemize">plist boolean — logical state object, which is either true (1) or false (0), conforms to true and false.
     </li>
     <li class="itemize">plist integer — possibly signed integer number in base 10, conforms to integer. Fits in 64-bit unsigned integer
     in two’s complement representation, unless a smaller signed or unsigned integral type is explicitly mentioned in
     specific plist object description.
     </li>
     <li class="itemize">plist real — floating point number, conforms to real, unsupported.
     </li>
     <li class="itemize">plist <span class="sout">metadata</span><span class="uwave">multidata</span> — value cast to data by the implementation. Permits passing plist string, in
     which case the result is represented by a null-terminated sequence of bytes (<span class="sout">aka </span>C string), plist integer, in
     which case the result is represented by 32-bit little endian sequence of bytes in two’s complement representation,
     plist boolean, in which case the value is one byte: 01 for true and 00 for false, and plist data itself. All
     other types or larger integers invoke undefined behaviour.</li></ul>
<a 
 id="x1-3001r3"></a>
<h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-40002"></a>Configuration</h3>
<a 
 id="x1-4001r4"></a>
<h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-50001"></a>Configuration Terms</h4>
     <ul class="itemize1">
     <li class="itemize">OC config — OpenCore Configuration file in plist format named config.plist. It <span class="sout">has to provide </span><span class="uwave">provides an
     </span>extensible way to configure OpenCore and is structured to be separated into multiple named sections situated <span class="sout">in
     </span><span class="uwave">under </span>the root plist dictionary. These sections <span class="sout">are permitted to </span><span class="uwave">may </span>have plist array or plist dictionary
     types and are described in corresponding sections of this document.
     </li>
     <li class="itemize">valid key — plist key object of OC config described in this document or its future revisions. Besides explicitly
     described valid keys, keys starting with <span class="uwave">the </span># symbol (e.g. #Hello) are also considered valid keys and <span class="uwave">while
     they </span>behave as comments, effectively discarding their <span class="sout">value, which is </span><span class="uwave">values, they are </span>still required to be <span class="sout">a
     valid </span><span class="uwave">valid </span>plist <span class="sout">object</span><span class="uwave">objects</span>. All other plist keys are not valid, and their presence <span class="sout">yields to </span><span class="uwave">results in
     </span>undefined behaviour.
     </li>
     <li class="itemize">valid value — valid plist object of OC config described in this document that matches all the additional
     requirements in specific plist object <span class="sout">description </span><span class="uwave">descriptions </span>if any.
     </li>
     <li class="itemize">invalid value — valid plist object of OC config described in this document that is of other plist type,
     does not conform to additional requirements found in specific plist object <span class="sout">description </span><span class="uwave">descriptions </span>(e.g. value
     range),  or  missing  from  the  corresponding  collection.  Invalid <span class="sout">value</span><span class="uwave">values</span> <span class="sout">is  </span><span class="uwave">are  </span>read  with  or  without
     an  error  message  as  any  possible  value  of  this  plist object in  an  undetermined  manner  (i.e. the  values
     may  not  be  same  across  the  reboots).  Whilst  reading  an  invalid value is  equivalent  to  reading  certain
     defined  valid <span class="sout">value</span><span class="uwave">values</span>,  applying  incompatible  <span class="sout">value  </span><span class="uwave">values  </span>to  the  host  system  may  <span class="sout">yield  to  </span><span class="uwave">result  in
     </span>undefined behaviour.
     </li>
     <li class="itemize">optional value — valid value of OC config described in this document that reads in a certain defined manner
                                                                                                  
                                                                                                  
     provided in specific plist object description (instead of invalid value) when not present in OC config. All
     other cases of invalid value do still apply. Unless explicitly marked as optional value, any other value is
     required to be present and reads to invalid value if missing.
     </li>
     <li class="itemize">fatal behaviour — behaviour leading to boot termination. <span class="sout">Implementation must stop </span><span class="uwave">Implementations shall
     prevent </span>the boot process from <span class="sout">going any further until next host system boot</span><span class="uwave">continuing until the host system
     is restarted</span>. It is <span class="sout">allowed </span><span class="uwave">permitted, </span>but not required<span class="sout">to perform cold reboot or show any warning message</span><span class="uwave">, to
     execute cold reboots or to show warning messages in such cases</span>.
     </li>
     <li class="itemize">undefined behaviour  —  behaviour  not  prescribed  by  this  document.  <span class="sout">Implementation  is  allowed  to
     </span><span class="uwave">Implementations   may   </span>take   any   measures   including<span class="uwave">,   </span>but   not   limited   to<span class="uwave">,   measures   associated   with
     </span>fatal behaviour, <span class="sout">assuming any states or values, or ignoring, unless these measures negatively affect system
     security in general</span><span class="uwave">assumptions of any state or value, or disregarding any associated states or values. This is
     however subject to such measures not negatively impacting upon system integrity</span>.</li></ul>
<a 
 id="x1-5001r6"></a>
<h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-60002"></a>Configuration Processing</h4>
<!--l. 348--><p class="noindent" ><span class="uwave">The </span>OC config <span class="uwave">file </span>is guaranteed to be processed at least once if <span class="sout">it was </span>found. Depending on OpenCore bootstrapping
mechanism<span class="uwave">, the presence of </span>multiple OC config files may lead to <span class="sout">reading </span><span class="uwave">the reading of </span>any of them. <span class="sout">No </span><span class="uwave">It is
permissible for no </span>OC Config <span class="sout">may </span><span class="uwave">file to </span>be present on disk<span class="sout">, in which case all the values read </span><span class="uwave">. In such cases, if the
implementation does not abort the boot process, all values shall </span>follow the rules of invalid <span class="sout">value</span><span class="uwave">values</span> and
optional <span class="sout">value</span><span class="uwave">values</span>.
</p><!--l. 358--><p class="noindent" ><span class="uwave">The </span>OC config <span class="sout">has </span><span class="uwave">file has restrictions on </span>size, nesting <span class="sout">, and key amount limitations. </span><span class="uwave">levels, and number of keys:
</span>
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="uwave">The </span>OC config <span class="sout">size does not exceed </span><span class="uwave">file size shall not exceed </span><span class="sout">16</span><span class="uwave">32</span> MBs.
     </li>
     <li class="itemize"><span class="uwave">The </span>OC config <span class="sout">has no more than </span><span class="uwave">file shall not have more than </span><span class="sout">8</span><span class="uwave">32</span> nesting levels.
     </li>
     <li class="itemize"><span class="uwave">The </span>OC config <span class="sout">has up to </span><span class="uwave">file may have up to </span><span class="sout">16384</span><span class="uwave">32,768</span> XML nodes <span class="sout">(i. e. one </span><span class="uwave">within each </span><span class="uwave">plist object</span><span class="uwave">.
     </span>
         <ul class="itemize2">
         <li class="itemize"><span class="uwave">One </span>plist dictionary item is counted as a pair of nodes <span class="sout">) within each </span><span class="sout">plist object</span><span class="sout">. </span></li></ul>
     </li></ul>
<!--l. 383--><p class="noindent" >Reading malformed OC config <span class="sout">file leads to </span><span class="uwave">files results in </span>undefined behaviour. Examples of malformed OC config <span class="sout">cover at
least the followingcases</span><span class="uwave">files include the following</span>:
</p>
     <ul class="itemize1">
     <li class="itemize"><span class="sout">files non-conformant to </span><span class="uwave">OC config</span> <span class="uwave">files that do not conform to </span><span class="sout">plist</span>DTD <span class="uwave">PLIST 1.0</span><span class="uwave">. </span>
     </li>
     <li class="itemize"><span class="uwave">OC config</span> files with unsupported or non-conformant plist objects found in this document<span class="uwave">. </span>
     </li>
     <li class="itemize"><span class="sout">files violating </span><span class="uwave">OC config</span> <span class="uwave">files violating restrictions on </span>size, nesting <span class="sout">, and key amount limitations </span><span class="uwave">levels, and
     number of keys. </span></li></ul>
<!--l. 401--><p class="noindent" >It is recommended<span class="uwave">, </span>but not required<span class="uwave">, </span>to abort loading malformed OC config <span class="sout">and </span><span class="uwave">files and to </span>continue as if <span class="sout">no </span><span class="uwave">an </span>OC config
<span class="sout">was </span><span class="uwave">file is not </span>present. For forward compatibility<span class="uwave">, </span>it is recommended<span class="uwave">, </span>but not required<span class="uwave">, </span>for the implementation to warn about
the use of invalid values. <span class="sout">Recommended practice of </span>
</p><!--l. 408--><p class="noindent" ><span class="uwave">The recommended practice for </span>interpreting invalid values is to conform to the following convention where
applicable:
</p>
<div class="center" 
>
                                                                                                  
                                                                                                  
<!--l. 411--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-1" class="tabular" 
 
><colgroup id="TBL-1-1g"><col 
id="TBL-1-1" /></colgroup><colgroup id="TBL-1-2g"><col 
id="TBL-1-2" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-1-1"  
class="td11">Type            </td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-1-2"  
class="td11">Value                                  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-2-1"  
class="td11">plist string  </td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-2-2"  
class="td11">Empty string (&#x003C;string&#x003E;&#x003C;/string&#x003E;)</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-3-1"  
class="td11">plist data    </td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-3-2"  
class="td11">Empty data (&#x003C;data&#x003E;&#x003C;/data&#x003E;)        </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-4-1"  
class="td11">plist integer </td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-4-2"  
class="td11">0 (&#x003C;integer&#x003E;0&#x003C;/integer&#x003E;)           </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-5-1"  
class="td11">plist boolean </td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-5-2"  
class="td11">False (&#x003C;false/&#x003E;)                         </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-6-1"  
class="td11">plist tristate</td><td  style="white-space:nowrap; text-align:left;" id="TBL-1-6-2"  
class="td11">False (&#x003C;false/&#x003E;)                         </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-1-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-1-7-1"  
class="td11">              </td>
</tr></table></div></div>
<a 
 id="x1-6001r7"></a>
<h4 class="subsectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-70003"></a>Configuration Structure</h4>
<!--l. 436--><p class="noindent" ><span class="uwave">The </span>OC config <span class="uwave">file </span>is separated into <span class="sout">following sections, which are </span><span class="uwave">subsections, as </span>described in separate sections of this
document<span class="sout">. By default it is tried to not enable anything and optionally </span><span class="uwave">, and is designed so as to attempt not to enable
anything by default as well as to </span>provide kill switches <span class="sout">with </span><span class="uwave">via an </span>Enable property for plist dict entries <span class="sout">. In general the
configuration is written idiomatically to group similar actions in subsections </span><span class="uwave">that represent optional plugins and similar.
</span>
</p><!--l. 444--><p class="noindent" ><span class="uwave">The file is structured to group related elements in subsections as follows</span>:
</p>
     <ul class="itemize1">
     <li class="itemize">Add provides support for data addition. Existing data will not be overridden, and needs to be handled separately
     with Delete if necessary.
     </li>
     <li class="itemize">Delete provides support for data removal.
     </li>
     <li class="itemize">Patch provides support for data modification.
     </li>
     <li class="itemize">Quirks provides support for specific <span class="sout">hacks</span><span class="uwave">workarounds</span>.</li></ul>
<!--l. 460--><p class="noindent" >Root configuration entries consist of the following:
</p>
     <ul class="itemize1">
     <li class="itemize"><a 
href="#x1-140004">ACPI</a>
     </li>
     <li class="itemize"><a 
href="#x1-210005">Booter</a>
     </li>
     <li class="itemize"><a 
href="#x1-270006">DeviceProperties</a>
     </li>
     <li class="itemize"><a 
href="#x1-310007">Kernel</a>
     </li>
     <li class="itemize"><a 
href="#x1-410008">Misc</a>
     </li>
     <li class="itemize"><a 
href="#x1-480009">NVRAM</a>
     </li>
     <li class="itemize"><a 
href="#x1-5400010">PlatformInfo</a>
     </li>
     <li class="itemize"><a 
href="#x1-6200011">UEFI</a></li></ul>
<!--l. 483--><p class="noindent" ><span class="sout">It is possible to perform basic validation of the configuration by using </span><span class="uwave">Basic validation of an </span><span class="uwave">OC config</span> <span class="uwave">file is possible using
the </span>ocvalidate utility. Please note <span class="sout">, that </span><span class="uwave">that the version of </span>ocvalidate <span class="uwave">used </span>must match the <span class="sout">used </span>OpenCore release and
<span class="sout">may not be able to </span><span class="uwave">that nothwithstanding this, it may not </span>detect all configuration <span class="sout">flaws present in the </span><span class="uwave">issues present in an
</span><span class="uwave">OC config</span> file.
</p><!--l. 488--><p class="noindent" >Note: <span class="sout">Currently most properties try to have defined values even if </span><span class="uwave">To maintain system integrity, properties
typically have predefined values even when such predefined values are </span>not specified in the <span class="sout">configuration for safety
reasons. This behaviour should not be relied upon, and all fields must be properly </span><span class="uwave">OC config</span> <span class="uwave">file. However, all
properties must be explicitly </span>specified in the <span class="sout">configuration</span><span class="uwave">OC config</span> <span class="uwave">file and this behaviour should not be relied
                                                                                                  
                                                                                                  
 Figure 1. Directory Structure</p></div>
<!--l. 590--><p class="noindent" >When directory boot is used<span class="uwave">, </span>the directory structure used should follow the <span class="sout">description on </span><span class="uwave">descriptions in the </span><a 
href="#x1-90001">Directory
Structure</a> figure. Available entries include:
</p>
     <ul class="itemize1">
     <li class="itemize">BOOTx64.efi or BOOTIa32.efi <br 
class="newline" />Initial bootstrap loaders, which load OpenCore.efi. BOOTx64.efi is loaded by the firmware by default <span class="sout">according
     to UEFI specification, yet it can </span><span class="uwave">consistent with the UEFI specification. However, it may </span>also be renamed and put
     <span class="sout">to </span><span class="uwave">in </span>a custom location to <span class="sout">let OpenCore coexist with operating systemsusing </span><span class="uwave">allow OpenCore coexist alongside
     operating systems, such as Windows, that use </span>BOOTx64.efi <span class="sout">as their own loaders(e. g. Windows), see </span><span class="uwave">files as their
     loaders. Refer to the </span>LauncherOption <span class="uwave">property </span>for more details.
     </li>
     <li class="itemize">boot <br 
class="newline" />Duet bootstrap loader, which initialises <span class="uwave">the </span>UEFI environment on legacy BIOS firmware and loads OpenCore.efi
     similarly to other bootstrap loaders. <span class="sout">Modern </span><span class="uwave">A modern </span>Duet bootstrap loader will default to OpenCore.efi on
     the same partition when present.
     </li>
     <li class="itemize">ACPI <br 
class="newline" />Directory used for storing supplemental ACPI information for <span class="uwave">the </span><a 
href="#x1-140004">ACPI</a> section.
     </li>
     <li class="itemize">Drivers <br 
class="newline" />Directory used for storing supplemental UEFI drivers for <a 
href="#x1-6200011">UEFI</a> section.
     </li>
     <li class="itemize">Kexts <br 
class="newline" />Directory used for storing supplemental kernel information for <span class="uwave">the </span><a 
href="#x1-310007">Kernel</a> section.
     </li>
     <li class="itemize">Resources <br 
class="newline" />Directory used for storing media resources <span class="sout">, </span>such as audio files for screen reader support. See <span class="uwave">the </span><a 
href="#x1-700008">UEFI Audio
     Properties</a> section for more details. This directory also contains image files for graphical user interface. See <span class="uwave">the
     </span><a 
href="#x1-660004">OpenCanopy</a> section for more details.
     </li>
     <li class="itemize">Tools <br 
class="newline" />Directory used for storing supplemental tools.
     </li>
     <li class="itemize">OpenCore.efi <br 
class="newline" />Main booter application responsible for operating system loading. The directory OpenCore.efi resides <span class="uwave">in </span>is
     called the root directory<span class="sout">. By default </span><span class="sout">root directory</span> <span class="uwave">, which </span>is set to EFI\OC <span class="sout">, however, when </span><span class="uwave">by default.
     When </span>launching OpenCore.efi directly or through a custom launcher <span class="uwave">however</span>, other directories containing
     OpenCore.efi <span class="sout">can also be </span><span class="uwave">files are also </span>supported.
     </li>
     <li class="itemize">config.plist <br 
class="newline" />OC Config.
     </li>
     <li class="itemize">vault.plist <br 
class="newline" />Hashes for all files potentially loadable by OC Config.
     </li>
     <li class="itemize">vault.sig <br 
class="newline" />Signature for vault.plist.
     </li>
     <li class="itemize">SysReport <br 
class="newline" />Directory containing system reports generated by SysReport option.
     </li>
     <li class="itemize">nvram.plist <br 
class="newline" />OpenCore variable import file.
     </li>
                                                                                                  
                                                                                                  
     <li class="itemize">opencore-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />OpenCore log file.
     </li>
     <li class="itemize">panic-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />Kernel panic log file.</li></ul>
<!--l. 666--><p class="noindent" >Note: It is not guaranteed that paths longer than OC_STORAGE_SAFE_PATH_MAX (128 characters including <span class="uwave">the
</span><br 
class="newline" />0-terminator) will be accessible within OpenCore.
<a 
 id="x1-9001r10"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-100002"></a>Installation and Upgrade</h4>
<!--l. 672--><p class="noindent" >To install OpenCore<span class="sout">reflect </span><span class="uwave">, replicate </span>the <a 
href="#x1-70003">Configuration Structure</a> described in the previous section <span class="sout">on a </span><span class="uwave">in the </span>EFI volume of a
GPT partition. While corresponding sections of this document <span class="sout">do </span>provide some information regarding external
resources such as ACPI tables, UEFI drivers, or kernel extensions (kexts), completeness of the matter is out of the
scope of this document. Information about kernel extensions may be found in a separate <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Kexts.md" >Kext List</a> document
available in <span class="uwave">the </span>OpenCore repository. Vaulting information is provided in <span class="uwave">the </span><a 
href="#x1-460005">Security Properties</a> section of this
document.
</p><!--l. 684--><p class="noindent" ><span class="uwave">The </span>OC config <span class="sout">, just like any property lists </span><span class="uwave">file, as with any property list file, </span>can be edited with any <span class="sout">stock textual editor(e.g.
nano, vim), but </span><span class="uwave">text editor, such as nano or vim. However, </span>specialised software may provide <span class="uwave">a </span>better experience. On macOS<span class="uwave">,
</span>the preferred GUI application is <a 
href="https://developer.apple.com/xcode" >Xcode</a>. For a lightweight cross-platform and open-source alternative<span class="uwave">, the </span><a 
href="https://github.com/corpnewt/ProperTree" >ProperTree</a> editor
can be utilised.
</p><!--l. 692--><p class="noindent" >For BIOS booting<span class="uwave">, </span>a third-party UEFI environment provider <span class="sout">will have to be used. </span><span class="uwave">is required and </span>OpenDuetPkg is one <span class="sout">of the
known UEFI environment providers </span><span class="uwave">such UEFI environment provider </span>for legacy systems. To run OpenCore on such a legacy
system, OpenDuetPkg can be installed with a dedicated tool — BootInstall (bundled with OpenCore). <a 
href="https://github.com/corpnewt/gibMacOS" >Third-party utilities</a> can
be used to perform this on systems other than macOS.
</p><!--l. 701--><p class="noindent" >For upgrade purposes<span class="sout">refer to </span><span class="uwave">, refer to the </span>Differences.pdf document <span class="sout">, providing the information about the changes affecting
the configuration </span><span class="uwave">which provides information about changes to the configuration (as </span>compared to the previous release<span class="sout">, and </span><span class="uwave">) as
well as to the </span>Changelog.md document <span class="sout">, containing the </span><span class="uwave">(which contains a </span>list of modifications across all published
updates<span class="uwave">)</span>.
<a 
 id="x1-10001r11"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-110003"></a>Contribution</h4>
<!--l. 710--><p class="noindent" >OpenCore can be compiled as <span class="sout">an ordinary </span><span class="uwave">a standard </span><a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II" >EDK II</a> package <span class="sout">. Since </span><span class="sout">development was abandoned by TianoCore,
OpenCore requires the use of </span><span class="uwave">and requires the </span><a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II#stable-tags" >EDK II Stable</a> <span class="sout">. Currently </span><span class="uwave">package. The currently </span>supported EDK II release is
hosted in <a 
href="https://github.com/acidanthera/audk" >acidanthera/audk</a>. <span class="sout">The required patches for the package are present in </span><span class="uwave">Required patches for this package can be
found in the </span>Patches directory.
</p><!--l. 726--><p class="noindent" >The only officially supported toolchain is XCODE5. Other toolchains might work <span class="sout">, </span>but are neither supported <span class="sout">,
</span>nor recommended. <span class="sout">Contribution </span><span class="uwave">Contributions </span>of clean patches <span class="sout">is </span><span class="uwave">are </span>welcome. Please do follow <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/Code-Style-C" >EDK II C
Codestyle</a>.
</p><!--l. 731--><p class="noindent" >To compile with XCODE5, besides <a 
href="https://developer.apple.com/xcode" >Xcode</a>, <span class="sout">one </span><span class="uwave">users </span>should also install <a 
href="https://www.nasm.us" >NASM</a> and <a 
href="https://github.com/acidanthera/ocbuild/tree/master/external" >MTOC</a>. The latest Xcode version is
recommended for use despite the toolchain name. <span class="sout">Example command sequence may look </span><span class="uwave">An example command sequence is </span>as
follows:
</p>
<!--l. 738-->
<a 
 id="x1-11001r1"></a>
<a 
 id="x1-11002"></a>
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-11003r1"></a></span>git clone --depth=1 https://github.com/acidanthera/audk UDK <br /><span class="label"><a 
 id="x1-11004r2"></a></span>cd UDK <br /><span class="label"><a 
 id="x1-11005r3"></a></span>git submodule update --init --recommend-shallow <br /><span class="label"><a 
 id="x1-11006r4"></a></span>git clone --depth=1 https://github.com/acidanthera/OpenCorePkg <br /><span class="label"><a 
 id="x1-11007r5"></a></span>source edksetup.sh <br /><span class="label"><a 
 id="x1-11008r6"></a></span>make -C BaseTools <br /><span class="label"><a 
 id="x1-11009r7"></a></span>build -a X64 -b RELEASE -t XCODE5 -p OpenCorePkg/OpenCorePkg.dsc
<figcaption class="caption" ><span class="id">Listing 1:</span><span  
class="content">Compilation Commands</span></figcaption><!--tex4ht:label?: x1-11001r -->
</div>
                                                                                                  
                                                                                                  
<!--l. 748--><p class="noindent" >For IDE usage Xcode projects are available in the root of the repositories. Another approach could be <a 
href="https://www.sublimetext.com" >Sublime Text</a> with
<a 
href="https://niosus.github.io/EasyClangComplete" >EasyClangComplete</a> plugin. Add .clang_complete file with similar content to the UDK root:
</p>
<!--l. 753-->
<a 
 id="x1-11010r2"></a>
<a 
 id="x1-11011"></a>
<div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-11012r1"></a></span>-I/UefiPackages/MdePkg <br /><span class="label"><a 
 id="x1-11013r2"></a></span>-I/UefiPackages/MdePkg/Include <br /><span class="label"><a 
 id="x1-11014r3"></a></span>-I/UefiPackages/MdePkg/Include/X64 <br /><span class="label"><a 
 id="x1-11015r4"></a></span>-I/UefiPackages/MdeModulePkg <br /><span class="label"><a 
 id="x1-11016r5"></a></span>-I/UefiPackages/MdeModulePkg/Include <br /><span class="label"><a 
 id="x1-11017r6"></a></span>-I/UefiPackages/MdeModulePkg/Include/X64 <br /><span class="label"><a 
 id="x1-11018r7"></a></span>-I/UefiPackages/OpenCorePkg/Include/AMI <br /><span class="label"><a 
 id="x1-11019r8"></a></span>-I/UefiPackages/OpenCorePkg/Include/Acidanthera <br /><span class="label"><a 
 id="x1-11020r9"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple <br /><span class="label"><a 
 id="x1-11021r10"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple/X64 <br /><span class="label"><a 
 id="x1-11022r11"></a></span>-I/UefiPackages/OpenCorePkg/Include/Duet <br /><span class="label"><a 
 id="x1-11023r12"></a></span>-I/UefiPackages/OpenCorePkg/Include/Generic <br /><span class="label"><a 
 id="x1-11024r13"></a></span>-I/UefiPackages/OpenCorePkg/Include/Intel <br /><span class="label"><a 
 id="x1-11025r14"></a></span>-I/UefiPackages/OpenCorePkg/Include/Microsoft <br /><span class="label"><a 
 id="x1-11026r15"></a></span>-I/UefiPackages/OpenCorePkg/Include/VMware <br /><span class="label"><a 
 id="x1-11027r16"></a></span>-I/UefiPackages/OvmfPkg/Include <br /><span class="label"><a 
 id="x1-11028r17"></a></span>-I/UefiPackages/UefiCpuPkg/Include <br /><span class="label"><a 
 id="x1-11029r18"></a></span>-IInclude <br /><span class="label"><a 
 id="x1-11030r19"></a></span>-include <br /><span class="label"><a 
 id="x1-11031r20"></a></span>/UefiPackages/MdePkg/Include/Uefi.h <br /><span class="label"><a 
 id="x1-11032r21"></a></span>-fshort-wchar <br /><span class="label"><a 
 id="x1-11033r22"></a></span>-Wall <br /><span class="label"><a 
 id="x1-11034r23"></a></span>-Wextra <br /><span class="label"><a 
 id="x1-11035r24"></a></span>-Wno-unused-parameter <br /><span class="label"><a 
 id="x1-11036r25"></a></span>-Wno-missing-braces <br /><span class="label"><a 
 id="x1-11037r26"></a></span>-Wno-missing-field-initializers <br /><span class="label"><a 
 id="x1-11038r27"></a></span>-Wno-tautological-compare <br /><span class="label"><a 
 id="x1-11039r28"></a></span>-Wno-sign-compare <br /><span class="label"><a 
 id="x1-11040r29"></a></span>-Wno-varargs <br /><span class="label"><a 
 id="x1-11041r30"></a></span>-Wno-unused-const-variable <br /><span class="label"><a 
 id="x1-11042r31"></a></span>-DOC_TARGET_NOOPT=1 <br /><span class="label"><a 
 id="x1-11043r32"></a></span>-DNO_MSABI_VA_FUNCS=1
<figcaption class="caption" ><span class="id">Listing 2:</span><span  
class="content">ECC Configuration</span></figcaption><!--tex4ht:label?: x1-11010r -->
</div>
<!--l. 788--><p class="noindent" >Warning: Tool developers modifying config.plist or any other OpenCore files must ensure that their <span class="sout">tool checks for </span><span class="uwave">tools
check the </span>opencore-version NVRAM variable (see <span class="uwave">the </span><a 
href="#x1-450004">Debug Properties</a> section below) and warn <span class="sout">the user </span><span class="uwave">users </span>if the version
listed is unsupported or prerelease. <span class="uwave">The </span>OpenCore configuration may change across <span class="sout">the releases and the tool </span><span class="uwave">releases and such
tools </span>shall ensure that <span class="sout">it carefully follows </span><span class="uwave">they carefully follow </span>this document. Failure to do so may result in
<span class="sout">this tool to be considered as </span><span class="uwave">such tools being considered to be </span>malware and blocked <span class="sout">with all possible </span><span class="uwave">by any
</span>means.
<a 
 id="x1-11044r12"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.4   </span> <a 
 id="x1-120004"></a>Coding conventions</h4>
<!--l. 799--><p class="noindent" >As with any other project, we have conventions that we follow during development. All third-party contributors are advised to
adhere to the conventions listed below before submitting patches. To minimise abortive work and the potential rejection of
submissions, third-party contributors should initially raise issues to the <a 
href="https://github.com/acidanthera/bugtracker" >Acidanthera Bugtracker</a> for feedback before submitting
patches.
</p><!--l. 806--><p class="noindent" >Organisation. The codebase is contained in the OpenCorePkg repository, which is the primary EDK II package.
</p>
     <ul class="itemize1">
     <li class="itemize">Whenever changes are required in multiple repositories, separate pull requests should be sent to each.
     </li>
     <li class="itemize">Committing the changes should happen firstly to dependent repositories, secondly to primary repositories to
     avoid automatic build errors.
     </li>
     <li class="itemize">Each unique commit should compile with XCODE5 and preferably with other toolchains. In the majority of the
     cases it can be checked by accessing the <a 
href="https://travis-ci.com/acidanthera" >CI interface</a>. Ensuring that static analysis finds no warnings is preferred.
     </li>
     <li class="itemize">External pull requests and tagged commits must be validated. That said, commits in master may build but may
     not necessarily work.
     </li>
     <li class="itemize">Internal branches should be named as follows: author-name-date, e.g. vit9696-ballooning-20191026.
     </li>
     <li class="itemize">Commit messages should be prefixed with the primary module (e.g. library or code module) the changes were
     made in. For example, OcGuardLib: Add OC_ALIGNED macro. For non-library changes Docs or Build prefixes
     are used.</li></ul>
<!--l. 827--><p class="noindent" >Design. The codebase is written in a subset of freestanding C11 (C17) supported by most modern toolchains used by EDK II.
Applying common software development practices or requesting clarification is recommended if any particular case is not
discussed below. </p>
     <ul class="itemize1">
     <li class="itemize">Never rely on undefined behaviour and try to avoid implementation defined behaviour unless explicitly covered
     below (feel free to create an issue when a relevant case is not present).
     </li>
     <li class="itemize">Use OcGuardLib to ensure safe integral arithmetics avoiding overflows. Unsigned wraparound should be relied
     on with care and reduced to the necessary amount.
                                                                                                  
                                                                                                  
     </li>
     <li class="itemize">Check  pointers  for  correct  alignment  with  OcGuardLib and  do  not  rely  on  the  architecture  being  able  to
     dereference unaligned pointers.
     </li>
     <li class="itemize">Use flexible array members instead of zero-length or one-length arrays where necessary.
     </li>
     <li class="itemize">Use static assertions (STATIC_ASSERT) for type and value assumptions, and runtime assertions (ASSERT) for
     precondition and invariant sanity checking. Do not use runtime assertions to check for errors as they should never
     alter control flow and potentially be excluded.
     </li>
     <li class="itemize">Assume UINT32/INT32 to be int-sized and use %u, %d, and %x to print them.
     </li>
     <li class="itemize">Assume UINTN/INTN to be of unspecified size, and cast them to UINT64/INT64 for printing with %Lu, %Ld and so
     on as normal.
     </li>
     <li class="itemize">Do   not   rely   on   integer   promotions   for   numeric   literals.   Use   explicit   casts   when   the   type   is
     implementation-dependent or suffixes when type size is known. Assume U for UINT32 and ULL for UINT64.
     </li>
     <li class="itemize">Do ensure unsigned arithmetics especially in bitwise maths, shifts in particular.
     </li>
     <li class="itemize">sizeof operator should take variables instead of types where possible to be error prone. Use ARRAY_SIZE to
     obtain array size in elements. Use L_STR_LEN and L_STR_SIZE macros from OcStringLib to obtain string literal
     sizes to ensure compiler optimisation.
     </li>
     <li class="itemize">Do not use goto keyword. Prefer early return, break, or continue after failing to pass error checking instead
     of nesting conditionals.
     </li>
     <li class="itemize">Use EFIAPI, force UEFI calling convention, only in protocols, external callbacks between modules, and functions
     with variadic arguments.
     </li>
     <li class="itemize">Provide inline documentation to every added function, at least describing its inputs, outputs, precondition,
     postcondition, and giving a brief description.
     </li>
     <li class="itemize">Do not use RETURN_STATUS. Assume EFI_STATUS to be a matching superset that is to be always used when
     BOOLEAN is not enough.
     </li>
     <li class="itemize">Security violations should halt the system or cause a forced reboot.</li></ul>
<!--l. 865--><p class="noindent" >Codestyle. The codebase follows <span class="uwave">the </span><a 
href="https://github.com/tianocore/tianocore.github.io/wiki/Code-Style-C" >EDK II codestyle</a> with <span class="uwave">a </span>few changes and clarifications. </p>
     <ul class="itemize1">
     <li class="itemize">Write inline documentation for the functions and variables only once: in headers, where a header prototype is
     available, and inline for static variables and functions.
     </li>
     <li class="itemize">Use line length of 120 characters or less, preferably 100 characters.
     </li>
     <li class="itemize">Use spaces after casts, e.g. (VOID *)(UINTN) Variable.
     </li>
     <li class="itemize">Use two spaces to indent function arguments when splitting lines.
     </li>
     <li class="itemize">Prefix public functions with either Oc or another distinct name.
     </li>
     <li class="itemize">Do not prefix private static functions, but prefix private non-static functions with Internal.
     </li>
     <li class="itemize">Use SPDX license headers as shown in <a 
href="https://github.com/acidanthera/bugtracker/issues/483" >acidanthera/bugtracker#483</a>.</li></ul>
<a 
 id="x1-12001r15"></a>
                                                                                                  
                                                                                                  
<h4 class="subsectionHead"><span class="titlemark">3.5   </span> <a 
 id="x1-130005"></a>Debugging</h4>
<!--l. 883--><p class="noindent" >The codebase incorporates EDK II debugging and few custom features to improve the experience. </p>
     <ul class="itemize1">
     <li class="itemize">Use module prefixes, 2-5 letters followed by a colon (:), for debug messages. For OpenCorePkg use OC:, for
     libraries and drivers use their own unique prefixes.
     </li>
     <li class="itemize">Do not use dots (.) in the end of debug messages and separate EFI_STATUS, printed by %r, with a hyphen (e.g.
     OCRAM: Allocation of %u bytes failed - %r\n).
     </li>
     <li class="itemize">Use DEBUG_CODE_BEGIN () and DEBUG_CODE_END () constructions to guard debug checks that may potentially
     reduce the performance of release builds and are otherwise unnecessary.
     </li>
     <li class="itemize">Use DEBUG macro to print debug messages during normal functioning, and RUNTIME_DEBUG for debugging after
     EXIT_BOOT_SERVICES.
     </li>
     <li class="itemize">Use DEBUG_VERBOSE debug level to leave debug messages for future debugging of the code, which are currently
     not necessary. By default DEBUG_VERBOSE messages are ignored even in DEBUG builds.
     </li>
     <li class="itemize">Use DEBUG_INFO debug level for all non critical messages (including errors) and DEBUG_BULK_INFO for extensive
     messages that should not appear in NVRAM log that is heavily limited in size. These messages are ignored in
     RELEASE builds.
     </li>
     <li class="itemize">Use DEBUG_ERROR to print critical human visible messages that may potentially halt the boot process, and
     DEBUG_WARN for all other human visible errors, RELEASE builds included.</li></ul>
<!--l. 904--><p class="noindent" ><span class="sout">When </span><span class="uwave">The </span><a 
href="https://git-scm.com/docs/git-bisect" >git-bisect</a> <span class="uwave">functionality may be useful when </span>trying to find <span class="sout">the problematic change it is useful to rely on
</span><span class="sout">functionality. There also are some unofficial resources that provide per-commit binary builds of OpenCore</span><span class="uwave">problematic changes.
Unofficial sources of </span><span class="uwave">per-commit</span> <span class="uwave">OpenCore binary builds</span>, such as <a 
href="https://dortania.github.io/builds" >Dortania</a><span class="uwave">, may also be useful</span>.
<a 
 id="x1-13001r9"></a>
</p>
<h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-140004"></a>ACPI</h3>
<a 
 id="x1-14001r16"></a>
<h4 class="subsectionHead"><span class="titlemark">4.1   </span> <a 
 id="x1-150001"></a>Introduction</h4>
<!--l. 915--><p class="noindent" >ACPI (Advanced Configuration and Power Interface) is an open standard to discover and configure computer hardware. <span class="uwave">The
</span><a 
href="https://uefi.org/specifications" >ACPI specification</a> <span class="sout">defines </span><span class="uwave">define </span>the standard tables (e.g. DSDT, SSDT, FACS, DMAR) and various methods (e.g. _DSM, _PRW) for
implementation. Modern hardware needs little changes to maintain ACPI compatibility, yet some of those are provided as a
part of OpenCore.
</p><!--l. 923--><p class="noindent" >To compile and disassemble ACPI tables<span class="uwave">, the </span><a 
href="https://github.com/acpica/acpica" >iASL compiler</a> <span class="sout">can be used </span>developed by <a 
href="https://www.acpica.org" >ACPICA</a> <span class="sout">. </span><span class="uwave">can be used. A </span>GUI
front-end to iASL compiler can be downloaded from <a 
href="https://github.com/acidanthera/MaciASL/releases" >Acidanthera/MaciASL</a>.
</p><!--l. 927--><p class="noindent" >ACPI changes apply globally (to every operating system) with the following effective order:
</p>
     <ul class="itemize1">
     <li class="itemize">Patch is processed.
     </li>
     <li class="itemize">Delete is processed.
     </li>
     <li class="itemize">Add is processed.
     </li>
     <li class="itemize">Quirks are processed.</li></ul>
<!--l. 937--><p class="noindent" >Applying the changes globally resolves the problems of incorrect operating system detection <span class="sout">, which is </span><span class="uwave">(consistent with the
ACPI specification, </span>not possible before the operating system boots<span class="sout">according to the ACPI specification</span><span class="uwave">)</span>, operating system
chainloading, and <span class="sout">harder </span><span class="uwave">difficult </span>ACPI debugging. <span class="sout">For this reason it </span><span class="uwave">Hence, more attention </span>may be required <span class="sout">to carefully use
</span><span class="uwave">when writing changes to </span>_OSI<span class="sout">method when writing the changes </span>.
                                                                                                  
                                                                                                  
</p><!--l. 943--><p class="noindent" >Applying the patches early makes it possible to write so called “proxy” patches, where the original method is patched in the
original table and is implemented in the patched table.
</p><!--l. 947--><p class="noindent" >There are <span class="sout">many places providing </span><span class="uwave">several sources of </span>ACPI tables and workarounds. Commonly used ACPI tables
are provided with OpenCore, VirtualSMC, VoodooPS2, and WhateverGreen releases. Besides those<span class="sout">there are </span><span class="uwave">,
</span>several third-party instructions <span class="sout">commonly found on AppleLife in </span><span class="uwave">may be found on the AppleLife </span><a 
href="https://applelife.ru/forums/xakintosh.67" >Laboratory</a>
and <a 
href="https://applelife.ru/forums/dsdt.129" >DSDT</a> subforums (e.g. <a 
href="https://applelife.ru/posts/498967" >Battery register splitting</a> guide). A slightly more user-friendly explanation of some
tables included with OpenCore can also be found in <a 
href="https://dortania.github.io" >Dortania</a>’s <a 
href="https://dortania.github.io/Getting-Started-With-ACPI" >Getting started with ACPI</a> guide. For more
exotic cases<span class="sout">there also are several other places including </span><span class="uwave">, there are several alternatives such as </span><a 
href="https://github.com/daliansky" >daliansky</a>’s <a 
href="https://github.com/daliansky/OC-little" >ACPI
sample collection</a><span class="sout">, but </span><span class="uwave">. Note however that </span>the quality of the suggested solutions will <span class="sout">vary from case to case</span><span class="uwave">be
variable</span>.
<a 
 id="x1-15001r18"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">4.2   </span> <a 
 id="x1-160002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-16002x1">Add<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Load selected tables from <span class="uwave">the </span>OC/ACPI directory.
     <!--l. 973--><p class="noindent" >Designed to be filled with plist dict values, describing each add entry. See <span class="uwave">the </span><a 
href="#x1-170003">Add Properties</a> section below.
     </p></li>
     <li 
  class="enumerate" id="x1-16004x2">Delete<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Remove selected tables from <span class="uwave">the </span>ACPI stack.
     <!--l. 982--><p class="noindent" >Designed to be filled with plist dict values, describing each delete entry. See <span class="uwave">the </span><a 
href="#x1-180004">Delete Properties</a> section
     below.
     </p></li>
     <li 
  class="enumerate" id="x1-16006x3">Patch<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Perform binary patches in ACPI tables before table addition or removal.
     <!--l. 992--><p class="noindent" >Designed to be filled with plist dictionary values describing each patch entry. See <span class="uwave">the </span><a 
href="#x1-190005">Patch Properties</a> section
     below.
     </p></li>
     <li 
  class="enumerate" id="x1-16008x4">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply individual ACPI quirks described in <span class="uwave">the </span><a 
href="#x1-200006">Quirks Properties</a> section below.
     </li></ol>
<a 
 id="x1-16009r19"></a>
<h4 class="subsectionHead"><span class="titlemark">4.3   </span> <a 
 id="x1-170003"></a>Add Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-17002x1">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-17004x2">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This ACPI table will not be added unless set </span><span class="uwave">Set </span>to true <span class="uwave">to add this ACPI table</span>.
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-17006x3">Path<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description:   File   paths   meant   to   be   loaded   as   ACPI   tables.   Example   values   include   DSDT.aml,
     SubDir/SSDT-8.aml, SSDT-USBX.aml, etc.
     <!--l. 1027--><p class="noindent" ><span class="uwave">The </span>ACPI table load order follows the item order in the array. <span class="sout">All ACPI tables load from </span><span class="uwave">ACPI tables are loaded
     from the </span>OC/ACPI directory.
     </p><!--l. 1031--><p class="noindent" >Note: All tables <span class="sout">but tables with </span><span class="uwave">apart from tables with a </span>DSDT table identifier (determined by parsing data<span class="uwave">, </span>not
     by filename) insert new tables into <span class="uwave">the </span>ACPI stack. DSDT <span class="sout">, unlike the rest, performs </span><span class="uwave">tables perform a </span>replacement
     of DSDT <span class="sout">table</span><span class="uwave">tables instead</span>.
</p>
     </li></ol>
<a 
 id="x1-17007r20"></a>
<h4 class="subsectionHead"><span class="titlemark">4.4   </span> <a 
 id="x1-180004"></a>Delete Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-18002x1">All<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false <span class="uwave">(Only delete the first matched table)</span><br 
class="newline" />Description: <span class="sout">If set </span><span class="uwave">Set </span>to true <span class="sout">, </span><span class="uwave">to delete </span>all ACPI tables matching the condition<span class="sout">will be deleted. Otherwise
     only first matched table. </span><span class="uwave">. </span>
     </li>
     <li 
  class="enumerate" id="x1-18004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-18006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This ACPI table will not be removed unless set </span><span class="uwave">Set </span>to true <span class="uwave">to remove this ACPI table</span>.
     </li>
     <li 
  class="enumerate" id="x1-18008x4">OemTableId<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: All zero <span class="uwave">(Match any table OEM ID)</span><br 
class="newline" />Description: Match table OEM ID <span class="sout">to be </span>equal to this value<span class="sout">unless all zero</span>.
     </li>
     <li 
  class="enumerate" id="x1-18010x5">TableLength<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Match any table size)</span><br 
class="newline" />Description: Match table size <span class="sout">to be </span>equal to this value<span class="sout">unless </span><span class="sout">0</span>.
     </li>
     <li 
  class="enumerate" id="x1-18012x6">TableSignature<br 
class="newline" />Type: plist data, 4 bytes<br 
class="newline" />Failsafe: All zero <span class="uwave">(Match any table signature)</span><br 
class="newline" />Description: Match table signature <span class="sout">to be </span>equal to this value<span class="sout">unless all zero</span>.
     <!--l. 1082--><p class="noindent" >Note: <span class="sout">Make sure not to specify table signature </span><span class="uwave">Do not use table signatures </span>when the sequence <span class="sout">needs to </span><span class="uwave">must
     </span>be replaced in multiple places. <span class="sout">Especially </span><span class="uwave">This is particularly relevant </span>when performing different <span class="sout">kinds </span><span class="uwave">types </span>of
     renames.
</p>
                                                                                                  
                                                                                                  
     </li></ol>
<a 
 id="x1-18013r21"></a>
<h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a 
 id="x1-190005"></a>Patch Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-19002x1">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-19004x2">Count<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Apply patch to all occurrences found)</span><br 
class="newline" />Description: Number of <span class="sout">patch occurrences to apply. </span><span class="sout">0</span> <span class="sout">applies the patchto all occurrences found</span><span class="uwave">occurrences to
     patch</span>.
     </li>
     <li 
  class="enumerate" id="x1-19006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This ACPI patch will not be used unless set </span><span class="uwave">Set </span>to true <span class="uwave">to apply this ACPI patch</span>.
     </li>
     <li 
  class="enumerate" id="x1-19008x4">Find<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Data to find. Must <span class="uwave">be </span>equal to Replace in size <span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19010x5">Limit<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Search entire ACPI table)</span><br 
class="newline" />Description: Maximum number of bytes to search for. <span class="sout">Can be set to </span><span class="sout">0</span> <span class="sout">to look through the whole ACPI table.
     </span>
     </li>
     <li 
  class="enumerate" id="x1-19012x6">Mask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during find comparison. Allows fuzzy search by ignoring not masked (set
     to zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19014x7">OemTableId<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: All zero <span class="uwave">(Match any table OEM ID)</span><br 
class="newline" />Description: Match table OEM ID <span class="sout">to be </span>equal to this value<span class="sout">unless all zero</span>.
     </li>
     <li 
  class="enumerate" id="x1-19016x8">Replace<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Replacement data of one or more bytes.
     </li>
     <li 
  class="enumerate" id="x1-19018x9">ReplaceMask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during replacement. Allows fuzzy replacement by updating masked (set
                                                                                                  
                                                                                                  
     to non-zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if
     set</span>.
     </li>
     <li 
  class="enumerate" id="x1-19020x10">Skip<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Do not skip any occurrences)</span><br 
class="newline" />Description: Number of found occurrences to <span class="sout">be skipped before replacement is done</span><span class="uwave">skip before replacements
     are applied</span>.
     </li>
     <li 
  class="enumerate" id="x1-19022x11">TableLength<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Match any table size)</span><br 
class="newline" />Description: Match table size <span class="sout">to be </span>equal to this value<span class="sout">unless </span><span class="sout">0</span>.
     </li>
     <li 
  class="enumerate" id="x1-19024x12">TableSignature<br 
class="newline" />Type: plist data, 4 bytes<br 
class="newline" />Failsafe: All zero <span class="uwave">(Match any table signature)</span><br 
class="newline" />Description: Match table signature <span class="sout">to be </span>equal to this value<span class="sout">unless all zero</span>.
     </li></ol>
<!--l. 1183--><p class="noindent" >In <span class="sout">the majority of the cases</span><span class="uwave">most cases, </span>ACPI patches are not useful and <span class="uwave">are </span>harmful:
</p>
     <ul class="itemize1">
     <li class="itemize">Avoid renaming devices with ACPI patches. This may fail or perform improper renaming of unrelated devices
     (e.g. EC and EC0), be unnecessary, or even fail to rename devices in <span class="sout">select </span><span class="uwave">certain </span>tables. For ACPI consistency
     it is much safer to rename devices at <span class="uwave">the </span>I/O Registry level, as done by <a 
href="https://github.com/acidanthera/WhateverGreen" >WhateverGreen</a>.
     </li>
     <li class="itemize"><span class="sout">Try to avoid </span><span class="uwave">Avoid </span>patching _OSI to support a higher <span class="sout">level of feature sets </span><span class="uwave">feature set level </span>whenever possible.
     <span class="sout">Commonly </span><span class="uwave">While </span>this enables a number of <span class="sout">hacks </span><span class="uwave">workarounds </span>on APTIO firmware, <span class="sout">which result in the need
     to add more </span><span class="uwave">it typically results in a need for additional </span>patches. Modern firmware generally does not need <span class="sout">it,
     and those that do are fine with much smaller patches </span><span class="uwave">this and smaller patches work well on firmware that does</span>.
     However, laptop vendors <span class="sout">usually </span><span class="uwave">often </span>rely on this method to determine the availability of functions such as
     modern I2C input support, thermal adjustment and custom feature additions.
     </li>
     <li class="itemize">Avoid patching embedded controller event _Qxx just <span class="sout">for enabling </span><span class="uwave">to enable </span>brightness keys. The conventional
     process to find these keys <span class="sout">usually involves massive modification on DSDT and SSDTs and </span><span class="uwave">typically involves
     significant modifications to DSDT and SSDT files and in addition, </span>the debug kext is not stable on newer systems.
     Please <span class="sout">switch to </span><span class="uwave">use the </span>built-in brightness key discovery <span class="sout">of </span><span class="uwave">in </span><a 
href="https://github.com/acidanthera/BrightnessKeys" >BrightnessKeys</a> instead.
     </li>
     <li class="itemize"><span class="sout">Try to avoid hacky </span><span class="uwave">Avoid making ad hoc </span>changes such as renaming _PRW or _DSM whenever possible.</li></ul>
<!--l. 1217--><p class="noindent" ><span class="sout">Several cases , where patching actually does make sense, </span><span class="uwave">Some cases where patching is actually useful </span>include:
</p>
     <ul class="itemize1">
     <li class="itemize">Refreshing HPET (or another device) method header to avoid compatibility checks by _OSI on legacy hardware.
     _STA method  with  if ((OSFL () == Zero)) { If (HPTE) ... Return (Zero) content  may  be  forced  to
     always return 0xF by replacing A0 10 93 4F 53 46 4C 00 with A4 0A 0F A3 A3 A3 A3 A3.
     </li>
     <li class="itemize">To provide <span class="uwave">a </span>custom method implementation <span class="sout">with in </span><span class="uwave">within </span>an SSDT, <span class="sout">for instance, </span>to inject shutdown <span class="sout">fix </span><span class="uwave">fixes
     </span>on certain computers <span class="uwave">for instance</span>, the original method can be replaced with a dummy name by patching _PTS
     with ZPTS and adding a callback to <span class="uwave">the </span>original method.</li></ul>
<!--l. 1234--><p class="noindent" ><span class="uwave">The </span>Tianocore <a 
href="https://github.com/acidanthera/audk/blob/master/MdePkg/Include/IndustryStandard/AcpiAml.h" >AcpiAml.h</a> source file may help <span class="uwave">with better </span>understanding ACPI opcodes.
                                                                                                  
                                                                                                  
</p><!--l. 1236--><p class="noindent" >Note: Patches of different Find and Replace lengths are unsupported as they may corrupt ACPI tables and make the system
unstable due to area relocation. If such changes are needed, the utilisation of “proxy” patching or the padding of NOP to the
remaining area <span class="sout">might be taken into account</span><span class="uwave">could be considered</span>.
<a 
 id="x1-19025r22"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">4.6   </span> <a 
 id="x1-200006"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-20002x1">FadtEnableReset<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Provide reset register and flag in FADT table to enable reboot and shutdown.
     <!--l. 1252--><p class="noindent" >Mainly required on legacy hardware and <span class="sout">few </span><span class="uwave">a few newer </span>laptops. Can also fix power-button shortcuts. Not
     recommended unless required.
     </p></li>
     <li 
  class="enumerate" id="x1-20004x2">NormalizeHeaders<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description:  Cleanup  ACPI  header  fields  to  workaround  macOS  ACPI  implementation  <span class="sout">bug  causing  </span><span class="uwave">flaws
     that  result  in  </span>boot  crashes.  Reference:  <a 
href="https://alextjam.es/debugging-appleacpiplatform/" >Debugging  AppleACPIPlatform  on  10.13</a>  by  Alex  James  <span class="sout">aka
     theracermaster</span><span class="uwave">(also known as theracermaster)</span>. The issue <span class="sout">is </span><span class="uwave">was </span>fixed in macOS Mojave (10.14).
     </li>
     <li 
  class="enumerate" id="x1-20006x3">RebaseRegions<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Attempt to heuristically relocate ACPI memory regions. Not recommended.
     <!--l. 1272--><p class="noindent" >ACPI  tables  are  often  generated  dynamically  by  <span class="uwave">the  </span>underlying  firmware  implementation.  Among  the
     position-independent code, ACPI tables may contain <span class="uwave">the </span>physical addresses of MMIO areas used for device
     configuration, <span class="sout">usually grouped in regions </span><span class="uwave">typically grouped by region </span>(e.g. OperationRegion). Changing firmware
     settings or hardware configuration, upgrading or patching the firmware inevitably leads to changes in dynamically
     generated ACPI code, which sometimes <span class="sout">lead to </span><span class="uwave">results in </span>the shift of the addresses in <span class="uwave">the </span>aforementioned
     OperationRegion constructions.
     </p><!--l. 1283--><p class="noindent" >For this reason<span class="sout">it is very dangerous to apply any kind </span><span class="uwave">, the application </span>of modifications to ACPI tables <span class="sout">. The
     most reasonable </span><span class="uwave">is extremely risky. The best </span>approach is to make as few <span class="sout">as possible changes to ACPI and try to
     not replace </span><span class="uwave">changes as possible to ACPI tables and to avoid replacing </span>any tables, <span class="sout">especially DSDT </span><span class="uwave">particularly
     DSDT tables</span>. When this <span class="sout">is not possible, then at least attempt to ensure that custom DSDT is </span><span class="uwave">cannot be avoided,
     ensure that any custom DSDT tables are </span>based on the most recent DSDT <span class="sout">or remove writes and reads </span><span class="uwave">tables or
     attempt to remove reads and writes </span>for the affected areas.
     </p><!--l. 1291--><p class="noindent" >When nothing else helps<span class="uwave">, </span>this option could be tried to avoid stalls at PCI Configuration Begin phase of macOS
     booting by attempting to fix the ACPI addresses. It <span class="sout">does not do magic </span><span class="uwave">is not a magic bullet however</span>, and only
     works with <span class="sout">most common </span><span class="uwave">the most typical </span>cases. Do not use unless absolutely required <span class="uwave">as it can have the opposite
     effect on certain platforms and result in boot failures</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-20008x4">ResetHwSig<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Reset FACS table HardwareSignature value to 0.
     <!--l. 1304--><p class="noindent" >This works around firmware that fail to maintain hardware signature across the reboots and cause issues with
     waking from hibernation.
     </p></li>
     <li 
  class="enumerate" id="x1-20010x5">ResetLogoStatus<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Reset BGRT table Displayed status field to false.
     <!--l. 1314--><p class="noindent" >This works around firmware that provide a BGRT table but fail to handle screen updates afterwards.
</p>
     </li></ol>
<a 
 id="x1-20011r17"></a>
<h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-210005"></a>Booter</h3>
<a 
 id="x1-21001r23"></a>
<h4 class="subsectionHead"><span class="titlemark">5.1   </span> <a 
 id="x1-220001"></a>Introduction</h4>
<!--l. 1324--><p class="noindent" >This section allows <span class="sout">to apply different kinds </span><span class="uwave">the application of different types </span>of UEFI modifications <span class="sout">on </span><span class="uwave">to operating system
bootloaders, primarily the </span>Apple bootloader (boot.efi). The modifications currently provide various patches and
environment alterations for different firmware <span class="uwave">types</span>. Some of these features were originally implemented as <span class="sout">a </span>part of
<a 
href="https://github.com/acidanthera/AptioFixPkg" >AptioMemoryFix.efi</a>, which is no longer maintained. <span class="sout">See </span><span class="uwave">Refer to the </span><a 
href="#x1-860005">Tips and Tricks</a> section for <span class="sout">migration steps</span><span class="uwave">instructions on
migration</span>.
</p><!--l. 1333--><p class="noindent" >If this is used for the first time on <span class="sout">a </span>customised firmware, <span class="sout">there is a list of checks to do first. Prior to starting, </span>the following
requirements should be <span class="sout">fulfilled</span><span class="uwave">met before starting</span>:
</p>
     <ul class="itemize1">
     <li class="itemize">Most up-to-date UEFI firmware (check the motherboard vendor website).
     </li>
     <li class="itemize">Fast Boot and Hardware Fast Boot disabled in firmware settings if present.
     </li>
     <li class="itemize">Above 4G Decoding or similar enabled in firmware settings if present. Note <span class="sout">, </span>that on some motherboards<span class="sout">(notably
     </span><span class="uwave">, notably the </span>ASUS WS-X299-PRO<span class="sout">) this option causes adverse effects , </span><span class="uwave">, this option results in adverse effects </span>and
     must be disabled. While no other motherboards with the same issue are known, this option should be checked
     first whenever erratic boot failures are encountered.
     </li>
     <li class="itemize">DisableIoMapper quirk enabled, or VT-d disabled in firmware settings if present, or ACPI DMAR table deleted.
     </li>
     <li class="itemize">No ‘slide‘ boot argument present in NVRAM or anywhere else. It is not necessary unless the system cannot be
     booted at all or No slide values are usable! Use custom slide! message can be seen in the log.
     </li>
     <li class="itemize">CFG Lock (MSR 0xE2 write protection) disabled in firmware settings if present. Consider <a 
href="https://github.com/LongSoft/UEFITool/blob/master/UEFIPatch/patches.txt" >patching it</a> if no option
     is available (for advanced users only). See <a 
href="#x1-390008">VerifyMsrE2</a> notes for more details.
     </li>
     <li class="itemize">CSM (Compatibility Support Module) disabled in firmware settings if present. On NVIDIA 6xx/AMD 2xx or
     older, GOP ROM may have to be flashed first. Use <a 
href="https://www.win-raid.com/t892f16-AMD-and-Nvidia-GOP-update-No-requests-DIY.html" >GopUpdate</a> (see the second post) or <a 
href="http://www.insanelymac.com/forum/topic/299614-asus-eah6450-video-bios-uefi-gop-upgrade-and-gop-uefi-binary-in-efi-for-many-ati-cards/page-1#entry2042163" >AMD UEFI GOP
     MAKER</a> in case of any potential confusion.
     </li>
     <li class="itemize">EHCI/XHCI Hand-off enabled in firmware settings only if boot stalls unless USB devices are disconnected.
     </li>
     <li class="itemize">VT-x, Hyper Threading, Execute Disable Bit enabled in firmware settings if present.
     </li>
     <li class="itemize">While it may not be required, sometimes Thunderbolt support, Intel SGX, and Intel Platform Trust may
     have to be disabled in firmware settings present.</li></ul>
<!--l. 1373--><p class="noindent" >When debugging sleep issues<span class="uwave">, </span>Power Nap and automatic power off <span class="sout">may be (temporarily) disabled, </span><span class="uwave">(</span>which appear to
sometimes cause wake to black screen or boot loop issues on older platforms<span class="sout">. The particular </span><span class="uwave">) may be temporarily
disabled. The specific </span>issues may vary, but <span class="sout">in general </span><span class="uwave">generally </span>ACPI tables should be looked <span class="sout">up first. </span><span class="uwave">at first.
</span>
</p><!--l. 1380--><p class="noindent" >Here is an example of a <span class="sout">bug </span><span class="uwave">defect </span>found in some <a 
href="http://www.insanelymac.com/forum/topic/329624-need-cmos-reset-after-sleep-only-after-login/#entry2534645" >Z68 motherboards</a>. To turn Power Nap and the others off<span class="uwave">, </span>run the following
commands in Terminal: </p><!--l. 1383-->
<div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x1-22001r1"></a></span>sudo pmset autopoweroff 0 <br /><span class="label"><a 
 id="x1-22002r2"></a></span>sudo pmset powernap 0 <br /><span class="label"><a 
 id="x1-22003r3"></a></span>sudo pmset standby 0
                                                                                                  
                                                                                                  
</div>
<!--l. 1389--><p class="noindent" >Note: These settings may <span class="sout">reset at hardware change </span><span class="uwave">be reset by hardware changes </span>and in certain other circumstances. To view
their current state<span class="sout">use </span><span class="uwave">, use the </span>pmset -g command in Terminal.
<a 
 id="x1-22004r25"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">5.2   </span> <a 
 id="x1-230002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-23002x1">MmioWhitelist<br 
class="newline" />Type: plist array<br 
class="newline" />Description: Designed to be filled with plist dict values, describing addresses critical for particular firmware
     functioning when DevirtualiseMmio quirk is in use. See <span class="uwave">the </span><a 
href="#x1-240003">MmioWhitelist Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-23004x2">Patch<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Perform binary patches in booter.
     <!--l. 1410--><p class="noindent" >Designed to be filled with plist dictionary values, describing each patch. See <span class="uwave">the </span><a 
href="#x1-250004">Patch Properties</a> section
     below.
     </p></li>
     <li 
  class="enumerate" id="x1-23006x3">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply individual booter quirks described in <span class="uwave">the </span><a 
href="#x1-260005">Quirks Properties</a> section below.
     </li></ol>
<a 
 id="x1-23007r26"></a>
<h4 class="subsectionHead"><span class="titlemark">5.3   </span> <a 
 id="x1-240003"></a>MmioWhitelist Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-24002x1">Address<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Exceptional MMIO address, which memory descriptor should be left virtualised (unchanged) by
     DevirtualiseMmio. This means that the firmware will be able to directly communicate with this memory region
     during operating system functioning, because the region this value is in will be assigned a virtual address.
     <!--l. 1434--><p class="noindent" >The  addresses  written  here  must  be  part  of  the  memory  map,  have  EfiMemoryMappedIO type  and
     EFI_MEMORY_RUNTIME attribute (highest bit) set. <span class="sout">To </span><span class="uwave">The debug log can be used to </span>find the list of the candidates<span class="sout">the
     debug log can be used</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-24004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-24006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description:  <span class="sout">This  address  will  be  devirtualised  unless  set  to  </span><span class="sout">true</span><span class="uwave">Exclude  MMIO  address  from  the
     devirtualisation procedure</span>.
     </li></ol>
<a 
 id="x1-24007r27"></a>
                                                                                                  
                                                                                                  
<h4 class="subsectionHead"><span class="titlemark">5.4   </span> <a 
 id="x1-250004"></a>Patch Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-25002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any <span class="uwave">(Apply to any supported architecture)</span><br 
class="newline" />Description: Booter patch architecture (<span class="sout">Any</span><span class="sout">, </span>i386, x86_64).
     </li>
     <li 
  class="enumerate" id="x1-25004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-25006x3">Count<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Apply to all occurrences found)</span><br 
class="newline" />Description: Number of patch occurrences to apply. <span class="sout">0</span> <span class="sout">applies the patch to all occurrences found. </span>
     </li>
     <li 
  class="enumerate" id="x1-25008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This booter patch will not be used unless set </span><span class="uwave">Set </span>to true <span class="uwave">to activate this booter patch</span>.
     </li>
     <li 
  class="enumerate" id="x1-25010x5">Find<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Data to find. <span class="sout">This must </span><span class="uwave">Must be </span>equal to Replace in size <span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25012x6">Identifier<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Empty string</span><span class="uwave">Any</span> <span class="uwave">(Match any booter)</span><br 
class="newline" />Description:  Apple for  macOS  booter  (generally  boot.efi);  or  a  name  with  <span class="sout">suffix  (e.g.  </span><span class="uwave">a  suffix,  such  as
     </span>bootmgfw.efi<span class="sout">) </span><span class="uwave">, </span>for a specific booter<span class="sout">; or </span><span class="sout">Any</span> <span class="sout">/ empty string (failsafe) to match any booter</span>.
     </li>
     <li 
  class="enumerate" id="x1-25014x7">Limit<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Search the entire booter)</span><br 
class="newline" />Description: Maximum number of bytes to search for. <span class="sout">Can be set to </span><span class="sout">0</span> <span class="sout">to look through the whole booter. </span>
     </li>
     <li 
  class="enumerate" id="x1-25016x8">Mask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during find comparison. Allows fuzzy search by ignoring not masked (set
     to zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Find in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25018x9">Replace<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Replacement data of one or more bytes.
     </li>
     <li 
  class="enumerate" id="x1-25020x10">ReplaceMask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during replacement. Allows fuzzy replacement by updating masked (set
     to non-zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if
     set</span>.
     </li>
     <li 
  class="enumerate" id="x1-25022x11">Skip<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Do not skip any occurrences)</span><br 
class="newline" />Description: Number of found occurrences to <span class="sout">be skipped before replacement is done</span><span class="uwave">skip before replacements
     are applied</span>.
     </li></ol>
<a 
 id="x1-25023r28"></a>
<h4 class="subsectionHead"><span class="titlemark">5.5   </span> <a 
 id="x1-260005"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-26002x1">AllowRelocationBlock<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Allows booting macOS through a relocation block.
     <!--l. 1557--><p class="noindent" ><span class="sout">Relocation </span><span class="uwave">The relocation </span>block is a scratch buffer allocated in <span class="uwave">the </span>lower 4 GB <span class="sout">to be </span>used for loading the kernel
     and related structures by EfiBoot on <span class="sout">firmwares where lower memory </span><span class="uwave">firmware where the lower memory region </span>is
     otherwise occupied by <span class="sout">the (assumedto be</span><span class="uwave">(assumed</span>) non-runtime data. Right before kernel startup<span class="uwave">, </span>the relocation
     block is copied back to lower addresses. Similarly<span class="uwave">, </span>all the other addresses pointing to <span class="uwave">the </span>relocation block are
     also carefully adjusted. <span class="sout">Relocation </span><span class="uwave">The relocation </span>block can be used when:
</p>
         <ul class="itemize1">
         <li class="itemize">No better slide exists (all the memory is used)
         </li>
         <li class="itemize">slide=0 is forced (by an argument or safe mode)
         </li>
         <li class="itemize">KASLR (slide) is unsupported (this is macOS 10.7 or older)</li></ul>
     <!--l. 1572--><p class="noindent" >This quirk requires ProvideCustomSlide to <span class="sout">also </span>be enabled and <span class="sout">generally needs </span><span class="uwave">typically also requires
     enabling </span>AvoidRuntimeDefrag to <span class="sout">work </span><span class="uwave">function </span>correctly. Hibernation is not supported when booting with a
     relocation block<span class="sout">(but relocation block is not always used </span><span class="uwave">, which will only be used if required </span>when the quirk is
     enabled<span class="sout">)</span>.
     </p><!--l. 1577--><p class="noindent" >Note: While this quirk is required to run older macOS versions on platforms with used lower memory<span class="uwave">, </span>it is not
     compatible with some hardware and macOS 11. In <span class="sout">this case one may try to use </span><span class="uwave">such cases, consider using
     </span>EnableSafeModeSlide instead.
     </p></li>
     <li 
  class="enumerate" id="x1-26004x2">AvoidRuntimeDefrag<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect from boot.efi runtime memory defragmentation.
     <!--l. 1589--><p class="noindent" >This option fixes UEFI runtime services (date, time, NVRAM, power control, etc.) support on firmware that uses SMM
     backing for <span class="sout">select </span><span class="uwave">certain </span>services such as variable storage. SMM may try to access <span class="sout">physical addresses, but they get
     </span><span class="uwave">memory by physical addresses in non-SMM areas but this may sometimes have been </span>moved by boot.efi. <span class="uwave">This option
     prevents boot.efi from moving such data. </span>
     </p><!--l. 1597--><p class="noindent" >Note: Most types of firmware, apart from Apple and VMware, need this quirk.
     </p></li>
     <li 
  class="enumerate" id="x1-26006x3">DevirtualiseMmio<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Remove runtime attribute from <span class="sout">select </span><span class="uwave">certain </span>MMIO regions.
     <!--l. 1605--><p class="noindent" >This <span class="sout">option reduces </span><span class="uwave">quirk reduces the </span>stolen memory footprint <span class="sout">from </span><span class="uwave">in </span>the memory map by removing <span class="uwave">the </span>runtime bit for
     known memory regions. This quirk may result in <span class="sout">the </span><span class="uwave">an </span>increase of KASLR slides available <span class="sout">, but </span><span class="uwave">but without additional
     measures, it </span>is not necessarily compatible with the target board<span class="sout">without additional measures. In general this frees from </span><span class="uwave">.
     This quirk typically frees between </span>64 <span class="sout">to </span><span class="uwave">and </span>256 megabytes of memory<span class="sout">(</span><span class="uwave">, </span>present in the debug log<span class="sout">)</span>, and on some
     platforms<span class="sout">it </span><span class="uwave">, </span>is the only way to boot macOS, which otherwise fails with allocation <span class="sout">error at </span><span class="uwave">errors at the </span>bootloader
     stage.
     </p><!--l. 1613--><p class="noindent" >This option is <span class="sout">generally </span>useful on all types of firmware, except <span class="uwave">for </span>some very old ones such as Sandy Bridge. On <span class="sout">some
     types of </span><span class="uwave">certain </span>firmware, a list of addresses that need virtual addresses for proper NVRAM and hibernation functionality
     may be required. Use the MmioWhitelist section for this.
     </p></li>
     <li 
  class="enumerate" id="x1-26008x4">DisableSingleUser<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Disable single user mode.
     <!--l. 1624--><p class="noindent" >This is a security option that restricts the activation of single user mode by ignoring <span class="uwave">the </span>CMD+S hotkey and <span class="uwave">the </span>-s boot
     argument. The behaviour with this quirk enabled is supposed to match T2-based model behaviour. Refer to <span class="uwave">this </span><a 
href="https://web.archive.org/web/20200517125051/https://support.apple.com/en-us/HT201573" >archived
     article</a> to understand how to use single user mode with this quirk enabled.
     </p></li>
     <li 
  class="enumerate" id="x1-26010x5">DisableVariableWrite<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect from macOS NVRAM write access.
     <!--l. 1638--><p class="noindent" >This is a security option that restricts NVRAM access in macOS. This quirk requires OC_FIRMWARE_RUNTIME protocol
     implemented in OpenRuntime.efi.
     </p><!--l. 1642--><p class="noindent" >Note: This quirk can also be used as an <span class="sout">ugly workaround to buggy </span><span class="uwave">ad hoc workaround for defective </span>UEFI runtime
     services implementations that <span class="sout">fail </span><span class="uwave">are unable </span>to write variables to NVRAM and <span class="sout">break the rest of the operating system
     </span><span class="uwave">results in operating system failures</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26012x6">DiscardHibernateMap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Reuse original hibernate memory map.
     <!--l. 1652--><p class="noindent" >This option forces <span class="uwave">the </span>XNU kernel to ignore <span class="uwave">a </span>newly supplied memory map and assume that it did not change after
     waking from hibernation. This behaviour is required <span class="sout">to work by Windows , which mandates to </span><span class="uwave">by Windows to work.
     Windows mandates </span><a 
href="https://docs.microsoft.com/en-us/windows-hardware/design/device-experiences/oem-uefi#hibernation-state-s4-transition-requirements" >preserving</a> runtime memory size and location after S4 wake.
     </p><!--l. 1662--><p class="noindent" >Note: This may be used to workaround <span class="sout">buggy memory maps on olderhardware, and is now considered rare legacy
     </span><span class="uwave">defective memory map implementations on older, rare legacy hardware</span>. Examples of such hardware are Ivy Bridge
     laptops with Insyde firmware <span class="sout">, such as </span><span class="uwave">such as the </span>Acer V3-571G. Do not use this <span class="sout">unless a complete </span><span class="uwave">option without a full
     </span>understanding of the <span class="sout">consequences can be ensured</span><span class="uwave">implications</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26014x7">EnableSafeModeSlide<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Patch bootloader to have KASLR enabled in safe mode.
     <!--l. 1673--><p class="noindent" >This option is relevant to <span class="sout">the users that have </span><span class="uwave">users with </span>issues booting to safe mode (e.g. by holding shift or <span class="sout">using </span><span class="uwave">with
     using the </span>-x boot argument). By default<span class="uwave">, </span>safe mode forces 0 slide as if the system was launched with <span class="uwave">the </span>slide=0 boot
     argument. <span class="sout">This quirk tries to patch </span>
</p>
         <ul class="itemize1">
         <li class="itemize"><span class="uwave">This quirk attempts to patch the </span>boot.efi <span class="sout">to lift that limitation and let some other value </span><span class="uwave">file to remove
                                                                                                  
                                                                                                  
         this limitation and to allow using other values </span>(from 1 to 255 <span class="sout">) be used. </span><span class="uwave">inclusive). </span>
         </li>
         <li class="itemize">This quirk requires <span class="uwave">enabling </span>ProvideCustomSlide<span class="sout">to be enabled. </span><span class="uwave">. </span></li></ul>
     <!--l. 1690--><p class="noindent" >Note: The <span class="sout">necessity of this quirk is determined by safe modeavailability. If </span><span class="uwave">need for this option is dependent on the
     availability of safe mode. It can be enabled when </span>booting to safe mode fails<span class="sout">, this option can be tried to be
     enabled</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26016x8">EnableWriteUnprotector<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Permit write access to UEFI runtime services code.
     <!--l. 1701--><p class="noindent" >This option bypasses R<span class='accenthat'>X</span> permissions in code pages of UEFI runtime services by removing write protection (WP) bit from
     CR0 register during their execution. This quirk requires OC_FIRMWARE_RUNTIME protocol implemented in
     OpenRuntime.efi.
     </p><!--l. 1706--><p class="noindent" >Note: This quirk may potentially weaken firmware security<span class="sout">, please </span><span class="uwave">. Please </span>use RebuildAppleMemoryMap if the firmware
     supports memory attributes table (MAT). Refer to <span class="uwave">the </span>OCABC: MAT support is 1/0 log entry to determine whether
     MAT is supported.
     </p></li>
     <li 
  class="enumerate" id="x1-26018x9">ForceExitBootServices<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Retry ExitBootServices with new memory map on failure.
     <!--l. 1716--><p class="noindent" >Try to ensure that <span class="uwave">the </span>ExitBootServices call succeeds<span class="sout">even with outdated MemoryMap key argument by obtaining </span><span class="uwave">. If
     required, an outdated </span><span class="uwave">MemoryMap</span> <span class="uwave">key argument can be used by obtaining the </span>current memory map and retrying <span class="uwave">the
     </span>ExitBootServices call.
     </p><!--l. 1721--><p class="noindent" >Note: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by early boot crashes of the firmware. Do not use this <span class="uwave">option
     </span>without a full understanding of the <span class="sout">consequences</span><span class="uwave">implications</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26020x10">ProtectMemoryRegions<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect memory regions from incorrect access.
     <!--l. 1730--><p class="noindent" >Some types of firmware incorrectly map <span class="sout">select </span><span class="uwave">certain </span>memory regions:
</p>
         <ul class="itemize1">
         <li class="itemize"><span class="uwave">The </span>CSM region can be marked as boot services code<span class="uwave">, </span>or data, which leaves it as free memory for <span class="uwave">the </span>XNU
         kernel.
         </li>
         <li class="itemize">MMIO regions can be marked as reserved memory and stay unmapped<span class="sout">, but may </span><span class="uwave">. They may however </span>be
         required to be accessible at runtime for NVRAM support.</li></ul>
     <!--l. 1741--><p class="noindent" >This quirk attempts to fix <span class="uwave">the </span>types of these regions, e.g. ACPI NVS for CSM or MMIO for MMIO.
     </p><!--l. 1744--><p class="noindent" >Note: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by artifacts, sleep wake issues, and boot failures. <span class="sout">Only </span><span class="uwave">This quirk
     is typically only required by </span>very old firmware<span class="sout">typically need this quirk</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26022x11">ProtectSecureBoot<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect UEFI Secure Boot variables from being written.
     <!--l. 1755--><p class="noindent" >Reports security violation during attempts to write to db, dbx, PK, and KEK variables from the operating
     system.
                                                                                                  
                                                                                                  
     </p><!--l. 1758--><p class="noindent" >Note: This quirk <span class="sout">mainly </span>attempts to avoid issues with NVRAM implementations with <span class="sout">problematic
     defragmentation</span><span class="uwave">fragmentation issues</span>, such as <span class="sout">select Insyde or </span><span class="uwave">on the </span>MacPro5,1 <span class="uwave">as well as on certain Insyde firmware
     without garbage collection or with defective garbage collection</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26024x12">ProtectUefiServices<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Protect UEFI services from being overridden by the firmware.
     <!--l. 1768--><p class="noindent" >Some modern firmware, including on virtual machines such as VMware, may update pointers to UEFI services during
     driver loading and related actions. <span class="sout">Consequentially this directly breaks </span><span class="uwave">Consequently, this directly obstructs
     </span>other quirks that affect memory management, such as DevirtualiseMmio, ProtectMemoryRegions, or
     RebuildAppleMemoryMap, and may also <span class="sout">break </span><span class="uwave">obstruct </span>other quirks depending on the <span class="sout">effects of these</span><span class="uwave">scope of
     such</span>.
     </p><!--l. 1774--><p class="noindent" >Note: On VMware<span class="uwave">, </span>the need for this quirk may be <span class="sout">diagnosed by </span><span class="uwave">determined by the appearance of the </span>“Your Mac OS
     guest might run unreliably with more than one virtual core.” message.
     </p></li>
     <li 
  class="enumerate" id="x1-26026x13">ProvideCustomSlide<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Provide custom KASLR slide on low memory.
     <!--l. 1783--><p class="noindent" >This option performs memory map analysis of the firmware and checks whether all slides (from 1 to 255) can be
     used. As boot.efi generates this value randomly with rdrand or pseudo randomly rdtsc, there is a
     chance of boot failure when it chooses a conflicting slide. In <span class="sout">case </span><span class="uwave">cases where </span>potential conflicts exist, this
     option forces macOS to <span class="sout">use </span><span class="uwave">select </span>a pseudo random value <span class="sout">among the available ones</span><span class="uwave">from the available
     values</span>. This also ensures that <span class="uwave">the </span>slide= argument is never passed to the operating system <span class="uwave">(</span>for security
     reasons<span class="uwave">)</span>.
     </p><!--l. 1792--><p class="noindent" >Note: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by <span class="uwave">the </span>OCABC: Only N/256 slide values are usable!
     message in the debug log. <span class="sout">If the message is present, this option is to be enabled. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-26028x14">ProvideMaxSlide<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Provide maximum KASLR slide when higher ones are unavailable.
     <!--l. 1804--><p class="noindent" >This option overrides the maximum slide of 255 by a user specified value between 1 and 254 <span class="sout">inclusive </span><span class="uwave">(inclusive) </span>when
     ProvideCustomSlide is enabled. It is <span class="sout">believed </span><span class="uwave">assumed </span>that modern firmware allocates pool memory from top to
     bottom, effectively resulting in free memory when slide scanning is used later as temporary memory during
     kernel loading. When such memory is not available, this option <span class="sout">can stop </span><span class="uwave">stops </span>the evaluation of higher
     slides.
     </p><!--l. 1811--><p class="noindent" >Note: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by random boot <span class="sout">failure </span><span class="uwave">failures </span>when ProvideCustomSlide is
     enabled and the randomized slide <span class="sout">fall </span><span class="uwave">falls </span>into the unavailable range. When AppleDebug is enabled, <span class="sout">usually </span>the debug
     log <span class="sout">may contain </span><span class="uwave">typically contains </span>messages such as AAPL: [EB|‘LD:LKC] } Err(0x9). To find the optimal value,
     <span class="sout">manually </span>append slide=X<span class="sout">to </span><span class="uwave">, where </span><span class="uwave">X</span> <span class="uwave">is the slide value, to the </span>boot-args and <span class="sout">log </span><span class="uwave">select </span>the largest one that <span class="sout">will </span><span class="uwave">does
     </span>not result in boot failures.
     </p></li>
     <li 
  class="enumerate" id="x1-26030x15">RebuildAppleMemoryMap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Generate <span class="sout">Memory Map compatible with macOS</span><span class="uwave">macOS compatible Memory Map</span>.
     <!--l. 1826--><p class="noindent" ><span class="uwave">The </span>Apple kernel has several limitations <span class="sout">in parsing </span><span class="uwave">on parsing the </span>UEFI memory map:
</p>
         <ul class="itemize1">
                                                                                                  
                                                                                                  
         <li class="itemize"><span class="uwave">The </span>Memory map size must not exceed 4096 bytes as <span class="uwave">the </span>Apple kernel maps it as a single 4K page. <span class="sout">Since
         </span><span class="uwave">As </span>some types of firmware can have very large memory maps, potentially over 100 entries, the Apple kernel
         will crash on boot.
         </li>
         <li class="itemize"><span class="uwave">The </span>Memory attributes table is ignored. EfiRuntimeServicesCode memory statically gets RX permissions
         <span class="sout">, and </span><span class="uwave">while </span>all other memory types get RW permissions. <span class="sout">Since </span><span class="uwave">As </span>some firmware drivers may write to global
         variables at runtime, <span class="uwave">the </span>Apple kernel will crash at calling UEFI runtime services <span class="sout">, unless </span><span class="uwave">unless the </span>driver
         .data section has <span class="uwave">a </span>EfiRuntimeServicesData type.</li></ul>
     <!--l. 1842--><p class="noindent" >To workaround these limitations, this quirk applies memory attribute table permissions to the memory map passed to the
     Apple kernel and optionally attempts to unify contiguous slots of similar types if the resulting memory map exceeds 4
     KB.
     </p><!--l. 1847--><p class="noindent" >Note 1: Since several types of firmware come with incorrect memory protection tables, this quirk often comes paired with
     SyncRuntimePermissions.
     </p><!--l. 1850--><p class="noindent" >Note 2: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by early boot failures. This quirk replaces
     EnableWriteUnprotector on firmware supporting Memory Attribute Tables (MAT). This quirk is <span class="sout">usually </span><span class="uwave">typically
     </span>unnecessary when using OpenDuetPkg <span class="sout">, </span>but may be required to boot macOS 10.6, and earlier, for reasons that are <span class="sout">not
     clear</span><span class="uwave">as yet unclear</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-26032x16">SetupVirtualMap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Setup virtual memory at SetVirtualAddresses.
     <!--l. 1862--><p class="noindent" >Some types of firmware access memory by virtual addresses after a SetVirtualAddresses call, resulting in early boot
     crashes. This quirk workarounds the problem by performing early boot identity mapping of assigned virtual addresses to
     physical memory.
     </p><!--l. 1867--><p class="noindent" >Note: The <span class="sout">necessity of </span><span class="uwave">need for </span>this quirk is determined by early boot failures. <span class="sout">Currently, new firmware with memory
     protection support (such as OVMF) do not support this quirk. See </span><span class="sout">. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-26034x17">SignalAppleOS<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Report macOS being loaded through OS Info for any OS.
     <!--l. 1880--><p class="noindent" >This quirk is useful on Mac firmware, which <span class="sout">behaves differently in different OS</span><span class="uwave">loads different operating systems with
     different hardware configurations</span>. For example, it is supposed to enable Intel GPU in Windows and Linux in some
     dual-GPU MacBook models.
     </p></li>
     <li 
  class="enumerate" id="x1-26036x18">SyncRuntimePermissions<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Update memory permissions for <span class="uwave">the </span>runtime environment.
     <!--l. 1890--><p class="noindent" >Some types of firmware fail to properly handle runtime permissions: </p>
         <ul class="itemize1">
         <li class="itemize">They incorrectly mark OpenRuntime as not executable in the memory map.
         </li>
         <li class="itemize">They incorrectly mark OpenRuntime as not executable in the memory attributes table.
         </li>
         <li class="itemize">They lose entries from the memory attributes table after OpenRuntime is loaded.
         </li>
         <li class="itemize">They mark items in the memory attributes table as read-write-execute.</li></ul>
     <!--l. 1901--><p class="noindent" >This quirk tries to update memory map and memory attributes table to correct this.
     </p><!--l. 1903--><p class="noindent" >Note: The need for this quirk is indicated by early boot failures. Only firmware released after 2017 is typically
                                                                                                  
                                                                                                  
     affected.
</p>
     </li></ol>
<a 
 id="x1-26037r24"></a>
<h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-270006"></a>DeviceProperties</h3>
<a 
 id="x1-27001r29"></a>
<h4 class="subsectionHead"><span class="titlemark">6.1   </span> <a 
 id="x1-280001"></a>Introduction</h4>
<!--l. 1912--><p class="noindent" >Device configuration is provided to macOS with a dedicated buffer, called EfiDevicePathPropertyDatabase. This buffer is a
serialised map of DevicePaths to a map of property names and their values.
</p><!--l. 1916--><p class="noindent" >Property data can be debugged with <a 
href="https://github.com/acidanthera/gfxutil" >gfxutil</a>. To obtain current property data<span class="uwave">, </span>use the following command in macOS:
</p><!--l. 1919-->
<div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x1-28001r1"></a></span>ioreg -lw0 -p IODeviceTree -n efi -r -x | grep device-properties | <br /><span class="label"><a 
 id="x1-28002r2"></a></span>  sed &#x0027;s/.*&#x003C;//;s/&#x003E;.*//&#x0027; &#x003E; /tmp/device-properties.hex &#x0026;&#x0026; <br /><span class="label"><a 
 id="x1-28003r3"></a></span>  gfxutil /tmp/device-properties.hex /tmp/device-properties.plist &#x0026;&#x0026; <br /><span class="label"><a 
 id="x1-28004r4"></a></span>  cat /tmp/device-properties.plist
</div>
<!--l. 1926--><p class="noindent" >Device properties are part of the IODeviceTree (gIODT) plane of <span class="uwave">the </span>macOS I/O Registry. This plane has several construction
stages relevant for the platform initialisation. While the early construction stage is performed by the XNU kernel in the
IODeviceTreeAlloc method, the majority of the construction is performed by the platform expert, implemented in
AppleACPIPlatformExpert.kext.
</p><!--l. 1933--><p class="noindent" >AppleACPIPlatformExpert incorporates two stages of IODeviceTree construction implemented by calling <br 
class="newline" />AppleACPIPlatformExpert::mergeDeviceProperties:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-28006x1">During ACPI table initialisation through the recursive ACPI namespace scanning by the calls to <br 
class="newline" />AppleACPIPlatformExpert::createDTNubs.
     </li>
     <li 
  class="enumerate" id="x1-28008x2">During IOService registration (IOServices::registerService) callbacks implemented as a part of <br 
class="newline" />AppleACPIPlatformExpert::platformAdjustService function and its private worker method <br 
class="newline" />AppleACPIPlatformExpert::platformAdjustPCIDevice specific to the PCI devices.</li></ol>
<!--l. 1950--><p class="noindent" >The application of the stages depends on the device presence in ACPI tables. The first stage applies very early but exclusively
to the devices present in ACPI tables. The second stage applies to all devices much later after the PCI configuration and may
repeat the first stage if the device was not present in ACPI.
</p><!--l. 1955--><p class="noindent" >For all kernel drivers <span class="sout">, which </span><span class="uwave">that </span>may inspect the IODeviceTree plane without probing<span class="uwave">, such as </span><span class="uwave">Lilu</span> <span class="uwave">and its plugins </span>(e.g.
<span class="sout">Lilu</span> <span class="sout">and its plugins such as </span>WhateverGreen)<span class="sout">it is particularly </span><span class="uwave">, it is especially </span>important to ensure device presence in the ACPI
tables. <span class="sout">Failing </span><span class="uwave">A failure </span>to do so may result in <span class="sout">all kinds of </span>erratic behaviour caused by ignoring the injected
device properties as they were not constructed at the first stage. See SSDT-IMEI.dsl and SSDT-BRG0.dsl for an
example.
<a 
 id="x1-28009r31"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">6.2   </span> <a 
 id="x1-290002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-29002x1">Add<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Sets device properties from a map (plist dict) of device paths to a map (plist dict) of variable
     names and their values in plist <span class="sout">metadata</span><span class="uwave">multidata</span> format. Device paths must be provided in canonic string
     format (e.g. PciRoot(0x0)/Pci(0x1,0x0)/Pci(0x0,0x0)). Properties will only be set if not present and not
     deleted.
     <!--l. 1976--><p class="noindent" >Note: Currently properties may only be (formerly) added by the original driver, so unless a separate driver was
     installed, there is no reason to delete the variables.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-29004x2">Delete<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Removes device properties from a map (plist dict) of device paths to an array (plist array)
     of variable names in plist string format.
     </li></ol>
<a 
 id="x1-29005r32"></a>
<h4 class="subsectionHead"><span class="titlemark">6.3   </span> <a 
 id="x1-300003"></a>Common Properties</h4>
<!--l. 1990--><p class="noindent" >Some known properties include:
</p>
     <ul class="itemize1">
     <li class="itemize">device-id
     User-specified device identifier used for I/O Kit matching. Has 4 byte data type.
     </li>
     <li class="itemize">vendor-id
     User-specified vendor identifier used for I/O Kit matching. Has 4 byte data type.
     </li>
     <li class="itemize">AAPL,ig-platform-id
     Intel GPU framebuffer identifier used for framebuffer selection on Ivy Bridge and newer. Has 4 byte data type.
     </li>
     <li class="itemize">AAPL,snb-platform-id
     Intel GPU framebuffer identifier used for framebuffer selection on Sandy Bridge. Has 4 byte data type.
     </li>
     <li class="itemize">layout-id
     Audio layout used for AppleHDA layout selection. Has 4 byte data type.</li></ul>
<a 
 id="x1-30001r30"></a>
<h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-310007"></a>Kernel</h3>
<a 
 id="x1-31001r33"></a>
<h4 class="subsectionHead"><span class="titlemark">7.1   </span> <a 
 id="x1-320001"></a>Introduction</h4>
<!--l. 2023--><p class="noindent" >This section allows <span class="sout">to apply </span><span class="uwave">the application of </span>different kinds of kernelspace modifications on Apple Kernel
(<a 
href="https://opensource.apple.com/source/xnu" >XNU</a>). The modifications currently provide driver (kext) injection, kernel and driver patching, and driver
blocking.
<a 
 id="x1-32001r35"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">7.2   </span> <a 
 id="x1-330002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-33002x1">Add<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Load selected kernel drivers from OC/Kexts directory.
     <!--l. 2037--><p class="noindent" >Designed to be filled with plist dict values, describing each driver. See <span class="uwave">the </span><a 
href="#x1-340003">Add Properties</a> section below.
     Kernel driver load order follows the item order in the array, thus the dependencies should be written prior to
     their consumers.
     </p><!--l. 2042--><p class="noindent" >To track the dependency order, inspect the OSBundleLibraries key in the Info.plist of the kext. Any kext
     mentioned in the OSBundleLibraries of the other kext must precede this kext.
     </p><!--l. 2046--><p class="noindent" >Note: Kexts may have inner kexts (Plug-Ins) in their bundle. Each inner kext must be added separately.
     </p></li>
     <li 
  class="enumerate" id="x1-33004x2">Block<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Remove selected kernel drivers from prelinked kernel.
                                                                                                  
                                                                                                  
     <!--l. 2055--><p class="noindent" >Designed to be filled with plist dictionary values, describing each blocked driver. See <span class="uwave">the </span><a 
href="#x1-350004">Block Properties</a>
     section below.
     </p></li>
     <li 
  class="enumerate" id="x1-33006x3">Emulate<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Emulate <span class="sout">select </span><span class="uwave">certain </span>hardware in kernelspace via parameters described in <span class="uwave">the </span><a 
href="#x1-360005">Emulate Properties</a>
     section below.
     </li>
     <li 
  class="enumerate" id="x1-33008x4">Force<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Load kernel drivers from system volume if they are not cached.
     <!--l. 2070--><p class="noindent" >Designed to be filled with plist dict values, describing each driver. See <span class="uwave">the </span><a 
href="#x1-370006">Force Properties</a> section below. This
     section resolves the problem of injecting drivers that depend on other drivers, which are not cached otherwise.
     The issue normally affects older operating systems, where various dependency kexts, such as IOAudioFamily or
     IONetworkingFamily may not be present in the kernel cache by default. <span class="sout">Kernel </span><span class="uwave">The kernel </span>driver load order
     follows the item order in the array, thus the dependencies should be written prior to their consumers. Force
     happens before Add.
     </p><!--l. 2080--><p class="noindent" >Note: The signature of the “forced” kernel drivers is not checked anyhow, making the use of this feature extremely
     dangerous and undesired for secure boot. This feature may not work on encrypted partitions in newer operating
     systems.
     </p></li>
     <li 
  class="enumerate" id="x1-33010x5">Patch<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Perform binary patches in kernel and drivers prior to driver addition and removal.
     <!--l. 2091--><p class="noindent" >Designed to be filled with plist dictionary values, describing each patch. See <span class="uwave">the </span><a 
href="#x1-380007">Patch Properties</a> section
     below.
     </p></li>
     <li 
  class="enumerate" id="x1-33012x6">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply individual kernel and driver quirks described in <span class="uwave">the </span><a 
href="#x1-390008">Quirks Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-33014x7">Scheme<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Define kernelspace operation mode via parameters described in <span class="uwave">the </span><a 
href="#x1-400009">Scheme Properties</a> section
     below.
     </li></ol>
<a 
 id="x1-33015r36"></a>
<h4 class="subsectionHead"><span class="titlemark">7.3   </span> <a 
 id="x1-340003"></a>Add Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-34002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any <span class="uwave">(Apply to any supported architecture)</span><br 
class="newline" />Description: Kext architecture (<span class="sout">Any</span><span class="sout">, </span>i386, x86_64).
     </li>
     <li 
  class="enumerate" id="x1-34004x2">BundlePath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext bundle path (e.g. Lilu.kext or MyKext.kext/Contents/PlugIns/MySubKext.kext).
     </li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-34006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-34008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This kernel driver will not be added unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-34010x5">ExecutablePath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext executable path relative to bundle (e.g. Contents/MacOS/Lilu).
     </li>
     <li 
  class="enumerate" id="x1-34012x6">MaxKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Adds kernel driver on specified macOS version or older.
     <!--l. 2153--><p class="noindent" ><a 
 id="kernmatch"></a>Kernel version can be obtained with uname -r command, and should look like 3 numbers separated by dots,
     for example 18.7.0 is the kernel version for 10.14.6. Kernel version interpretation is implemented as
     follows:
     </p><table 
class="align-star">
           <tr><td 
class="align-odd">ParseDarwinV ersion(κ,λ,μ) = κ ⋅ 10000Where κ ∈ (0,99) is kernel version major
                                         + λ ⋅ 100   Where λ ∈ (0,99) is kernel version minor
                                         + μ        Where μ ∈ (0,99) is kernel version patch </td><td 
class="align-even"></td>           <td 
class="align-label">       </td></tr></table>
     <!--l. 2166--><p class="noindent" >Kernel version comparison is implemented as follows:
                                                                                                  
                                                                                                  
     </p><table 
class="align-star">
   <tr><td 
class="align-odd">α</td>   <td 
class="align-even"> = <img 
src="Differences0x.png" alt="{
 P arseDarwinV  ersion(MinKernel),               If MinKernel is valid
 0                                            Otherwise"  class="left" align="middle" /></td>            <td 
class="align-label"></td>   <td 
class="align-label">
   </td></tr><tr><td 
class="align-odd">β</td>   <td 
class="align-even"> = <img 
src="Differences1x.png" alt="{
 P arseDarwinV  ersion(MaxKernel),               If MaxKernel is valid

 ∞                                            Otherwise"  class="left" align="middle" /></td>            <td 
class="align-label"></td>   <td 
class="align-label">
   </td></tr><tr><td 
class="align-odd">γ</td>   <td 
class="align-even"> = <img 
src="Differences2x.png" alt="{
 P arseDarwinV  ersion(FindDarwinV ersion()),    If valid &#x0022;Darwin Kernel Version&#x0022; is found
 ∞                                            Otherwise"  class="left" align="middle" /></td>   <td 
class="align-label"></td>   <td 
class="align-label">
   </td></tr><tr><td 
class="align-odd"></td>    <td 
class="align-even">                                         f(α,β,γ) = α ≤ γ ≤ β</td>                                      <td 
class="align-label"></td>   <td 
class="align-label"></td></tr></table>
     <!--l. 2185--><p class="noindent" >Here ParseDarwinV ersion argument is assumed to be 3 integers obtained by splitting Darwin kernel version string from
     left to right by the . symbol. FindDarwinV ersion function looks up Darwin kernel version by locating &#x0022;Darwin Kernel
     Version κ.λ.μ&#x0022; string in the kernel image.
     </p></li>
     <li 
  class="enumerate" id="x1-34014x7">MinKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Adds kernel driver on specified macOS version or newer.
     <!--l. 2196--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-34016x8">PlistPath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext Info.plist path relative to bundle (e.g. Contents/Info.plist).
     </li></ol>
<a 
 id="x1-34017r37"></a>
<h4 class="subsectionHead"><span class="titlemark">7.4   </span> <a 
 id="x1-350004"></a>Block Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-35002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any <span class="uwave">(Apply to any supported architecture)</span><br 
class="newline" />Description: Kext block architecture (<span class="sout">Any</span><span class="sout">, </span>i386, x86_64).
     </li>
     <li 
  class="enumerate" id="x1-35004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-35006x3">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This kernel driver will not be blocked unless set to true.
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-35008x4">Identifier<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext bundle identifier (e.g. com.apple.driver.AppleTyMCEDriver).
     </li>
     <li 
  class="enumerate" id="x1-35010x5">MaxKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Blocks kernel driver on specified macOS version or older.
     <!--l. 2245--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-35012x6">MinKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Blocks kernel driver on specified macOS version or newer.
     <!--l. 2254--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
</p>
     </li></ol>
<a 
 id="x1-35013r38"></a>
<h4 class="subsectionHead"><span class="titlemark">7.5   </span> <a 
 id="x1-360005"></a>Emulate Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-36002x1">Cpuid1Data<br 
class="newline" />Type: plist data, 16 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Sequence of EAX, EBX, ECX, EDX values to replace CPUID (1) call in XNU kernel.
     <!--l. 2269--><p class="noindent" >This property primarily <span class="sout">serves for three needs</span><span class="uwave">meets three requirements</span>:
</p>
         <ul class="itemize1">
         <li class="itemize">Enabling support <span class="sout">of </span><span class="uwave">for </span>an unsupported CPU model (e.g. Intel Pentium).
         </li>
         <li class="itemize">Enabling support <span class="sout">of </span><span class="uwave">for </span>a CPU model <span class="sout">that is </span>not yet supported by a specific version of macOS <span class="sout">which usually
         is old </span><span class="uwave">(typically old versions)</span>.
         </li>
         <li class="itemize">Enabling XCPM support for an unsupported CPU variant.</li></ul>
     <!--l. 2278--><p class="noindent" >Note 1: It may also be the case that the CPU model is supported but there is no power management supported (e.g.
     virtual machines). In this case, MinKernel and MaxKernel can be set to restrict CPU virtualisation and dummy power
     management patches to the particular macOS kernel version.
     </p><!--l. 2282--><p class="noindent" >Note 2: Normally it is only the value of EAX that needs to be taken care of, since it represents the full CPUID. The
     remaining bytes are to be left as zeroes. Byte order is Little Endian, so for example, C3 06 03 00 stands for CPUID
     0x0306C3 (Haswell).
     </p><!--l. 2287--><p class="noindent" >Note 3: For XCPM support it is recommended to use the following combinations.
</p>
         <ul class="itemize1">
         <li class="itemize">Haswell-E (0x0306F2) to Haswell (0x0306C3):<br 
class="newline" />Cpuid1Data: C3 06 03 00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00
         </li>
         <li class="itemize">Broadwell-E (0x0406F1) to Broadwell (0x0306D4):<br 
class="newline" />Cpuid1Data: D4 06 03 00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00</li></ul>
                                                                                                  
                                                                                                  
     <!--l. 2299--><p class="noindent" >Note 4: <span class="sout">Note </span><span class="uwave">Be aware </span>that the following configurations are unsupported by XCPM (at least out of the
     box):
</p>
         <ul class="itemize1">
         <li class="itemize">Consumer Ivy Bridge (0x0306A9) as Apple disabled XCPM for Ivy Bridge and recommends legacy power
         management for these CPUs. _xcpm_bootstrap should manually be patched to enforce XCPM on these
         CPUs instead of this option.
         </li>
         <li class="itemize">Low-end CPUs (e.g. Haswell+ Pentium) as they are not supported properly by macOS. Legacy <span class="sout">hacks
         </span><span class="uwave">workarounds </span>for older models can be found in the Special NOTES section of <a 
href="https://github.com/acidanthera/bugtracker/issues/365" >acidanthera/bugtracker#365</a>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-36004x2">Cpuid1Mask<br 
class="newline" />Type: plist data, 16 bytes<br 
class="newline" />Failsafe: All zero<br 
class="newline" />Description: Bit mask of active bits in Cpuid1Data.
     <!--l. 2317--><p class="noindent" >When each Cpuid1Mask bit is set to 0, the original CPU bit is used, otherwise set bits take the value of
     Cpuid1Data.
     </p></li>
     <li 
  class="enumerate" id="x1-36006x3">DummyPowerManagement<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4<br 
class="newline" />Description: Disables AppleIntelCpuPowerManagement.
     <!--l. 2327--><p class="noindent" >Note 1: This option is a preferred alternative to NullCpuPowerManagement.kext for CPUs without native power
     management driver in macOS.
     </p><!--l. 2331--><p class="noindent" >Note 2: While this option is <span class="sout">usually </span><span class="uwave">typically </span>needed to disable AppleIntelCpuPowerManagement on
     unsupported platforms, it can also be used to disable this kext in other situations (e.g. with Cpuid1Data left
     blank).
     </p></li>
     <li 
  class="enumerate" id="x1-36008x4">MaxKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Emulates CPUID and applies DummyPowerManagement on specified macOS version or older.
     <!--l. 2341--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-36010x5">MinKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Emulates CPUID and applies DummyPowerManagement on specified macOS version or newer.
     <!--l. 2350--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
</p>
     </li></ol>
<a 
 id="x1-36011r39"></a>
<h4 class="subsectionHead"><span class="titlemark">7.6   </span> <a 
 id="x1-370006"></a>Force Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-37002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any <span class="uwave">(Apply to any supported architecture)</span><br 
class="newline" />Description: Kext architecture (<span class="sout">Any</span><span class="sout">, </span>i386, x86_64).
     </li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-37004x2">BundlePath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext bundle path (e.g. System\Library \Extensions \IONetworkingFamily.kext).
     </li>
     <li 
  class="enumerate" id="x1-37006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-37008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This kernel driver will not be added when not present unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-37010x5">ExecutablePath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext executable path relative to bundle (e.g. Contents/MacOS/IONetworkingFamily).
     </li>
     <li 
  class="enumerate" id="x1-37012x6">Identifier<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description:       Kext       identifier       to       perform       presence       checking       before       adding
     (e.g. com.apple.iokit.IONetworkingFamily). Only drivers which identifiers are not be found in the cache will
     be added.
     </li>
     <li 
  class="enumerate" id="x1-37014x7">MaxKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Adds kernel driver on specified macOS version or older.
     <!--l. 2407--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-37016x8">MinKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Adds kernel driver on specified macOS version or newer.
     <!--l. 2416--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-37018x9">PlistPath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext Info.plist path relative to bundle (e.g. Contents/Info.plist).
     </li></ol>
<a 
 id="x1-37019r40"></a>
<h4 class="subsectionHead"><span class="titlemark">7.7   </span> <a 
 id="x1-380007"></a>Patch Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-38002x1">Arch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Any <span class="uwave">(Apply to any supported architecture)</span><br 
class="newline" />Description: Kext patch architecture (<span class="sout">Any</span><span class="sout">, </span>i386, x86_64).
     </li>
     <li 
  class="enumerate" id="x1-38004x2">Base<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty <span class="sout">string</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Selects symbol-matched base for patch lookup (or immediate replacement) by obtaining the address
     of <span class="uwave">the </span>provided symbol name. <span class="sout">Can be set to empty string to be ignored. </span>
     </li>
     <li 
  class="enumerate" id="x1-38006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-38008x4">Count<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Number of patch occurrences to apply. 0 applies the patch to all occurrences found.
     </li>
     <li 
  class="enumerate" id="x1-38010x5">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This kernel patch will not be used unless set to true.
     </li>
     <li 
  class="enumerate" id="x1-38012x6">Find<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Immediate replacement at </span><span class="uwave">Base</span><span class="uwave">)</span><br 
class="newline" />Description: Data to find. <span class="sout">Can be set to empty for immediate replacement at </span><span class="sout">Base</span><span class="sout">. Must </span><span class="uwave">Must be </span>equal to
     Replace in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-38014x7">Identifier<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Kext bundle identifier (e.g. com.apple.driver.AppleHDA) or kernel for kernel patch.
     </li>
     <li 
  class="enumerate" id="x1-38016x8">Limit<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Search entire kext or kernel)</span><br 
class="newline" />Description: Maximum number of bytes to search for. <span class="sout">Can be set to </span><span class="sout">0</span> <span class="sout">to look through the whole kext or kernel.
     </span>
     </li>
     <li 
  class="enumerate" id="x1-38018x9">Mask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during find comparison. Allows fuzzy search by ignoring not masked (set
     to zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if set</span>.
     </li>
     <li 
  class="enumerate" id="x1-38020x10">MaxKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Patches data on specified macOS version or older.
     <!--l. 2511--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-38022x11">MinKernel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Patches data on specified macOS version or newer.
     <!--l. 2520--><p class="noindent" >Note: Refer to <span class="uwave">the </span><a 
href="#kernmatch">Add MaxKernel description</a> for matching logic.
     </p></li>
     <li 
  class="enumerate" id="x1-38024x12">Replace<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty<span class="sout">data</span><br 
class="newline" />Description: Replacement data of one or more bytes.
     </li>
     <li 
  class="enumerate" id="x1-38026x13">ReplaceMask<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: Empty <span class="sout">data</span><span class="uwave">(Ignored)</span><br 
class="newline" />Description: Data bitwise mask used during replacement. Allows fuzzy replacement by updating masked (set
     to non-zero) bits. <span class="sout">Can be set to empty data to be ignored. Must </span><span class="uwave">Must be </span>equal to Replace in size <span class="sout">otherwise</span><span class="uwave">if
     set</span>.
     </li>
     <li 
  class="enumerate" id="x1-38028x14">Skip<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 <span class="uwave">(Do not skip any occurrences)</span><br 
class="newline" />Description: Number of found occurrences to <span class="sout">be skipped before replacement is done</span><span class="uwave">skip before replacements
     are applied</span>.
     </li></ol>
<a 
 id="x1-38029r41"></a>
<h4 class="subsectionHead"><span class="titlemark">7.8   </span> <a 
 id="x1-390008"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-39002x1">AppleCpuPmCfgLock<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4<br 
class="newline" />Description:                 Disables                 PKG_CST_CONFIG_CONTROL           (0xE2)                 MSR
     modification in AppleIntelCPUPowerManagement.kext, commonly causing early kernel panic, when it is locked
     from writing.
     <!--l. 2562--><p class="noindent" >Some types of firmware lock the PKG_CST_CONFIG_CONTROL MSR register and the bundled VerifyMsrE2 tool can
     be used to check its state. Note that some types of firmware only have this register locked on some cores.
     </p><!--l. 2566--><p class="noindent" >As modern firmware provide a CFG Lock setting that allows configuring the PKG_CST_CONFIG_CONTROL MSR
     register lock, this option should be avoided whenever possible. On APTIO firmware that do not provide a CFG
     Lock setting in the GUI, it is possible to access the option directly:
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-39004x1">Download <a 
href="https://github.com/LongSoft/UEFITool/releases" >UEFITool</a> and <a 
href="https://github.com/LongSoft/Universal-IFR-Extractor/releases" >IFR-Extractor</a>.
         </li>
         <li 
  class="enumerate" id="x1-39006x2">Open the firmware image in UEFITool and find CFG Lock unicode string. If it is not present, the firmware
         may not have this option and the process should therefore be discontinued.
         </li>
         <li 
  class="enumerate" id="x1-39008x3">Extract the Setup.bin PE32 Image Section (the UEFITool found) through the Extract Body menu option.
         </li>
         <li 
  class="enumerate" id="x1-39010x4">Run IFR-Extractor on the extracted file (e.g. ./ifrextract Setup.bin Setup.txt).
         </li>
         <li 
  class="enumerate" id="x1-39012x5">Find CFG Lock, VarStoreInfo (VarOffset/VarName): in Setup.txt and remember the offset right after
         it (e.g. 0x123).
                                                                                                  
                                                                                                  
         </li>
         <li 
  class="enumerate" id="x1-39014x6">Download and run <a 
href="http://brains.by/posts/bootx64.7z" >Modified GRUB Shell</a> compiled by <a 
href="https://geektimes.com/post/258090" >brainsucker</a> or use <a 
href="https://github.com/datasone/grub-mod-setup_var" >a newer version</a> by <a 
href="https://github.com/datasone" >datasone</a>.
         </li>
         <li 
  class="enumerate" id="x1-39016x7">Enter setup_var 0x123 0x00 command, where 0x123 should be replaced by the actual offset, and reboot.</li></ol>
     <!--l. 2590--><p class="noindent" >Warning: Variable offsets are unique not only to each motherboard but even to its firmware version. Never ever try to
     use an offset without checking.
     </p></li>
     <li 
  class="enumerate" id="x1-39018x2">AppleXcpmCfgLock<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.8 (not required for older)<br 
class="newline" />Description: Disables PKG_CST_CONFIG_CONTROL (0xE2) MSR modification in XNU kernel, commonly causing early
     kernel panic, when it is locked from writing (XCPM power management).
     <!--l. 2602--><p class="noindent" >Note: This option should be avoided whenever possible. See AppleCpuPmCfgLock description for more
     details.
     </p></li>
     <li 
  class="enumerate" id="x1-39020x3">AppleXcpmExtraMsrs<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.8 (not required for older)<br 
class="newline" />Description: Disables multiple MSR access critical for <span class="sout">select </span><span class="uwave">certain </span>CPUs, which have no native XCPM
     support.
     <!--l. 2613--><p class="noindent" >This is normally used in conjunction with Emulate section on Haswell-E, Broadwell-E, Skylake-SP, and similar CPUs.
     More details on the XCPM patches are outlined in <a 
href="https://github.com/acidanthera/bugtracker/issues/365" >acidanthera/bugtracker#365</a>.
     </p><!--l. 2617--><p class="noindent" >Note: Additional not provided patches will be required for Ivy Bridge or Pentium CPUs. It is recommended to use
     AppleIntelCpuPowerManagement.kext for the former.
     </p></li>
     <li 
  class="enumerate" id="x1-39022x4">AppleXcpmForceBoost<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.8 (not required for older)<br 
class="newline" />Description: Forces maximum performance in XCPM mode.
     <!--l. 2627--><p class="noindent" >This patch writes 0xFF00 to MSR_IA32_PERF_CONTROL (0x199), effectively setting maximum multiplier for all the
     time.
     </p><!--l. 2630--><p class="noindent" >Note: While this may increase the performance, this patch is strongly discouraged on all systems but those explicitly
     dedicated to scientific or media calculations. <span class="sout">In general only </span><span class="uwave">Only </span>certain Xeon models <span class="uwave">typically </span>benefit from the
     patch.
     </p></li>
     <li 
  class="enumerate" id="x1-39024x5">CustomSMBIOSGuid<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4<br 
class="newline" />Description: Performs GUID patching for UpdateSMBIOSMode Custom mode. Usually relevant for Dell
     laptops.
     </li>
     <li 
  class="enumerate" id="x1-39026x6">DisableIoMapper<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.8 (not required for older)<br 
class="newline" />Description: Disables IOMapper support in XNU (VT-d), which may conflict with the firmware implementation.
     <!--l. 2650--><p class="noindent" >Note: This option is a preferred alternative to deleting DMAR ACPI table and disabling VT-d in firmware preferences,
                                                                                                  
                                                                                                  
     which does not <span class="sout">break </span><span class="uwave">obstruct </span>VT-d support in other systems in case they need <span class="sout">it</span><span class="uwave">this</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-39028x7">DisableLinkeditJettison<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 11<br 
class="newline" />Description: Disables __LINKEDIT jettison code.
     <!--l. 2662--><p class="noindent" >This option lets Lilu.kext<span class="sout">and possibly some others </span><span class="uwave">, and possibly other kexts, </span>function in macOS Big Sur
     <span class="sout">with best performance without </span><span class="uwave">at their best performance levels without requiring the </span>keepsyms=1 boot
     argument.
     </p></li>
     <li 
  class="enumerate" id="x1-39030x8">DisableRtcChecksum<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4<br 
class="newline" />Description: Disables primary checksum (0x58-0x59) writing in AppleRTC.
     <!--l. 2674--><p class="noindent" >Note 1: This option will not protect other areas from being overwritten, see <a 
href="https://github.com/acidanthera/RTCMemoryFixup" >RTCMemoryFixup</a> kernel extension if this is
     desired.
     </p><!--l. 2678--><p class="noindent" >Note 2: This option will not protect areas from being overwritten at firmware stage (e.g. macOS bootloader), see
     AppleRtcRam protocol description if this is desired.
     </p></li>
     <li 
  class="enumerate" id="x1-39032x9">ExtendBTFeatureFlags<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.8<br 
class="newline" />Description: Set FeatureFlags to 0x0F for full functionality of Bluetooth, including Continuity.
     <!--l. 2690--><p class="noindent" >Note: This option is a substitution for BT4LEContinuityFixup.kext, which does not function properly due to late
     patching progress.
     </p></li>
     <li 
  class="enumerate" id="x1-39034x10">ExternalDiskIcons<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4<br 
class="newline" />Description: Apply icon type patches to AppleAHCIPort.kext to force internal disk icons for all AHCI
     disks.
     <!--l. 2701--><p class="noindent" >Note: This option should be avoided whenever possible. Modern firmware <span class="sout">usually </span><span class="uwave">typically </span>have compatible AHCI
     controllers.
     </p></li>
     <li 
  class="enumerate" id="x1-39036x11">ForceSecureBootScheme<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 11<br 
class="newline" />Description: Force x86 scheme for IMG4 verification.
     <!--l. 2711--><p class="noindent" >Note: This option is required on virtual machines when using SecureBootModel different from x86legacy.
     </p></li>
     <li 
  class="enumerate" id="x1-39038x12">IncreasePciBarSize<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.10<br 
class="newline" />Description: Increases 32-bit PCI bar size in IOPCIFamily from 1 to 4 GBs.
     <!--l. 2721--><p class="noindent" >Note: This option should be avoided whenever possible. <span class="sout">In general the necessity of this option means misconfigured or
                                                                                                  
                                                                                                  
     broken </span><span class="uwave">A need for this option indicates misconfigured or defective </span>firmware.
     </p></li>
     <li 
  class="enumerate" id="x1-39040x13">LapicKernelPanic<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.6 (64-bit)<br 
class="newline" />Description: Disables kernel panic on LAPIC interrupts.
     </li>
     <li 
  class="enumerate" id="x1-39042x14">LegacyCommpage<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.4 - 10.6<br 
class="newline" />Description: Replaces the default 64-bit commpage bcopy implementation with one that does not require SSSE3, useful
     for legacy platforms. This prevents a commpage no match for last panic due to no available 64-bit bcopy functions
     that do not require SSSE3.
     </li>
     <li 
  class="enumerate" id="x1-39044x15">PanicNoKextDump<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.13 (not required for older)<br 
class="newline" />Description: Prevent kernel from printing kext dump in the panic log preventing from observing panic details. Affects
     10.13 and above.
     </li>
     <li 
  class="enumerate" id="x1-39046x16">PowerTimeoutKernelPanic<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.15 (not required for older)<br 
class="newline" />Description: Disables kernel panic on setPowerState timeout.
     <!--l. 2758--><p class="noindent" >An additional security measure was added to macOS Catalina (10.15) causing kernel panic on power change timeout for
     Apple drivers. Sometimes it may cause issues on misconfigured hardware, notably digital audio, which sometimes fails to
     wake up. For debug kernels setpowerstate_panic=0 boot argument should be used, which is otherwise equivalent to this
     quirk.
     </p></li>
     <li 
  class="enumerate" id="x1-39048x17">SetApfsTrimTimeout<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: -1<br 
class="newline" />Requirement: 10.14 (not required for older)<br 
class="newline" />Description: Set trim timeout in microseconds for APFS filesystems on SSDs.
     <!--l. 2771--><p class="noindent" ><span class="uwave">The </span>APFS filesystem is designed in a way that the space controlled via <span class="uwave">the </span>spaceman structure is either used or free.
     This may be different in other filesystems where the areas can be marked as used, free, and unmapped. All free
     space is trimmed (unmapped/deallocated) at macOS startup. The trimming procedure for NVMe drives
     happens in LBA ranges due to the nature of <span class="uwave">the </span>DSM command with up to 256 ranges per command.
     The more fragmented the memory on the drive is, the more commands are necessary to trim all the free
     space.
     </p><!--l. 2781--><p class="noindent" >Depending on the SSD controller and the <span class="sout">drive fragmenation </span><span class="uwave">level of drive fragmenation, the </span>trim procedure may take
     <span class="uwave">a </span>considerable amount of time, causing noticeable boot slowdown<span class="uwave">. The </span>APFS driver explicitly ignores
     previously unmapped areas and <span class="uwave">repeatedly </span>trims them on boot<span class="sout">again and again. To workaround boot
     slowdown </span><span class="uwave">. To mitigate against such boot slowdowns, the </span>macOS driver introduced a timeout (9.999999
     seconds) that stops <span class="uwave">the </span>trim operation when <span class="sout">it did not manage to complete </span><span class="uwave">not finished </span>in time. <span class="sout">On many
     </span>
     </p><!--l. 2790--><p class="noindent" ><span class="uwave">On several </span>controllers, such as Samsung, where the deallocation <span class="sout">is not very fast, the timeout is </span><span class="uwave">process is relatively slow,
     this timeout can be </span>reached very quickly. Essentially<span class="uwave">, </span>it means that <span class="sout">macOS will try to trim all </span><span class="uwave">the level of
     fragmentation is high, thus macOS will attempt to trim </span>the same lower blocks that have <span class="sout">already </span><span class="uwave">previously
                                                                                                  
                                                                                                  
     </span>been deallocated, but <span class="sout">will </span>never have enough time to deallocate higher blocks<span class="sout">once the fragmentation
     increases. This means </span><span class="uwave">. The outcome is </span>that trimming on <span class="sout">these </span><span class="uwave">such </span>SSDs will be <span class="sout">broken soon after the
     installation, causing extra wear to </span><span class="uwave">non-functional soon after installation, resulting in additional wear on </span>the
     flash.
     </p><!--l. 2799--><p class="noindent" >One way to workaround the problem is to increase the timeout to <span class="sout">a very </span><span class="uwave">an extremely </span>high value, which at the cost of
     slow boot times (extra minutes) will ensure that all the blocks are trimmed. <span class="sout">For this one can set this </span><span class="uwave">Set this </span>option to a
     high value, <span class="sout">e.g. </span><span class="uwave">such as </span>4294967295<span class="sout">. </span>
     </p><!--l. 2808--><p class="noindent" ><span class="sout">Another way is to utilise </span><span class="uwave">, to ensure that all blocks are trimmed. Alternatively, use </span>over-provisioning<span class="sout">if it is supported</span><span class="uwave">, if
     supported, </span>or create a dedicated unmapped partition where the reserve blocks can be found by the controller. <span class="sout">In this case
     </span><span class="uwave">Conversely, </span>the trim operation can <span class="sout">also </span>be disabled by setting a very low timeout <span class="uwave">value</span>. e.g. 999. <span class="sout">See more details in
     </span><span class="uwave">Refer to </span>this <a 
href="https://interface31.ru/tech_it/2015/04/mozhno-li-effektivno-ispolzovat-ssd-bez-podderzhki-trim.html" >article</a> <span class="uwave">for more details</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-39050x18">ThirdPartyDrives<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.6 (not required for older)<br 
class="newline" />Description: Apply vendor patches to IOAHCIBlockStorage.kext to enable native features for third-party drives, such
     as TRIM on SSDs or hibernation support on 10.15 and newer.
     <!--l. 2826--><p class="noindent" >Note: This option may be avoided on user preference. NVMe SSDs are compatible without the change. For AHCI SSDs
     on modern macOS version there is a dedicated built-in utility called trimforce. Starting from 10.15
     this utility creates EnableTRIM variable in APPLE_BOOT_VARIABLE_GUID namespace with 01 00 00 00
     value.
     </p></li>
     <li 
  class="enumerate" id="x1-39052x19">XhciPortLimit<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Requirement: 10.11 (not required for older)<br 
class="newline" />Description: Patch various kexts (AppleUSBXHCI.kext, AppleUSBXHCIPCI.kext, IOUSBHostFamily.kext) to remove
     USB port count limit of 15 ports.
     <!--l. 2840--><p class="noindent" >Note: This option should be avoided whenever possible <span class="sout">. </span><span class="uwave">and may no longer </span><a 
href="https://github.com/acidanthera/bugtracker/issues/1514" >function correctly</a> <span class="uwave">in macOS 11. </span>USB port
     limit is imposed by the amount of used bits in locationID format and there is no possible way to workaround this without
     heavy OS modification. The only valid solution is to limit the amount of used ports to 15 (discarding some). More details
     can be found on <a 
href="https://applelife.ru/posts/550233" >AppleLife.ru</a>.
</p>
     </li></ol>
<a 
 id="x1-39053r42"></a>
<h4 class="subsectionHead"><span class="titlemark">7.9   </span> <a 
 id="x1-400009"></a>Scheme Properties</h4>
<!--l. 2851--><p class="noindent" >These properties are particularly relevant for older macOS operating systems. <span class="sout">For more </span><span class="uwave">Refer to the </span><a 
href="#x1-770001">Legacy Apple OS</a> <span class="uwave">section
for </span>details on how to install and troubleshoot such macOS <span class="sout">installation refer to </span><span class="uwave">installations</span>.
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-40002x1">FuzzyMatch<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Use kernelcache with different checksums when available.
     <!--l. 2865--><p class="noindent" >On macOS 10.6 and earlier<span class="uwave">, </span>kernelcache filename has a checksum, which essentially is adler32 from SMBIOS
     product name and EfiBoot device path. On <span class="sout">some types of </span><span class="uwave">certain </span>firmware, the EfiBoot device path differs
     between UEFI and macOS due to ACPI or hardware specifics, rendering kernelcache checksum as always
     different.
     </p><!--l. 2870--><p class="noindent" >This setting allows matching the latest kernelcache with a suitable architecture when the kernelcache without
     suffix is unavailable, improving macOS 10.6 boot performance on several platforms.
     </p></li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-40004x2">KernelArch<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto <span class="uwave">(Choose the preferred architecture automatically)</span><br 
class="newline" />Description: Prefer specified kernel architecture (<span class="sout">Auto</span><span class="sout">, </span>i386, i386-user32, x86_64) when available.
     <!--l. 2882--><p class="noindent" >On macOS 10.7 and earlier<span class="uwave">, the </span>XNU kernel can boot with architectures different from the usual x86_64. This
     setting will use the specified architecture to boot macOS when it is supported by the macOS and the configuration:
</p>
         <ul class="itemize1">
         <li class="itemize"><span class="sout">Auto</span> <span class="sout">— Choose the preferred architecture automatically. </span>
         </li>
         <li class="itemize">i386 — Use i386 (32-bit) kernel when available.
         </li>
         <li class="itemize">i386-user32 — Use i386 (32-bit) kernel when available and force the use of 32-bit userspace on 64-bit capable
         processors if supported by the operating system. <span class="sout">On macOS </span>
             <ul class="itemize2">
             <li class="itemize"><span class="uwave">On macOS, </span>64-bit capable processors are assumed to support SSSE3. This is not the case for older 64-bit
             capable Pentium processors, which cause some applications to crash on macOS 10.6. This behaviour
             corresponds to <span class="uwave">the </span>-legacy kernel boot argument.
             </li>
             <li class="itemize">This option is unavailable <span class="sout">for </span><span class="uwave">on macOS </span>10.4 and 10.5 when running on 64-bit firmware due to an
             uninitialised 64-bit segment in the XNU kernel, which causes AppleEFIRuntime to incorrectly execute
             64-bit code as 16-bit code.</li></ul>
         </li>
         <li class="itemize">x86_64 — Use x86_64 (64-bit) kernel when available.</li></ul>
     <!--l. 2909--><p class="noindent" ><span class="sout">Below is the algorithm determining the kernel architecture</span><span class="uwave">The algorithm used to determine the preferred kernel
     architecture is set out below</span>.
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-40006x1">arch argument in image arguments (e.g. when launched via UEFI Shell) or in boot-args variable overrides
         any compatibility checks and forces the specified architecture, completing this algorithm.
         </li>
         <li 
  class="enumerate" id="x1-40008x2">OpenCore build architecture restricts capabilities to i386 and i386-user32 mode for the 32-bit firmware
         variant.
         </li>
         <li 
  class="enumerate" id="x1-40010x3">Determined EfiBoot version restricts architecture choice:
             <ul class="itemize1">
             <li class="itemize">10.4-10.5 — i386 or i386-user32 (only on 32-bit firmware)
             </li>
             <li class="itemize">10.6 — i386, i386-user32, or x86_64
             </li>
             <li class="itemize">10.7 — i386 or x86_64
             </li>
             <li class="itemize">10.8 or newer — x86_64</li></ul>
         </li>
         <li 
  class="enumerate" id="x1-40012x4">If KernelArch is set to Auto and SSSE3 is not supported by the CPU, capabilities are restricted to i386-user32 if
         supported by EfiBoot.
         </li>
         <li 
  class="enumerate" id="x1-40014x5">Board identifier (from SMBIOS) based on EfiBoot version disables x86_64 support on an unsupported
         model if any i386 variant is supported. Auto is not consulted here as the list is not overridable in
         EfiBoot.
         </li>
         <li 
  class="enumerate" id="x1-40016x6">KernelArch restricts the support to the explicitly specified architecture (when not set to Auto) if the architecture
         remains present in the capabilities.
         </li>
         <li 
  class="enumerate" id="x1-40018x7">The best supported architecture is chosen in this order: x86_64, i386, i386-user32.</li></ol>
     <!--l. 2939--><p class="noindent" >Unlike macOS 10.7 <span class="sout">, where select boards </span><span class="uwave">(where certain board </span>identifiers are treated as the i386 only machines<span class="uwave">)</span>, and
                                                                                                  
                                                                                                  
     macOS 10.5 or earlier <span class="sout">, </span><span class="uwave">(</span>where x86_64 is not supported by the macOS kernel<span class="uwave">)</span>, macOS 10.6 is very special. The
     architecture choice on macOS 10.6 depends on many factors including not only the board identifier, but also <span class="uwave">the </span>macOS
     product type (client vs server), macOS point release, and <span class="sout">RAM amount </span><span class="uwave">amount of RAM</span>. The detection of <span class="sout">them all </span><span class="uwave">all
     these </span>is complicated and <span class="sout">not practical, because </span><span class="uwave">impractical, as </span>several point releases had <span class="sout">genuine bugs and failed to
     properly perform </span><span class="uwave">implementation defects resulting in a failure to properly execute </span>the server detection
     in the first place. For this reason<span class="uwave">, </span>OpenCore on macOS 10.6 <span class="sout">will fallback to </span><span class="uwave">falls back on the </span>x86_64
     architecture whenever it is supported by the board<span class="sout">at all, as </span><span class="uwave">, as it is </span>on macOS 10.7. <span class="sout">As a reference here is the
     </span>
     </p><!--l. 2951--><p class="noindent" ><span class="uwave">A </span>64-bit Mac model compatibility <span class="uwave">matrix </span>corresponding to actual EfiBoot behaviour on macOS 10.6.8 and 10.7.5 <span class="uwave">is
     outlined below</span>.
</p>
     <div class="center" 
>
<!--l. 2954--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-2" class="tabular" 
 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1" /></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2" /></colgroup><colgroup id="TBL-2-3g"><col 
id="TBL-2-3" /></colgroup><colgroup id="TBL-2-4g"><col 
id="TBL-2-4" /></colgroup><colgroup id="TBL-2-5g"><col 
id="TBL-2-5" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:normal; text-align:left;" id="TBL-2-1-1"  
class="td11"><!--l. 2957--><p class="noindent" >Model         </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-2"  
class="td11">10.6 (minimal)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-3"  
class="td11"> 10.6 (client) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-4"  
class="td11"> 10.6 (server) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-5"  
class="td11">  10.7 (any)   </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:normal; text-align:left;" id="TBL-2-2-1"  
class="td11"><!--l. 2959--><p class="noindent" >Macmini         </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-2"  
class="td11"> 4,x (Mid 2010) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-3"  
class="td11"> 5,x (Mid 2011) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-4"  
class="td11"> 4,x (Mid 2010) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-5"  
class="td11">3,x (Early 2009)</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:normal; text-align:left;" id="TBL-2-3-1"  
class="td11"><!--l. 2961--><p class="noindent" >MacBook        </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-2"  
class="td11">  Unsupported   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-3"  
class="td11"> Unsupported  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-4"  
class="td11"> Unsupported  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-5"  
class="td11"> 5,x (2009/09)  </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:normal; text-align:left;" id="TBL-2-4-1"  
class="td11"><!--l. 2963--><p class="noindent" >MacBookAir    </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-2"  
class="td11">  Unsupported   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-3"  
class="td11"> Unsupported  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-4"  
class="td11"> Unsupported  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-5"  
class="td11"> 2,x (Late 2008) </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:normal; text-align:left;" id="TBL-2-5-1"  
class="td11"><!--l. 2965--><p class="noindent" >MacBookPro   </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-2"  
class="td11">4,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-3"  
class="td11">8,x (Early 2011)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-4"  
class="td11">8,x (Early 2011)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-5"  
class="td11"> 3,x (Mid 2007) </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:normal; text-align:left;" id="TBL-2-6-1"  
class="td11"><!--l. 2967--><p class="noindent" >iMac              </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-2"  
class="td11">8,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-3"  
class="td11">12,x (Mid 2011)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-4"  
class="td11">12,x (Mid 2011)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-5"  
class="td11"> 7,x (Mid 2007) </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:normal; text-align:left;" id="TBL-2-7-1"  
class="td11"><!--l. 2969--><p class="noindent" >MacPro          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-2"  
class="td11">3,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-3"  
class="td11"> 5,x (Mid 2010) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-4"  
class="td11">3,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-7-5"  
class="td11">3,x (Early 2008)</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-8-"><td  style="white-space:normal; text-align:left;" id="TBL-2-8-1"  
class="td11"><!--l. 2971--><p class="noindent" >Xserve            </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-8-2"  
class="td11">2,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-8-3"  
class="td11">2,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-8-4"  
class="td11">2,x (Early 2008)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-8-5"  
class="td11">2,x (Early 2008)</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-9-"><td  style="white-space:normal; text-align:left;" id="TBL-2-9-1"  
class="td11">             </td>
</tr></table></div></div>
     <!--l. 2976--><p class="noindent" >Note: 3+2 and 6+4 hotkeys to choose the preferred architecture are unsupported <span class="sout">due to being </span><span class="uwave">as they are </span>handled by
     EfiBoot and <span class="sout">thus being hard to properly </span><span class="uwave">hence, difficult to </span>detect.
     </p></li>
     <li 
  class="enumerate" id="x1-40020x3">KernelCache<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Prefer specified kernel cache type (Auto, Cacheless, Mkext, Prelinked) when available.
     <!--l. 2987--><p class="noindent" >Different variants of macOS support different kernel caching variants designed to improve boot performance. This setting
     prevents the use of faster kernel caching variants if slower variants are available for debugging and stability reasons. I.e.,
     by specifying Mkext, Prelinked will be disabled for e.g. 10.6 but not for 10.7.
     </p><!--l. 2992--><p class="noindent" >The list of available kernel caching types and its current support in OpenCore is listed below.
</p>
     <div class="center" 
>
<!--l. 2994--><p class="noindent" >
</p>
<div class="tabular"> <table id="TBL-3" class="tabular" 
 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1" /></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2" /></colgroup><colgroup id="TBL-3-3g"><col 
id="TBL-3-3" /></colgroup><colgroup id="TBL-3-4g"><col 
id="TBL-3-4" /></colgroup><colgroup id="TBL-3-5g"><col 
id="TBL-3-5" /></colgroup><colgroup id="TBL-3-6g"><col 
id="TBL-3-6" /></colgroup><colgroup id="TBL-3-7g"><col 
id="TBL-3-7" /></colgroup><colgroup id="TBL-3-8g"><col 
id="TBL-3-8" /></colgroup><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:normal; text-align:left;" id="TBL-3-1-1"  
class="td11"><!--l. 2997--><p class="noindent" >macOS   </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-2"  
class="td11">i386 NC</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-3"  
class="td11">i386 MK</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-4"  
class="td11">i386 PK</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-5"  
class="td11">x86_64 NC</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-6"  
class="td11">x86_64 MK</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-7"  
class="td11">x86_64 PK</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-1-8"  
class="td11">x86_64 KC</td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:normal; text-align:left;" id="TBL-3-2-1"  
class="td11"><!--l. 2999--><p class="noindent" >10.4          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-2"  
class="td11">  YES   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-3"  
class="td11">YES (V1)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-4"  
class="td11"> NO (V1) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-5"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-7"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-2-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:normal; text-align:left;" id="TBL-3-3-1"  
class="td11"><!--l. 3001--><p class="noindent" >10.5          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-2"  
class="td11">  YES   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-3"  
class="td11">YES (V1)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-4"  
class="td11"> NO (V1) </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-5"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-7"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-3-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:normal; text-align:left;" id="TBL-3-4-1"  
class="td11"><!--l. 3003--><p class="noindent" >10.6          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-2"  
class="td11">  YES   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-3"  
class="td11">YES (V2)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-4"  
class="td11">YES (V2)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-5"  
class="td11">    YES      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-6"  
class="td11">  YES (V2)   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-7"  
class="td11"> YES (V2)  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-4-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:normal; text-align:left;" id="TBL-3-5-1"  
class="td11"><!--l. 3005--><p class="noindent" >10.7          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-2"  
class="td11">  YES   </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-3"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-4"  
class="td11">YES (V3)</td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-5"  
class="td11">    YES      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-7"  
class="td11"> YES (V3)  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-5-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:normal; text-align:left;" id="TBL-3-6-1"  
class="td11"><!--l. 3007--><p class="noindent" >10.8-10.9    </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-2"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-3"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-4"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-5"  
class="td11">    YES      </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-7"  
class="td11"> YES (V3)  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-6-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:normal; text-align:left;" id="TBL-3-7-1"  
class="td11"><!--l. 3009--><p class="noindent" >10.10-10.15 </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-2"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-3"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-4"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-5"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-7"  
class="td11"> YES (V3)  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-7-8"  
class="td11">     —       </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:normal; text-align:left;" id="TBL-3-8-1"  
class="td11"><!--l. 3011--><p class="noindent" >11+          </p></td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-2"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-3"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-4"  
class="td11">   —     </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-5"  
class="td11">     —       </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-6"  
class="td11">     —        </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-7"  
class="td11"> YES (V3)  </td><td  style="white-space:nowrap; text-align:center;" id="TBL-3-8-8"  
class="td11">    YES      </td>
</tr><tr 
class="hline"><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td><td><hr /></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-9-"><td  style="white-space:normal; text-align:left;" id="TBL-3-9-1"  
class="td11">          </td>
</tr></table></div></div>
     <!--l. 3016--><p class="noindent" >Note: <span class="sout">First </span><span class="uwave">The first </span>version (V1) of <span class="uwave">the </span>32-bit prelinkedkernel is unsupported due to <span class="uwave">the corruption of </span>kext symbol
     tables <span class="sout">being corrupted </span>by the tools. On <span class="sout">these versions </span><span class="uwave">this version, the </span>Auto <span class="uwave">setting </span>will block prelinkedkernel booting.
     This also <span class="sout">makes </span><span class="uwave">results in the </span>keepsyms=1 <span class="uwave">boot argument being non-functional </span>for kext frames <span class="sout">broken </span>on these
     systems.
</p>
                                                                                                  
                                                                                                  
     </li></ol>
<a 
 id="x1-40021r34"></a>
<h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-410008"></a>Misc</h3>
<a 
 id="x1-41001r43"></a>
<h4 class="subsectionHead"><span class="titlemark">8.1   </span> <a 
 id="x1-420001"></a>Introduction</h4>
<!--l. 3028--><p class="noindent" >This section contains miscellaneous configuration <span class="uwave">options </span>affecting OpenCore operating system loading behaviour <span class="sout">as well as
other entries, which do not go to any other section</span><span class="uwave">in addition to other options that do not readily fit into other
sections</span>.
</p><!--l. 3031--><p class="noindent" >OpenCore <span class="sout">tries to follow </span><span class="uwave">broadly follows the </span>“bless” model<span class="uwave">, </span>also known as <span class="uwave">the </span>“Apple Boot Policy”. The primary <span class="sout">specialty of
</span><span class="uwave">purpose of the </span>“bless” model is to allow embedding boot options within the file system (and be accessible through a specialised
driver) as well as supporting a broader range of predefined boot paths <span class="uwave">as </span>compared to the removable media list <span class="sout">found </span><span class="uwave">set out </span>in
the UEFI specification.
</p><!--l. 3038--><p class="noindent" ><span class="sout">Each partition will only be used for booting when it corresponds to “Scan policy”: a set of restrictions to only use partitions
with </span><span class="uwave">Partitions can only booted by OpenCore when they meet the requirements of a predefined </span><span class="uwave">Scan policy</span><span class="uwave">. This policy sets
out which </span>specific file systems <span class="sout">and from </span><span class="uwave">a partition must have, and which </span>specific device types <span class="sout">. Scan policy behaviour is
discussed in </span><span class="uwave">a partition must be located on, to be made available by OpenCore as a boot option. Refer to the </span>ScanPolicy
property <span class="sout">description</span><span class="uwave">for more details</span>.
</p><!--l. 3044--><p class="noindent" ><span class="sout">Scan </span><span class="uwave">The scan </span>process starts with <span class="sout">obtaining all the partitionsfiltered with “Scan policy”</span><span class="uwave">enumerating all available partitions,
filtered based on the </span><span class="uwave">Scan policy</span>. Each partition may <span class="sout">produce </span><span class="uwave">generate </span>multiple primary and alternate options. Primary
options <span class="sout">describe </span><span class="uwave">represent </span>operating systems installed on <span class="sout">this media. Alternate options describe </span><span class="uwave">the media, while alternate
options represent </span>recovery options for the operating systems on the media. <span class="sout">It is possible for alternate options to
</span></p>
     <ul class="itemize1">
     <li class="itemize"><span class="uwave">Alternate options may </span>exist without primary options and vice versa. <span class="sout">Be warned that the options </span>
     </li>
     <li class="itemize"><span class="uwave">Options </span>may not necessarily <span class="sout">describe the </span><span class="uwave">represent </span>operating systems on the same partition.
     </li>
     <li class="itemize">Each primary and alternate option can be an auxiliary option or not<span class="sout">, refer to </span><span class="uwave">. </span>
         <ul class="itemize2">
         <li class="itemize"><span class="uwave">Refer to the </span>HideAuxiliary <span class="uwave">section </span>for more details. <span class="sout">Algorithm </span></li></ul>
     </li></ul>
<!--l. 3059--><p class="noindent" ><span class="uwave">The algorithm </span>to determine boot options behaves as follows:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-42002x1">Obtain all available partition handles filtered <span class="sout">by “Scan policy” </span><span class="uwave">based on the </span><span class="uwave">Scan policy</span> (and driver availability).
     </li>
     <li 
  class="enumerate" id="x1-42004x2">Obtain all available boot options from <span class="uwave">the </span>BootOrder UEFI variable.
     </li>
     <li 
  class="enumerate" id="x1-42006x3">For each <span class="sout">found boot option </span><span class="uwave">boot option found</span>:
         <ul class="itemize1">
         <li class="itemize">Retrieve <span class="uwave">the </span>device path of the boot option.
         </li>
         <li class="itemize">Perform fixups (e.g. NVMe subtype correction) and expansion (e.g. for Boot Camp) of the device path.
         </li>
         <li class="itemize">Obtain <span class="uwave">the </span>device handle by locating <span class="uwave">the </span>device path of the resulting device path (ignore it on failure).
         </li>
         <li class="itemize"><span class="sout">Find </span><span class="uwave">Locate the </span>device handle in the list of partition handles (ignore it if missing).
         </li>
         <li class="itemize">For disk device paths (not specifying a bootloader)<span class="uwave">, </span>execute “bless” (may return &#x003E; 1 entry).
         </li>
         <li class="itemize">For file device paths<span class="sout">check </span><span class="uwave">, check for </span>presence on the file system directly.
         </li>
         <li class="itemize">On <span class="uwave">the </span>OpenCore boot partition<span class="uwave">, </span>exclude all OpenCore bootstrap files by <span class="uwave">file </span>header checks.
                                                                                                  
                                                                                                  
         </li>
         <li class="itemize">Mark device handle as used in the list of partition handles if any.
         </li>
         <li class="itemize">Register the resulting entries as primary options and determine their types. <br 
class="newline" />The option will become auxiliary for some types (e.g. Apple HFS recovery).</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-42008x4">For each partition handle:
         <ul class="itemize1">
         <li class="itemize">If <span class="uwave">the </span>partition handle is marked as unused<span class="uwave">, </span>execute “bless” primary option list retrieval. <br 
class="newline" />In case <span class="uwave">a </span>BlessOverride list is set, <span class="sout">not only standard </span><span class="uwave">both standard and custom </span>“bless” paths will be
         found<span class="sout">but also custom ones</span>.
         </li>
         <li class="itemize">On <span class="uwave">the </span>OpenCore boot partition<span class="sout">exclude all </span><span class="uwave">, exclude </span>OpenCore bootstrap files <span class="sout">by </span><span class="uwave">using </span>header checks.
         </li>
         <li class="itemize">Register the resulting entries as primary options and determine their types if found. <br 
class="newline" />The option will become auxiliary for some types (e.g. Apple HFS recovery).
         </li>
         <li class="itemize">If <span class="uwave">a </span>partition already has <span class="uwave">any </span>primary options of <span class="uwave">the </span>“Apple Recovery” type<span class="sout">proceed to </span><span class="uwave">, proceed to the </span>next
         handle.
         </li>
         <li class="itemize">Lookup alternate entries by “bless” recovery option list retrieval and predefined paths.
         </li>
         <li class="itemize">Register the resulting entries as alternate auxiliary options and determine their types if found.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-42010x5">Custom entries and tools are added as primary options without any checks with respect to Auxiliary.
     </li>
     <li 
  class="enumerate" id="x1-42012x6">System entries<span class="sout">(e.g. </span><span class="uwave">, such as </span>Reset NVRAM<span class="sout">) </span><span class="uwave">, </span>are added as primary auxiliary options.</li></ol>
<!--l. 3103--><p class="noindent" >The display order of the boot options in the <span class="uwave">OpenCore </span>picker and the boot process are determined separately from the
scanning algorithm.
</p><!--l. 3107--><p class="noindent" >The display order as follows:
</p>
     <ul class="itemize1">
     <li class="itemize">Alternate options follow corresponding primary options<span class="sout">, i. e. Apple recovery will be following </span><span class="uwave">. That is, Apple
     recovery options will follow </span>the relevant macOS option whenever possible.
     </li>
     <li class="itemize">Options will be listed in file system handle firmware order to maintain an established order across <span class="sout">the </span>reboots
     regardless of the <span class="sout">chosen operating system </span><span class="uwave">operating system chosen </span>for loading.
     </li>
     <li class="itemize">Custom entries, tools, and system entries will be added after all other options.
     </li>
     <li class="itemize">Auxiliary options will only <span class="sout">show </span><span class="uwave">be displayed </span>upon entering “<span class="sout">Advanced </span><span class="uwave">Extended </span>Mode” in the <span class="sout">picker (usually
     by pressing “Space”</span><span class="uwave">OpenCore picker (typically by pressing the </span><span class="uwave">Space</span> <span class="uwave">key</span>).</li></ul>
<!--l. 3120--><p class="noindent" >The boot process is as follows: </p>
     <ul class="itemize1">
     <li class="itemize"><span class="sout">Try looking up </span><span class="uwave">Look up the </span>first valid primary option <span class="sout">through </span><span class="uwave">in the </span>BootNext UEFI variable.
     </li>
     <li class="itemize">On failure<span class="sout">looking up </span><span class="uwave">, look up the </span>first valid primary option <span class="sout">through </span><span class="uwave">in the </span>BootOrder UEFI variable.
     </li>
     <li class="itemize">Mark the option as the default option to boot.
     </li>
     <li class="itemize">Boot option through the picker or without it depending on the ShowPicker option.
     </li>
     <li class="itemize">Show picker on failure otherwise.</li></ul>
<!--l. 3130--><p class="noindent" >Note 1: This process <span class="sout">is meant to work reliably only when </span><span class="uwave">will only work reliably when the </span>RequestBootVarRouting option is
                                                                                                  
                                                                                                  
enabled or the firmware does not control UEFI boot options (OpenDuetPkg or custom BDS). <span class="sout">Without </span><span class="uwave">When </span>LauncherOption
<span class="sout">it also is possible that </span><span class="uwave">is not enabled, </span>other operating systems <span class="sout">overwrite OpenCore, make sure to enable it </span><span class="uwave">may overwrite
OpenCore settings and this property should therefore be enabled </span>when planning to use <span class="sout">them</span><span class="uwave">other operating
systems</span>.
</p><!--l. 3136--><p class="noindent" >Note 2: UEFI variable boot options <span class="sout">’ </span>boot arguments will be removed<span class="sout">if present </span><span class="uwave">, if present, </span>as they may contain arguments
<span class="sout">compromising </span><span class="uwave">that can compromise </span>the operating system, which is <span class="sout">undesired once </span><span class="uwave">undesirable when </span>secure boot is
enabled.
</p><!--l. 3140--><p class="noindent" >Note 3: Some operating systems, <span class="sout">namely Windows, will create their </span><span class="uwave">such as Windows, may create a </span>boot option and mark it as
<span class="sout">top most </span><span class="uwave">the topmost option </span>upon first boot or after NVRAM <span class="sout">Reset</span><span class="uwave">resets from within OpenCore</span>. When this happens<span class="uwave">, the
</span>default boot entry choice will <span class="sout">update till </span><span class="uwave">remain changed until the </span>next manual reconfiguration.
<a 
 id="x1-42013r45"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">8.2   </span> <a 
 id="x1-430002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-43002x1">Boot<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply <span class="uwave">the </span>boot configuration described in <span class="uwave">the </span><a 
href="#x1-440003">Boot Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-43004x2">BlessOverride<br 
class="newline" />Type: plist array<br 
class="newline" />Description: Add custom scanning paths through <span class="uwave">the </span>bless model.
     <!--l. 3158--><p class="noindent" >Designed to be filled with plist string entries containing absolute UEFI paths to customised bootloaders
     <span class="sout">,  for  example,  </span><span class="uwave">such  as  </span>\EFI\debian\grubx64.efi  for  <span class="uwave">the  </span>Debian  bootloader.   This  allows  <span class="sout">unusual
     </span><span class="uwave">non-standard  </span>boot  paths  to  be  automatically  discovered  by  the  <span class="sout">boot  </span><span class="uwave">OpenCore  </span>picker.  Designwise<span class="uwave">,  </span>they
     are  equivalent  to  predefined  blessed  <span class="sout">path</span><span class="uwave">paths</span>,  such  as  \System\Library\CoreServices\boot.efi or
     \EFI\Microsoft\Boot\bootmgfw.efi,  but  unlike  predefined  bless  paths<span class="sout">they  have  </span><span class="uwave">,  they  have  the  </span>highest
     priority.
     </p></li>
     <li 
  class="enumerate" id="x1-43006x3">Debug<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply debug configuration described in <span class="uwave">the </span><a 
href="#x1-450004">Debug Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-43008x4">Entries<br 
class="newline" />Type: plist array<br 
class="newline" />Description: Add boot entries to <span class="sout">boot </span><span class="uwave">OpenCore </span>picker.
     <!--l. 3179--><p class="noindent" >Designed to be filled with plist dict values, describing each load entry. See <span class="uwave">the </span><a 
href="#x1-470006">Entry Properties</a> section below.
     </p></li>
     <li 
  class="enumerate" id="x1-43010x5">Security<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Apply <span class="uwave">the </span>security configuration described in <span class="uwave">the </span><a 
href="#x1-460005">Security Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-43012x6">Tools<a 
 id="x1-430116"></a><br 
class="newline" />Type: plist array<br 
class="newline" />Description: Add tool entries to <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker.
     <!--l. 3193--><p class="noindent" >Designed to be filled with plist dict values, describing each load entry. See <span class="uwave">the </span><a 
href="#x1-470006">Entry Properties</a> section below.
     </p><!--l. 3196--><p class="noindent" >Note: <span class="sout">Select tools, for example, </span><span class="uwave">Certain UEFI tools, such as </span>UEFI Shell, <span class="sout">are </span><span class="uwave">can be </span>very dangerous and MUST
     NOT appear in production configurations, <span class="sout">especially in vaulted ones and protected with </span><span class="uwave">paticularly in vaulted
     configurations as well as those protected by </span>secure boot, as <span class="sout">they may </span><span class="uwave">such tools can </span>be used to <span class="sout">easily bypass
     </span><span class="uwave">bypass the </span>secure boot chain. <span class="sout">For tool examples check </span><span class="uwave">Refer to </span>the <a 
href="#x1-650003">UEFI</a> section <span class="sout">of this document</span><span class="uwave">for examples
     of UEFI tools</span>.
</p>
                                                                                                  
                                                                                                  
     </li></ol>
<a 
 id="x1-43013r46"></a>
<h4 class="subsectionHead"><span class="titlemark">8.3   </span> <a 
 id="x1-440003"></a>Boot Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-44002x1">ConsoleAttributes<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets specific attributes for <span class="uwave">the </span>console.
     <!--l. 3217--><p class="noindent" ><span class="sout">Text </span><span class="uwave">The text </span>renderer supports colour arguments as a sum of foreground and background colours <span class="sout">according to
     </span><span class="uwave">based on the </span>UEFI specification. The value <span class="sout">of </span><span class="uwave">for </span>black background and <span class="sout">black foreground (</span><span class="uwave">for black foreground,
     </span>0<span class="sout">) </span><span class="uwave">, </span>is reserved.
     </p><!--l. 3222--><p class="noindent" >List of colour <span class="uwave">values and </span>names:
</p>
         <ul class="itemize1">
         <li class="itemize">0x00 — EFI_BLACK
         </li>
         <li class="itemize">0x01 — EFI_BLUE
         </li>
         <li class="itemize">0x02 — EFI_GREEN
         </li>
         <li class="itemize">0x03 — EFI_CYAN
         </li>
         <li class="itemize">0x04 — EFI_RED
         </li>
         <li class="itemize">0x05 — EFI_MAGENTA
         </li>
         <li class="itemize">0x06 — EFI_BROWN
         </li>
         <li class="itemize">0x07 — EFI_LIGHTGRAY
         </li>
         <li class="itemize">0x08 — EFI_DARKGRAY
         </li>
         <li class="itemize">0x09 — EFI_LIGHTBLUE
         </li>
         <li class="itemize">0x0A — EFI_LIGHTGREEN
         </li>
         <li class="itemize">0x0B — EFI_LIGHTCYAN
         </li>
         <li class="itemize">0x0C — EFI_LIGHTRED
         </li>
         <li class="itemize">0x0D — EFI_LIGHTMAGENTA
         </li>
         <li class="itemize">0x0E — EFI_YELLOW
         </li>
         <li class="itemize">0x0F — EFI_WHITE
         </li>
         <li class="itemize">0x00 — EFI_BACKGROUND_BLACK
         </li>
         <li class="itemize">0x10 — EFI_BACKGROUND_BLUE
         </li>
         <li class="itemize">0x20 — EFI_BACKGROUND_GREEN
         </li>
         <li class="itemize">0x30 — EFI_BACKGROUND_CYAN
         </li>
         <li class="itemize">0x40 — EFI_BACKGROUND_RED
                                                                                                  
                                                                                                  
         </li>
         <li class="itemize">0x50 — EFI_BACKGROUND_MAGENTA
         </li>
         <li class="itemize">0x60 — EFI_BACKGROUND_BROWN
         </li>
         <li class="itemize">0x70 — EFI_BACKGROUND_LIGHTGRAY</li></ul>
     <!--l. 3252--><p class="noindent" >Note: This option may not work well with <span class="uwave">the </span>System text renderer. Setting a background different from black could help
     <span class="sout">testing proper GOP functioning</span><span class="uwave">with testing GOP functionality</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-44004x2">HibernateMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Hibernation detection mode. The following modes are supported:
         <ul class="itemize1">
         <li class="itemize">None — Avoid hibernation (Recommended).
         </li>
         <li class="itemize">Auto — Use RTC and NVRAM detection.
         </li>
         <li class="itemize">RTC — Use RTC detection.
         </li>
         <li class="itemize">NVRAM — Use NVRAM detection.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-44006x3">HideAuxiliary<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Hides </span><span class="uwave">Set to </span><span class="uwave">true</span> <span class="uwave">to hide </span>auxiliary entries from <span class="sout">picker menu by default</span><span class="uwave">the picker menu</span>.
     <!--l. 3275--><p class="noindent" >An entry is considered auxiliary when at least one of the following applies:
</p>
         <ul class="itemize1">
         <li class="itemize">Entry is macOS recovery.
         </li>
         <li class="itemize">Entry is macOS Time Machine.
         </li>
         <li class="itemize">Entry is explicitly marked as Auxiliary.
         </li>
         <li class="itemize">Entry is system (e.g. Reset NVRAM).</li></ul>
     <!--l. 3285--><p class="noindent" >To <span class="sout">see all entriespicker menu needs to be reloaded in extended mode by pressing </span><span class="uwave">display all entries, the picker menu can
     be reloaded into “Extended Mode” by pressing the </span>Spacebar key. Hiding auxiliary entries may increase boot performance
     <span class="sout">for multidisk </span><span class="uwave">on multi-disk </span>systems.
     </p></li>
     <li 
  class="enumerate" id="x1-44008x4">LauncherOption<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Disabled<br 
class="newline" />Description: Register <span class="uwave">the </span>launcher option in <span class="uwave">the </span>firmware preferences for persistence.
     <!--l. 3294--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Disabled — do nothing.
         </li>
         <li class="itemize">Full — create or update <span class="sout">top-priority </span><span class="uwave">the top priority </span>boot option in UEFI variable storage at bootloader
         startup.
             <ul class="itemize2">
                                                                                                  
                                                                                                  
             <li class="itemize">For this option to work<span class="uwave">, </span>RequestBootVarRouting is required to be enabled.</li></ul>
         </li>
         <li class="itemize">Short — create a short boot option instead of a complete one.
             <ul class="itemize2">
             <li class="itemize">This variant is useful for some older <span class="sout">firmwares, Insyde in particular, but possibly others, which cannot
             handle </span><span class="uwave">types of firmware, typically from Insyde, that are unable to manage </span>full device paths.</li></ul>
         </li></ul>
     <!--l. 3316--><p class="noindent" >This option <span class="sout">provides </span><span class="uwave">allows </span>integration with third-party operating system installation and <span class="sout">upgrade at the times they
     overwrite </span><span class="uwave">upgrades (which may overwrite the </span>\EFI\BOOT\BOOTx64.efi file<span class="sout">. By creating a custom option in this file path
     becomes </span><span class="uwave">). The BOOTx64.efi file is </span>no longer used for bootstrapping OpenCore <span class="sout">. The </span><span class="uwave">if a custom option is
     created. The custom </span>path used for bootstrapping <span class="sout">is specified in </span><span class="uwave">can be specified by using the </span>LauncherPath
     option.
     </p><!--l. 3322--><p class="noindent" >Note 1: Some types of firmware may have <span class="sout">faulty NVRAM </span><span class="uwave">defective NVRAM implementation</span>, no boot option support, or
     other incompatibilities. While unlikely, the use of this option may <span class="sout">even </span>cause boot failures <span class="sout">. This option
     should be used without any warranty </span><span class="uwave">and should only be used </span>exclusively on the boards known to be
     compatible. <span class="sout">Check </span><span class="uwave">Refer to </span><a 
href="https://github.com/acidanthera/bugtracker/issues/1222" >acidanthera/bugtracker#1222</a> for some known issues with Haswell and other
     boards.
     </p><!--l. 3329--><p class="noindent" >Note 2: <span class="sout">Be aware that while NVRAM reset </span><span class="uwave">While NVRAM resets </span>executed from OpenCore <span class="sout">should not </span><span class="uwave">would not
     typically </span>erase the boot option created in Bootstrap, executing NVRAM <span class="sout">reset </span><span class="uwave">resets </span>prior to loading OpenCore will
     <span class="sout">remove it. For </span><span class="uwave">erase the boot option. Therefore, for </span>significant implementation updates (e.g. in OpenCore 0.6.4)<span class="sout">make sure
     to perform NVRAM reset </span><span class="uwave">, an NVRAM reset should be performed </span>with Bootstrap disabled <span class="sout">before reenabling</span><span class="uwave">after which
     it can be reenabled</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-44010x5">LauncherPath<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Default<br 
class="newline" />Description: Launch path for <span class="uwave">the </span>LauncherOption <span class="uwave">property</span>.
     <!--l. 3342--><p class="noindent" >Default <span class="sout">stays for launched </span><span class="uwave">points to </span>OpenCore.efi<span class="sout">, any other path, </span><span class="uwave">. User specified paths, </span>e.g.
     \EFI\<span class="sout">Launcher</span><span class="uwave">SomeLauncher</span>.efi, can be used to provide custom loaders, which are supposed to load OpenCore.efi
     themselves.
     </p></li>
     <li 
  class="enumerate" id="x1-44012x6">PickerAttributes<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets specific attributes for <span class="uwave">the OpenCore </span>picker.
     <!--l. 3354--><p class="noindent" >Different <span class="uwave">OpenCore </span>pickers may be configured through the attribute mask containing OpenCore-reserved (BIT0~BIT15)
     and OEM-specific (BIT16~BIT31) values.
     </p><!--l. 3358--><p class="noindent" >Current OpenCore values include:
</p>
         <ul class="itemize1">
         <li class="itemize">0x0001 — OC_ATTR_USE_VOLUME_ICON, provides custom icons for boot entries:
         <!--l. 3365--><p class="noindent" >For Tools<span class="sout">OpenCore will try to load </span><span class="uwave">, OpenCore will attempt loading </span>a custom icon and fallback to <span class="sout">the default icon
         </span><span class="uwave">a default icon on failure</span>: </p>
             <ul class="itemize2">
             <li class="itemize">ResetNVRAM — Resources\Image\ResetNVRAM.icns — ResetNVRAM.icns from icons directory.
             </li>
             <li class="itemize">Tools\&#x003C;TOOL_RELATIVE_PATH&#x003E;.icns — icon near the tool file with appended .icns extension.</li></ul>
         <!--l. 3374--><p class="noindent" >For custom boot Entries<span class="sout">OpenCore will try to load </span><span class="uwave">, OpenCore will attempt loading </span>a custom icon and fallback to
         the volume icon or the default icon <span class="uwave">on failure</span>: </p>
             <ul class="itemize2">
             <li class="itemize">&#x003C;ENTRY_PATH&#x003E;.icns — icon near the entry file with appended .icns extension.</li></ul>
         <!--l. 3381--><p class="noindent" >For all other entries<span class="sout">OpenCore will try to load </span><span class="uwave">, OpenCore will attempt loading </span>a volume icon <span class="sout">and </span><span class="uwave">by searching as
                                                                                                  
                                                                                                  
         follows, and will </span>fallback to the default icon <span class="uwave">on failure</span>: </p>
             <ul class="itemize2">
             <li class="itemize">.VolumeIcon.icns     file        at        Preboot     volume        <span class="sout">directory        </span><span class="uwave">in        per-volume
             directory (</span><span class="uwave">/System/Volumes/Preboot/{GUID}/</span> <span class="uwave">when mounted at the default location within macOS)
             </span>for APFS (if present).
             </li>
             <li class="itemize">.VolumeIcon.icns file at <span class="uwave">the </span>Preboot <span class="sout">root </span><span class="uwave">volume root (</span><span class="uwave">/System/Volumes/Preboot/</span><span class="uwave">, when mounted
             at the default location within macOS) </span>for APFS (otherwise).
             </li>
             <li class="itemize">.VolumeIcon.icns file at <span class="uwave">the </span>volume root for other filesystems.</li></ul>
         <!--l. 3395--><p class="noindent" ><span class="sout">Volume icons can be set in Finder. Note, that enabling this may result in external and internal icons
         to be indistinguishable. </span><span class="uwave">Note 1</span><span class="uwave">: The Apple picker partially supports placing a volume icon file at
         the operating system’s </span><span class="uwave">Data</span> <span class="uwave">volume root, </span><span class="uwave">/System/Volumes/Data/</span><span class="uwave">, when mounted at the default
         location within macOS. This approach is flawed: the file is neither accessible to OpenCanopy nor to
         the Apple picker when FileVault 2, which is meant to be the default choice, is enabled. Therefore,
         OpenCanopy does not attempt supporting Apple’s approach. A volume icon file may be placed at the root
         of the </span><span class="uwave">Preboot</span> <span class="uwave">volume for compatibility with both OpenCanopy and the Apple picker, or use the
         </span><span class="uwave">Preboot</span> <span class="uwave">per-volume location as above with OpenCanopy as a preferred alternative to Apple’s approach.
         </span>
         </p><!--l. 3404--><p class="noindent" ><span class="uwave">Note 2</span><span class="uwave">: Be aware that using a volume icon on any drive overrides the normal OpenCore picker behaviour for
         that drive of selecting the appropriate icon depending on whether the drive is internal or external.
         </span>
         </p></li>
         <li class="itemize">0x0002 — OC_ATTR_USE_DISK_LABEL_FILE, provides custom rendered titles for boot entries:
             <ul class="itemize2">
             <li class="itemize">.disk_label (.disk_label_2x) file near bootloader for all filesystems.
             </li>
             <li class="itemize">&#x003C;TOOL_NAME&#x003E;.lbl (&#x003C;TOOL_NAME&#x003E;.l2x) file near tool for Tools.</li></ul>
         <!--l. 3415--><p class="noindent" >Prerendered labels can be generated via <span class="uwave">the </span>disklabel utility or <span class="uwave">the </span>bless command. When disabled
         or missing text labels<span class="uwave">, </span>(.contentDetails or .disk_label.contentDetails) are to be rendered
         instead.
         </p></li>
         <li class="itemize">0x0004 — OC_ATTR_USE_GENERIC_LABEL_IMAGE, provides predefined label images for boot entries without custom
         entries. <span class="sout">May </span><span class="uwave">This may however </span>give less detail for the actual boot entry.
         </li>
         <li class="itemize">0x0008 — OC_ATTR_HIDE_THEMED_ICONS, prefers builtin icons for certain icon categories to match
         the theme style. For example, this could force displaying the builtin Time Machine icon. Requires
         OC_ATTR_USE_VOLUME_ICON.
         </li>
         <li class="itemize">0x0010 — OC_ATTR_USE_POINTER_CONTROL, <span class="sout">enable </span><span class="uwave">enables </span>pointer control in the <span class="uwave">OpenCore </span>picker when available.
         For example, this could make use of mouse or trackpad to control UI elements.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-44014x7">PickerAudioAssist<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable screen reader by default in <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker.
     <!--l. 3435--><p class="noindent" >For <span class="sout">macOS bootloader </span><span class="uwave">the macOS bootloader, </span>screen reader preference is set in <span class="uwave">the </span>preferences.efires archive in <span class="uwave">the
     </span>isVOEnabled.int32 file and is controlled by the operating system. For OpenCore screen reader support<span class="uwave">, </span>this option is an
     independent equivalent. Toggling screen reader support in both <span class="sout">OpenCore boot picker and </span><span class="uwave">the OpenCore picker and
     the </span>macOS bootloader FileVault 2 login window can also be done <span class="sout">with </span><span class="uwave">by using the </span>Command + F5 key
     combination.
     </p><!--l. 3442--><p class="noindent" >Note: <span class="uwave">The </span>screen reader requires working audio support<span class="sout">, see </span><span class="uwave">. Refer to the </span><a 
href="#x1-700008">UEFI Audio Properties</a> section for more
     details.
     </p></li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-44016x8">PollAppleHotKeys<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable modifier hotkey handling in <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker.
     <!--l. 3452--><p class="noindent" >In addition to action hotkeys, which are partially described in PickerMode section and are normally handled by Apple
     BDS, <span class="sout">there exist modifier keys , which are handled by </span><span class="uwave">modifier keys handled by the </span>operating system bootloader <span class="sout">, namely
     </span><span class="uwave">(</span>boot.efi<span class="uwave">) also exist</span>. These keys allow <span class="sout">to change operating system behaviour </span><span class="uwave">changing the behaviour of the operating
     system </span>by providing different boot modes.
     </p><!--l. 3458--><p class="noindent" >On <span class="sout">some types of firmware, it </span><span class="uwave">certain firmware, using modifier keys </span>may be problematic <span class="sout">to use modifier keys </span>due to driver
     incompatibilities. To workaround this problem<span class="uwave">, </span>this option allows registering <span class="sout">select </span><span class="uwave">certain </span>hotkeys in a more permissive
     manner from within <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker. Such extensions include <span class="sout">the support of </span><span class="uwave">support for </span>tapping on keys in
     addition to holding and pressing Shift along with other keys instead of <span class="sout">just </span><span class="uwave">only pressing the </span>Shift <span class="sout">alone</span><span class="uwave">key</span>, which is
     not detectable on many PS/2 keyboards.
     </p><!--l. 3465--><p class="noindent" >This list of known modifier hotkeys includes: </p>
         <ul class="itemize1">
         <li class="itemize">CMD+C+MINUS — disable board compatibility checking.
         </li>
         <li class="itemize">CMD+K — boot release kernel, similar to kcsuffix=release.
         </li>
         <li class="itemize">CMD+S — single user mode.
         </li>
         <li class="itemize">CMD+S+MINUS — disable KASLR slide, requires disabled SIP.
         </li>
         <li class="itemize">CMD+V — verbose mode.
         </li>
         <li class="itemize">Shift — safe mode.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-44018x9">ShowPicker<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Show <span class="sout">simple boot </span><span class="uwave">a simple </span>picker to allow boot entry selection.
     </li>
     <li 
  class="enumerate" id="x1-44020x10">TakeoffDelay<br 
class="newline" />Type: plist integer, 32 bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Delay in microseconds <span class="sout">performed before handling </span><span class="uwave">executed before handling the OpenCore </span>picker startup
     and action hotkeys.
     <!--l. 3490--><p class="noindent" >Introducing a delay may give extra time to hold the right action hotkey sequence to<span class="sout">e.g. boot to </span><span class="uwave">, for instance,
     boot into </span>recovery mode. On some platforms<span class="uwave">, </span>setting this option to <span class="sout">at least </span><span class="uwave">a minimum of </span>5000-10000
     microseconds may be <span class="sout">necessary </span><span class="uwave">required </span>to access action hotkeys <span class="sout">at all </span>due to the nature of the keyboard
     driver.
     </p></li>
     <li 
  class="enumerate" id="x1-44022x11">Timeout<br 
class="newline" />Type: plist integer, 32 bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Timeout in seconds in <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker before automatic booting of the default boot entry. <span class="sout">Use 0
     to disable timer</span><span class="uwave">Set to </span><span class="uwave">0</span> <span class="uwave">to disable</span>.
     </li>
     <li 
  class="enumerate" id="x1-44024x12">PickerMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Builtin<br 
class="newline" />Description: Choose <span class="sout">boot </span>picker used for boot management.
                                                                                                  
                                                                                                  
     <!--l. 3508--><p class="noindent" ><span class="sout">Picker describes </span><span class="uwave">PickerMode</span> <span class="uwave">describes the </span>underlying boot management with an optional user interface responsible for
     handling boot options.
     </p><!--l. 3512--><p class="noindent" >The following values are supported:
</p>
         <ul class="itemize1">
         <li class="itemize">Builtin — boot management is handled by OpenCore, a simple <span class="sout">text only </span><span class="uwave">text-only </span>user interface is used.
         </li>
         <li class="itemize">External — an external boot management protocol is used if available. Otherwise<span class="uwave">, the </span>Builtin mode is
         used.
         </li>
         <li class="itemize">Apple — Apple boot management is used if available. Otherwise<span class="uwave">, the </span>Builtin mode is used.</li></ul>
     <!--l. 3524--><p class="noindent" >Upon success<span class="uwave">, the </span>External mode <span class="sout">will </span><span class="uwave">may </span>entirely disable all boot management in OpenCore except <span class="uwave">for </span>policy
     enforcement. In <span class="uwave">the </span>Apple mode<span class="uwave">, </span>it may additionally bypass policy enforcement. <span class="sout">See </span><span class="uwave">Refer to the </span><a 
href="#x1-660004">OpenCanopy</a> plugin for
     an example of a custom user interface.
     </p><!--l. 3529--><p class="noindent" ><span class="uwave">The </span>OpenCore built-in <span class="sout">boot </span>picker contains a set of actions chosen during the boot process. The list of supported actions
     is similar to Apple BDS and <span class="sout">in general </span><span class="uwave">typically </span>can be accessed by holding action hotkeys during <span class="uwave">the </span>boot process.
     <span class="sout">Currently the </span>
     </p><!--l. 3534--><p class="noindent" ><span class="uwave">The </span>following actions are <span class="uwave">currently </span>considered:
</p>
         <ul class="itemize1">
         <li class="itemize">Default — this is the default option, and it lets <span class="sout">OpenCore </span><span class="uwave">the </span>built-in <span class="sout">boot picker to loads </span><span class="uwave">OpenCore
         picker load </span>the default boot option as specified in <span class="uwave">the </span><a 
href="https://support.apple.com/HT202796" >Startup Disk</a> preference pane.
         </li>
         <li class="itemize">ShowPicker — this option forces <span class="sout">picker to show. Normally it can </span><span class="uwave">the OpenCore picker to be displayed.
         This can typically </span>be achieved by holding <span class="uwave">the </span>OPT key during boot. Setting ShowPicker to true will make
         ShowPicker the default option.
         </li>
         <li class="itemize">ResetNvram — this option <span class="sout">performs select UEFI variable erase </span><span class="uwave">erases certain UEFI variables </span>and is normally
         <span class="sout">achieved by holding </span><span class="uwave">executed by holding down the </span>CMD+OPT+P+R key combination during boot. Another
         way  to  erase  UEFI  variables  is  to  choose  Reset NVRAM in  the  <span class="uwave">OpenCore  </span>picker.  This  option  requires
         AllowNvramReset to be set to true.
         </li>
         <li class="itemize">BootApple — this options performs booting to the first <span class="sout">found </span>Apple operating system <span class="sout">unless the default
         chosen </span><span class="uwave">found unless the chosen default </span>operating system is <span class="sout">already made by </span><span class="uwave">one from </span>Apple. Hold <span class="uwave">the </span>X
         key <span class="uwave">down </span>to choose this option.
         </li>
         <li class="itemize">BootAppleRecovery — this option performs booting <span class="sout">to </span><span class="uwave">into the </span>Apple operating system recovery <span class="sout">. Either
         the one </span><span class="uwave">partition. This is either that </span>related to the default chosen operating system, or first <span class="sout">found in case
         default chosen </span><span class="uwave">one found when the chosen default </span>operating system is not <span class="sout">made by Apple or has no recovery
         . Hold </span><span class="uwave">from Apple or does not have a recovery partition. Hold the </span>CMD+R key combination <span class="uwave">down </span>to choose
         this option.</li></ul>
     <!--l. 3559--><p class="noindent" >Note 1: <span class="sout">Activated </span><span class="uwave">The </span>KeySupport, OpenUsbKbDxe, or similar <span class="sout">driver is </span><span class="uwave">drivers are </span>required for key handling<span class="sout">to work. On
     several types of firmware, it is not possible to get all the key functions</span>. <span class="uwave">However, not all of the key handling functions can
     be implemented on several types of firmware. </span>
     </p><!--l. 3563--><p class="noindent" >Note 2: In addition to OPT<span class="sout">OpenCore supports </span><span class="uwave">, OpenCore supports using the </span>Escape key to display <span class="uwave">the OpenCore </span>picker
     when ShowPicker is disabled. This key exists for the Apple picker mode <span class="sout">and for firmware with PS/2 keyboards </span><span class="uwave">as well as
     for firmware </span>that fail to report held OPT keys <span class="sout">and requiring continual </span><span class="uwave">on PS/2 keyboards, requiring multiple </span>presses of
     the Escape key to access the <span class="sout">boot menu</span><span class="uwave">OpenCore picker</span>.
     </p><!--l. 3570--><p class="noindent" >Note 3: On Macs with problematic GOP, it may be difficult to access the Apple <span class="sout">BootPicker</span><span class="uwave">picker</span>. The BootKicker
     utility can be blessed to workaround this problem even without loading OpenCore. On some Macs however, the
     BootKicker utility cannot be run from OpenCore.
     </p></li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-44026x13">PickerVariant<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Choose specific icon set <span class="uwave">to be </span>used for boot management.
     <!--l. 3580--><p class="noindent" >The following values are supported: </p>
         <ul class="itemize1">
         <li class="itemize">Auto — Automatically select one set of icons based on <span class="uwave">the </span>DefaultBackground colour.
         </li>
         <li class="itemize">Default — Normal icon set (without prefix).
         </li>
         <li class="itemize">Old — Vintage icon set (Old filename prefix).
         </li>
         <li class="itemize">Modern — Nouveau icon set (Modern filename prefix).
         </li>
         <li class="itemize">Other value — Custom icon set if supported by <span class="sout">the </span><span class="uwave">installed </span>resources.</li></ul>
     </li></ol>
<a 
 id="x1-44027r47"></a>
<h4 class="subsectionHead"><span class="titlemark">8.4   </span> <a 
 id="x1-450004"></a>Debug Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-45002x1">AppleDebug<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable <span class="uwave">writing the </span>boot.efi debug log <span class="sout">saving to </span><span class="uwave">to the </span>OpenCore log.
     <!--l. 3603--><p class="noindent" >Note: This option only applies to 10.15.4 and newer.
     </p></li>
     <li 
  class="enumerate" id="x1-45004x2">ApplePanic<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Save macOS kernel panic <span class="sout">to </span><span class="uwave">output to the </span>OpenCore root partition.
     <!--l. 3611--><p class="noindent" >The file is saved as panic-YYYY-MM-DD-HHMMSS.txt. It is strongly recommended to <span class="sout">have </span><span class="uwave">set the </span>keepsyms=1
     boot argument to see debug symbols in the panic log. In <span class="sout">case it was not present</span><span class="uwave">cases where it is not present, the
     </span>kpdescribe.sh utility (bundled with OpenCore) may be used to partially recover the stacktrace.
     </p><!--l. 3616--><p class="noindent" >Development and debug kernels produce more <span class="sout">helpful kernel panics</span><span class="uwave">useful kernel panic logs</span>. Consider downloading
     and  installing  <span class="uwave">the  </span>KernelDebugKit from  <a 
href="https://developer.apple.com" >developer.apple.com</a>  when  debugging  a  problem.  To  activate  a
     development kernel<span class="uwave">, </span>the boot argument kcsuffix=development should be added. Use <span class="uwave">the </span>uname -a command
     to ensure that the current loaded kernel is a development (or a debug) kernel.
     </p><!--l. 3623--><p class="noindent" >In <span class="sout">case </span><span class="uwave">cases where the </span>OpenCore kernel panic saving mechanism <span class="sout">was </span><span class="uwave">is </span>not used, kernel <span class="sout">panics </span><span class="uwave">panic logs </span>may
     still be found in <span class="uwave">the </span>/Library/Logs/DiagnosticReports directory.
     </p><!--l. 3629--><p class="noindent" >Starting with macOS Catalina<span class="uwave">, </span>kernel panics are stored in JSON format <span class="sout">, so they </span><span class="uwave">and thus </span>need to be preprocessed
     before passing to kpdescribe.sh:
</p>
     <!--l. 3633-->
<a 
 id="x1-450032"></a>
     <div class="lstlisting" id="listing-5"><span class="label"><a 
 id="x1-45005r1"></a></span>cat Kernel.panic | grep macOSProcessedStackshotData | <br /><span class="label"><a 
 id="x1-45006r2"></a></span>  python -c &#x0027;import json,sys;print(json.load(sys.stdin)[&#x0022;macOSPanicString&#x0022;])&#x0027;
     
     </div>
     </li>
     <li 
  class="enumerate" id="x1-45008x3">DisableWatchDog<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware may not succeed in booting the operating system quickly, especially in debug
     mode<span class="sout">, which </span><span class="uwave">. This </span>results in the watchdog timer aborting the process. This option turns off the watchdog
     timer.
     </li>
     <li 
  class="enumerate" id="x1-45010x4">DisplayDelay<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Delay in microseconds <span class="sout">performed </span><span class="uwave">executed </span>after every printed line visible onscreen (i.e.
     console).
     </li>
     <li 
  class="enumerate" id="x1-45012x5">DisplayLevel<br 
class="newline" />Type: plist integer, 64 bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: EDK II debug level bitmask (sum) showed onscreen. Unless Target enables console (onscreen) printing,
     onscreen debug output will not be visible.
     <!--l. 3662--><p class="noindent" >The following levels are supported (discover more in <a 
href="https://github.com/acidanthera/audk/blob/master/MdePkg/Include/Library/DebugLib.h" >DebugLib.h</a>):
</p>
         <ul class="itemize1">
         <li class="itemize">0x00000002 (bit 1) — DEBUG_WARN in DEBUG, NOOPT, RELEASE.
         </li>
         <li class="itemize">0x00000040 (bit 6) — DEBUG_INFO in DEBUG, NOOPT.
         </li>
         <li class="itemize">0x00400000 (bit 22) — DEBUG_VERBOSE in custom builds.
         </li>
         <li class="itemize">0x80000000 (bit 31) — DEBUG_ERROR in DEBUG, NOOPT, RELEASE.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-45014x6">SerialInit<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Perform serial port initialisation.
     <!--l. 3682--><p class="noindent" >This option will perform serial port initialisation within OpenCore prior to enabling (any) debug logging.
     Serial port configuration is defined via PCDs at compile time in gEfiMdeModulePkgTokenSpaceGuid
     GUID.
     </p><!--l. 3687--><p class="noindent" >Default values as found in MdeModulePkg.dec are as follows:
</p>
         <ul class="itemize1">
         <li class="itemize">PcdSerialBaudRate — Baud rate: 115200.
         </li>
         <li class="itemize">PcdSerialLineControl — Line control: no parity, 8 data bits, 1 stop bit.</li></ul>
     <!--l. 3695--><p class="noindent" ><span class="sout">See more details in </span><span class="uwave">Refer to the </span><a 
href="#x1-850004">Debugging</a> section <span class="uwave">for more details</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-45016x7">SysReport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Produce system report on ESP folder.
     <!--l. 3703--><p class="noindent" >This option will create a SysReport directory <span class="sout">on </span><span class="uwave">in the </span>ESP partition unless <span class="sout">it is </span>already present. The directory will
     contain ACPI, SMBIOS, and audio codec dumps. Audio codec dumps require an audio backend driver to be
     loaded.
     </p><!--l. 3707--><p class="noindent" >Note: <span class="sout">For security reasons </span><span class="uwave">To maintain system integrity, the </span>SysReport option is not available in RELEASE builds. Use a
     DEBUG build if this option is <span class="sout">needed</span><span class="uwave">required</span>.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-45018x8">Target<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: A bitmask (sum) of enabled logging targets. <span class="sout">By default all the logging </span><span class="uwave">Logging </span>output is hidden <span class="sout">, so this
     option is required to </span><span class="uwave">by default and this option must </span>be set when <span class="sout">debugging is necessary</span><span class="uwave">such output is required, such as
     when debugging</span>.
     <!--l. 3719--><p class="noindent" >The following logging targets are supported:
</p>
         <ul class="itemize1">
         <li class="itemize">0x01 (bit 0) — Enable logging, otherwise all log is discarded.
         </li>
         <li class="itemize">0x02 (bit 1) — Enable basic console (onscreen) logging.
         </li>
         <li class="itemize">0x04 (bit 2) — Enable logging to Data Hub.
         </li>
         <li class="itemize">0x08 (bit 3) — Enable serial port logging.
         </li>
         <li class="itemize">0x10 (bit 4) — Enable UEFI variable logging.
         </li>
         <li class="itemize">0x20 (bit 5) — Enable <span class="sout">non-volatile </span><span class="uwave">non-volatile</span> UEFI variable logging.
         </li>
         <li class="itemize">0x40 (bit 6) — Enable logging to file.</li></ul>
     <!--l. 3732--><p class="noindent" >Console logging prints less than <span class="sout">all </span>the other variants. Depending on the build type (RELEASE, DEBUG, or NOOPT) different
     amount of logging may be read (from least to most).
     </p><!--l. 3736--><p class="noindent" ><span class="sout">Data Hub log will not log kernel and kext patches. </span>To obtain Data Hub <span class="sout">log </span><span class="uwave">logs, </span>use the following command in macOS
     <span class="uwave">(Note that Data Hub logs do not log kernel and kext patches)</span>: </p><!--l. 3738-->
<a 
 id="x1-450178"></a>
     <div class="lstlisting" id="listing-6"><span class="label"><a 
 id="x1-45019r1"></a></span>ioreg -lw0 -p IODeviceTree | grep boot-log | sort | sed &#x0027;s/.*&#x003C;\(.*\)&#x003E;.*/\1/&#x0027; | xxd -r -p
     
     </div>
     <!--l. 3742--><p class="noindent" >UEFI variable log does not include some messages and has no performance data. <span class="sout">For safety reasons </span><span class="uwave">To maintain system
     integrity, the </span>log size is limited to 32 kilobytes. Some types of firmware may truncate it much earlier or drop completely if
     they have no memory. Using <span class="sout">non-volatile flag will write </span>the <span class="uwave">non-volatile</span> <span class="uwave">flag will cause the </span>log to <span class="uwave">be written to
     </span>NVRAM flash after every printed line.
     </p><!--l. 3749--><p class="noindent" >To obtain UEFI variable <span class="sout">log </span><span class="uwave">logs, </span>use the following command in macOS: </p><!--l. 3750-->
     <div class="lstlisting" id="listing-7"><span class="label"><a 
 id="x1-45020r1"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:boot-log | <br /><span class="label"><a 
 id="x1-45021r2"></a></span>  awk &#x0027;{gsub(/%0d%0a%00/,&#x0022;&#x0022;);gsub(/%0d%0a/,&#x0022;\n&#x0022;)}1&#x0027;
     
     </div>
     <!--l. 3755--><p class="noindent" >Warning: <span class="sout">Some types of </span><span class="uwave">Certain </span>firmware appear to have <span class="sout">flawed </span><span class="uwave">defective </span>NVRAM garbage collection. <span class="sout">This means that
     </span><span class="uwave">As a result, </span>they may not be able to always free space after variable deletion. Do not <span class="sout">use non-volatile NVRAM
     logging without extra need </span><span class="uwave">enable </span><span class="uwave">non-volatile</span> <span class="uwave">NVRAM logging </span>on such devices <span class="uwave">unless specifically
     required</span>.
     </p><!--l. 3759--><p class="noindent" >While <span class="uwave">the </span>OpenCore boot log already contains basic version information <span class="sout">with </span><span class="uwave">including </span>build type and date, this <span class="sout">data
     </span><span class="uwave">information </span>may also be found in <span class="sout">NVRAM in </span><span class="uwave">the </span>opencore-version <span class="sout">variable even with boot log </span><span class="uwave">NVRAM variable even
     when boot logging is </span>disabled.
     </p><!--l. 3764--><p class="noindent" >File logging will create a file named opencore-YYYY-MM-DD-HHMMSS.txt <span class="sout">at </span><span class="uwave">(in UTC) under the </span>EFI volume root with log
     contents (the upper case letter sequence is replaced with date and time from the firmware). Please be warned that some
     file system drivers present in firmware are not reliable and may corrupt data when writing files through UEFI.
                                                                                                  
                                                                                                  
     Log writing is attempted in the safest manner and thus, is very slow. Ensure that DisableWatchDog is
     set to true when a slow drive is used. Try to avoid frequent use of this option when dealing with flash
     drives as large I/O amounts may <span class="sout">speedup </span><span class="uwave">speed up </span>memory wear and render the flash drive unusable
     quicker.
     </p><!--l. 3773--><p class="noindent" >When interpreting the log, note that the lines are prefixed with a tag describing the relevant location (module) of the log
     line allowing better attribution of the line to the functionality.
     </p><!--l. 3778--><p class="noindent" >The list of currently used tags is <span class="sout">provided below</span><span class="uwave">as follows</span>.
     </p><!--l. 3780--><p class="noindent" >Drivers and tools: </p>
         <ul class="itemize1">
         <li class="itemize">BMF — OpenCanopy, bitmap font
         </li>
         <li class="itemize">BS — Bootstrap
         </li>
         <li class="itemize">GSTT — GoptStop
         </li>
         <li class="itemize">HDA — AudioDxe
         </li>
         <li class="itemize">KKT — KeyTester
         </li>
         <li class="itemize">MMDD — MmapDump
         </li>
         <li class="itemize">OCPAVP — PavpProvision
         </li>
         <li class="itemize">OCRST — ResetSystem
         </li>
         <li class="itemize">OCUI — OpenCanopy
         </li>
         <li class="itemize">OC — OpenCore main, also OcMainLib
         </li>
         <li class="itemize">VMOPT — VerifyMemOpt</li></ul>
     <!--l. 3796--><p class="noindent" >Libraries: </p>
         <ul class="itemize1">
         <li class="itemize">AAPL — OcDebugLogLib, Apple EfiBoot logging
         </li>
         <li class="itemize">OCABC — OcAfterBootCompatLib
         </li>
         <li class="itemize">OCAE — OcAppleEventLib
         </li>
         <li class="itemize">OCAK — OcAppleKernelLib
         </li>
         <li class="itemize">OCAU — OcAudioLib
         </li>
         <li class="itemize">OCA —- OcAcpiLib
         </li>
         <li class="itemize">OCBP — OcAppleBootPolicyLib
         </li>
         <li class="itemize">OCB — OcBootManagementLib
         </li>
         <li class="itemize">OCCL — OcAppleChunkListLib
         </li>
         <li class="itemize">OCCPU — OcCpuLib
         </li>
         <li class="itemize">OCC — OcConsoleLib
         </li>
                                                                                                  
                                                                                                  
     </li></ol>
<a 
 id="x1-45022r48"></a>
<h4 class="subsectionHead"><span class="titlemark">8.5   </span> <a 
 id="x1-460005"></a>Security Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-46002x1">AllowNvramReset<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Allow CMD+OPT+P+R handling and enable showing NVRAM Reset entry in <span class="sout">boot </span><span class="uwave">OpenCore </span>picker.
     <!--l. 3854--><p class="noindent" >Note 1: It is known that some Lenovo laptops have a firmware bug, which makes them unbootable after performing
     NVRAM reset. See <a 
href="https://github.com/acidanthera/bugtracker/issues/995" >acidanthera/bugtracker#995</a> for more details.
     </p><!--l. 3859--><p class="noindent" >Note 2: Resetting NVRAM will also erase <span class="sout">all the boot options otherwise </span><span class="uwave">any boot options </span>not backed up <span class="sout">with
     bless (e. g. Linux ). </span><span class="uwave">using the bless command. For example, Linux installations to custom locations not specified
     in BlessOverride </span>
     </p></li>
     <li 
  class="enumerate" id="x1-46004x2">AllowSetDefault<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Allow CTRL+Enter and CTRL+Index handling to set the default boot option in <span class="sout">boot </span><span class="uwave">the OpenCore
     </span>picker.
     </li>
     <li 
  class="enumerate" id="x1-46006x3">ApECID<br 
class="newline" />Type: plist integer, 64 bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Apple Enclave Identifier.
     <!--l. 3878--><p class="noindent" >Setting this value to any non-zero 64-bit integer will allow using personalised Apple Secure Boot identifiers. To
     use this setting, <span class="sout">make sure to </span>generate a random 64-bit number with a cryptographically secure random number
     generator. As an alternative, <span class="uwave">the </span>first 8 bytes of SystemUUID can be used for ApECID, this is found in macOS 11
     for Macs without the T2 chip.
     </p><!--l. 3885--><p class="noindent" >With this value set and SecureBootModel valid <span class="uwave">(</span>and not Disabled<span class="uwave">), </span>it is possible to achieve <a 
href="https://support.apple.com/en-us/HT208330" >Full Security</a> of
     Apple Secure Boot.
     </p><!--l. 3890--><p class="noindent" >To  start  using  personalised  Apple  Secure  Boot,  the  operating  system  <span class="sout">will  have  to  </span><span class="uwave">must  </span>be  reinstalled  or
     personalised. Unless the operating system is personalised, macOS DMG recovery cannot be loaded. <span class="sout">If </span><span class="uwave">In cases
     where </span>DMG recovery is missing, it can be downloaded <span class="sout">with </span><span class="uwave">by using the </span>macrecovery utility and <span class="sout">put to </span><span class="uwave">saved
     in </span>com.apple.recovery.boot as explained in <span class="uwave">the </span><a 
href="#x1-860095">Tips and Tricks</a> section. Note that <a 
href="#x1-460186">DMG loading</a> needs to be
     set to Signed to use any DMG with Apple Secure Boot.
     </p><!--l. 3901--><p class="noindent" >To personalise an existing operating system<span class="sout">use </span><span class="uwave">, use the </span>bless command after loading to macOS DMG recovery.
     Mount the system volume partition, unless it has already been mounted, and execute the following command:
</p>
     <!--l. 3905-->
<a 
 id="x1-460053"></a>
     <div class="lstlisting" id="listing-8"><span class="label"><a 
 id="x1-46007r1"></a></span>bless bless --folder &#x0022;/Volumes/Macintosh HD/System/Library/CoreServices&#x0022; \ <br /><span class="label"><a 
 id="x1-46008r2"></a></span>  --bootefi --personalize
     
     </div>
     <!--l. 3910--><p class="noindent" ><span class="sout">Before macOS </span><span class="uwave">On macOS versions before macOS </span>11, which introduced a dedicated x86legacy model for models
     without the T2 chip, personalised Apple Secure Boot may not work as expected. When reinstalling the
     operating system, <span class="uwave">the </span>macOS Installer from macOS 10.15 and older <span class="sout">, will usually </span><span class="uwave">will often </span>run out of free
     memory on the /var/tmp partition when trying to install macOS with the personalised Apple Secure
     Boot. Soon after downloading the macOS installer image<span class="uwave">, </span>an Unable to verify macOS error message will
     appear.
                                                                                                  
                                                                                                  
     </p><!--l. 3919--><p class="noindent" >To workaround this issue<span class="uwave">, </span>allocate a dedicated RAM disk of 2 MBs for macOS personalisation by entering the following
     commands in <span class="uwave">the </span>macOS recovery terminal before starting the installation:
</p>
     <!--l. 3922-->
     <div class="lstlisting" id="listing-9"><span class="label"><a 
 id="x1-46009r1"></a></span>disk=$(hdiutil attach -nomount ram://4096) <br /><span class="label"><a 
 id="x1-46010r2"></a></span>diskutil erasevolume HFS+ SecureBoot $disk <br /><span class="label"><a 
 id="x1-46011r3"></a></span>diskutil unmount $disk <br /><span class="label"><a 
 id="x1-46012r4"></a></span>mkdir /var/tmp/OSPersonalizationTemp <br /><span class="label"><a 
 id="x1-46013r5"></a></span>diskutil mount -mountpoint /var/tmp/OSPersonalizationTemp $disk
     
     </div>
     </li>
     <li 
  class="enumerate" id="x1-46015x4">AuthRestart<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable VirtualSMC-compatible authenticated restart.
     <!--l. 3936--><p class="noindent" >Authenticated restart is a way to reboot FileVault 2 enabled macOS without entering the password. A dedicated terminal
     command can be used to perform authenticated restarts: sudo fdesetup authrestart. It is also used when installing
     operating system updates.
     </p><!--l. 3940--><p class="noindent" >VirtualSMC performs authenticated <span class="sout">restart by </span><span class="uwave">restarts by splitting and </span>saving disk encryption <span class="sout">key split in </span><span class="uwave">keys between
     </span>NVRAM and RTC, which despite being removed as soon as OpenCore starts, may be considered a security risk and thus
     is optional.
     </p></li>
     <li 
  class="enumerate" id="x1-46017x5">BlacklistAppleUpdate<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Ignore boot options trying to update Apple peripheral firmware (e.g. MultiUpdater.efi).
     <!--l. 3952--><p class="noindent" >Note: <span class="sout">This option exists due to some </span><span class="uwave">Certain </span>operating systems, <span class="sout">namely </span><span class="uwave">such as </span>macOS Big Sur, <span class="sout">being </span><span class="uwave">are </span><a 
href="https://github.com/acidanthera/bugtracker/issues/1255" >incapable</a> of
     disabling firmware updates <span class="sout">with the NVRAM variable (</span><span class="sout">run-efi-updater</span><span class="sout">)</span><span class="uwave">by using the </span><span class="uwave">run-efi-updater</span> <span class="uwave">NVRAM
     variable</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-46019x6"><a 
 id="x1-460186"></a> DmgLoading<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Signed<br 
class="newline" />Description: Define Disk Image (DMG) loading policy used for macOS Recovery.
     <!--l. 3963--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Disabled — loading DMG images will fail. <span class="uwave">The </span>Disabled policy will still let <span class="sout">macOS Recovery to </span><span class="uwave">the macOS
         Recovery </span>load in most cases as <span class="sout">there usually </span><span class="uwave">typically, there </span>are boot.efi files compatible with Apple
         Secure Boot. Manually downloaded DMG images stored in com.apple.recovery.boot directories will not
         load, however.
         </li>
         <li class="itemize">Signed — only Apple-signed DMG images will load. Due to <span class="uwave">the design of </span>Apple Secure Boot<span class="sout">design </span><span class="uwave">, the
         </span>Signed policy will let any Apple-signed macOS Recovery <span class="sout">to </span>load regardless of <span class="uwave">the </span>Apple Secure Boot state,
         which may not always be desired. <span class="uwave">While using signed DMG images is more desirable, verifying the image
         signature may slightly slow the boot time down (by up to 1 second). </span>
         </li>
         <li class="itemize">Any — any DMG images will mount as normal filesystems. <span class="uwave">The </span>Any policy is strongly <span class="sout">not recommended
         and  will  cause  a  boot  failure  </span><span class="uwave">discouraged  and  will  result  in  boot  failures  </span>when  Apple  Secure  Boot  is
         <span class="sout">activated</span><span class="uwave">active</span>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-46021x7">EnablePassword<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable password protection to <span class="sout">allow </span><span class="uwave">facilitate </span>sensitive operations.
     <!--l. 3991--><p class="noindent" >Password protection ensures that sensitive operations such as booting a non-default operating system (e.g. macOS
     recovery or a tool), resetting NVRAM storage, trying to boot into a non-default mode (e.g. verbose mode or safe mode)
     are not allowed without explicit user authentication by a custom password. Currently<span class="uwave">, </span>password and salt are hashed with
     5000000 iterations of SHA-512.
     </p><!--l. 3997--><p class="noindent" >Note: This functionality is <span class="sout">currently in </span><span class="uwave">still under </span>development and is not ready for <span class="sout">daily usage</span><span class="uwave">production
     environments</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-46023x8">ExposeSensitiveData<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0x6<br 
class="newline" />Description: Sensitive data exposure bitmask (sum) to operating system.
         <ul class="itemize1">
         <li class="itemize">0x01 — Expose <span class="uwave">the </span>printable booter path as an UEFI variable.
         </li>
         <li class="itemize">0x02 — Expose <span class="uwave">the </span>OpenCore version as an UEFI variable.
         </li>
         <li class="itemize">0x04 — Expose <span class="uwave">the </span>OpenCore version in <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker menu title.
         </li>
         <li class="itemize">0x08 — Expose OEM information as a set of UEFI variables.</li></ul>
     <!--l. 4014--><p class="noindent" ><span class="sout">Exposed </span><span class="uwave">The exposed </span>booter path points to OpenCore.efi or its booter depending on the load order. To obtain <span class="sout">booter
     path </span><span class="uwave">the booter path, </span>use the following command in macOS: </p><!--l. 4016-->
<a 
 id="x1-460228"></a>
     <div class="lstlisting" id="listing-10"><span class="label"><a 
 id="x1-46024r1"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:boot-path
     
     </div>
     <!--l. 4020--><p class="noindent" >To use <span class="sout">booter path for mounting booter volume</span><span class="uwave">a booter path to mount a booter volume, </span>use the following command in
     macOS: </p><!--l. 4021-->
     <div class="lstlisting" id="listing-11"><span class="label"><a 
 id="x1-46025r1"></a></span>u=$(nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:boot-path | sed &#x0027;s/.*GPT,\([^,]*\),.*/\1/&#x0027;); \ <br /><span class="label"><a 
 id="x1-46026r2"></a></span>  if [ &#x0022;$u&#x0022; != &#x0022;&#x0022; ]; then sudo diskutil mount $u ; fi
     
     </div>
     <!--l. 4026--><p class="noindent" >To obtain <span class="sout">OpenCore version </span><span class="uwave">the current OpenCore version, </span>use the following command in macOS: </p><!--l. 4027-->
     <div class="lstlisting" id="listing-12"><span class="label"><a 
 id="x1-46027r1"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:opencore-version
     
     </div>
     <!--l. 4031--><p class="noindent" >To obtain OEM information<span class="uwave">, </span>use the following commands in macOS: </p><!--l. 4032-->
     <div class="lstlisting" id="listing-13"><span class="label"><a 
 id="x1-46028r1"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:oem-product # SMBIOS Type1 ProductName <br /><span class="label"><a 
 id="x1-46029r2"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:oem-vendor  # SMBIOS Type2 Manufacturer <br /><span class="label"><a 
 id="x1-46030r3"></a></span>nvram 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:oem-board   # SMBIOS Type2 ProductName
     
     </div>
     </li>
     <li 
  class="enumerate" id="x1-46032x9">HaltLevel<br 
class="newline" />Type: plist integer, 64 bit<br 
class="newline" />Failsafe: 0x80000000 (DEBUG_ERROR)<br 
class="newline" />Description: EDK II debug level bitmask (sum) causing CPU to halt (stop execution) after obtaining a message of
     HaltLevel. Possible values match DisplayLevel values.
     </li>
     <li 
  class="enumerate" id="x1-46034x10">PasswordHash<br 
class="newline" />Type: plist data 64 bytes<br 
class="newline" />Failsafe: all zero<br 
class="newline" />Description: Password hash used when EnabledPassword is set.
     </li>
     <li 
  class="enumerate" id="x1-46036x11">PasswordSalt<br 
class="newline" />Type: plist data<br 
class="newline" />Failsafe: empty<br 
class="newline" />Description: Password salt used when EnabledPassword is set.
     </li>
     <li 
  class="enumerate" id="x1-46038x12"><a 
 id="x1-4603712"></a> Vault<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Secure<br 
class="newline" />Description: Enables <span class="sout">vaulting mechanism in OpenCore</span><span class="uwave">the OpenCore vaulting mechanism</span>.
     <!--l. 4064--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Optional — require nothing, no vault is enforced, insecure.
         </li>
         <li class="itemize">Basic — require vault.plist file present in OC directory. This provides basic filesystem integrity verification
         and may protect from unintentional filesystem corruption.
         </li>
         <li class="itemize">Secure — require vault.sig signature file for vault.plist in OC directory. This includes Basic integrity
         checking but also attempts to build a trusted bootchain.</li></ul>
     <!--l. 4077--><p class="noindent" ><span class="uwave">The </span>vault.plist file should contain SHA-256 hashes for all files used by OpenCore. <span class="sout">Presence </span><span class="uwave">The presence </span>of this file is
     highly recommended to ensure that unintentional file modifications (including filesystem corruption) do not <span class="sout">happen </span><span class="uwave">go
     </span>unnoticed. To create this file automatically<span class="sout">use </span><span class="uwave">, use the </span><a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Utilities/CreateVault" >create_vault.sh</a> script. <span class="sout">Regardless of the underlying filesystem,
     path name and case must match </span><span class="uwave">Notwithstanding the underlying file system, the path names and cases </span>between
     config.plist and vault.plist <span class="uwave">must match</span>.
     </p><!--l. 4086--><p class="noindent" ><span class="uwave">The </span>vault.sig file should contain a raw 256 byte RSA-2048 signature from <span class="uwave">a </span>SHA-256 hash of vault.plist. The
     signature is verified against the public key embedded into OpenCore.efi.
     </p><!--l. 4091--><p class="noindent" >To embed the public key<span class="sout">either </span><span class="uwave">, either one </span>of the following should be performed:
</p>
         <ul class="itemize1">
         <li class="itemize">Provide public key during the OpenCore.efi compilation in <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Platform/OpenCore/OpenCoreVault.c" >OpenCoreVault.c</a> file.
         </li>
         <li class="itemize">Binary patch OpenCore.efi replacing zeroes with the public key between =BEGIN OC VAULT= and ==END
         OC VAULT== ASCII markers.</li></ul>
     <!--l. 4101--><p class="noindent" ><span class="uwave">The </span>RSA public key 520 byte format description can be found in Chromium OS documentation. To convert <span class="uwave">the </span>public
     key from X.509 certificate or from PEM file use <a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Utilities/CreateVault" >RsaTool</a>.
     </p><!--l. 4106--><p class="noindent" >The complete set of commands to:
</p>
         <ul class="itemize1">
         <li class="itemize">Create vault.plist.
         </li>
         <li class="itemize">Create a new RSA key (always do this to avoid loading old configuration).
         </li>
         <li class="itemize">Embed RSA key into OpenCore.efi.
                                                                                                  
                                                                                                  
         </li>
         <li class="itemize">Create vault.sig.</li></ul>
     <!--l. 4116--><p class="noindent" >Can look as follows: </p><!--l. 4117-->
     <div class="lstlisting" id="listing-14"><span class="label"><a 
 id="x1-46039r1"></a></span>cd /Volumes/EFI/EFI/OC <br /><span class="label"><a 
 id="x1-46040r2"></a></span>/path/to/create_vault.sh . <br /><span class="label"><a 
 id="x1-46041r3"></a></span>/path/to/RsaTool -sign vault.plist vault.sig vault.pub <br /><span class="label"><a 
 id="x1-46042r4"></a></span>off=$(($(strings -a -t d OpenCore.efi | grep &#x0022;=BEGIN OC VAULT=&#x0022; | cut -f1 -d&#x0027; &#x0027;)+16)) <br /><span class="label"><a 
 id="x1-46043r5"></a></span>dd of=OpenCore.efi if=vault.pub bs=1 seek=$off count=528 conv=notrunc <br /><span class="label"><a 
 id="x1-46044r6"></a></span>rm vault.pub
     
     </div>
     <!--l. 4126--><p class="noindent" >Note 1: While it may appear obvious, an external method is required to verify OpenCore.efi and BOOTx64.efi for
     secure boot path. For this, it is recommended to enable UEFI SecureBoot using a custom certificate and to sign
     OpenCore.efi and BOOTx64.efi with a custom key. More details on customising secure boot on modern firmware can be
     found in <span class="uwave">the </span><a 
href="https://habr.com/post/273497/" >Taming UEFI SecureBoot</a> paper (in Russian).
     </p><!--l. 4134--><p class="noindent" >Note 2: vault.plist and vault.sig are used regardless of this option when vault.plist is present or <span class="uwave">a </span>public key is
     embedded into OpenCore.efi. Setting this option will only ensure configuration sanity, and abort the boot process
     otherwise.
     </p></li>
     <li 
  class="enumerate" id="x1-46046x13">ScanPolicy<br 
class="newline" />Type: plist integer, 32 bit<br 
class="newline" />Failsafe: 0x10F0103<br 
class="newline" />Description: Define operating system detection policy.
     <!--l. 4145--><p class="noindent" >This value allows <span class="sout">to prevent </span><span class="uwave">preventing </span>scanning (and booting) <span class="sout">from untrusted source </span><span class="uwave">untrusted sources </span>based on a
     bitmask (sum) of <span class="sout">select </span><span class="uwave">a set of </span>flags. As it is not possible to reliably detect every file system or device type,
     this feature cannot be fully relied upon in open environments, and <span class="sout">the </span>additional measures are to be
     applied.
     </p><!--l. 4152--><p class="noindent" >Third party drivers may introduce additional security (and performance) <span class="sout">measures </span><span class="uwave">consideratons </span>following the provided
     scan policy. <span class="uwave">The active </span>Scan policy is exposed in <span class="uwave">the </span>scan-policy variable of 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102
     GUID for UEFI Boot Services only.
</p>
         <ul class="itemize1">
         <li class="itemize">0x00000001 (bit 0) — OC_SCAN_FILE_SYSTEM_LOCK, restricts scanning to only known file systems defined
         as a part of this policy. File system drivers may not be aware of this policy<span class="sout">, and </span><span class="uwave">. Hence, </span>to avoid mounting
         of undesired file systems<span class="sout">it is best not to load its driver</span><span class="uwave">, drivers for such file systems should not be loaded</span>.
         This bit does not affect <span class="sout">dmg </span><span class="uwave">DMG </span>mounting, which may have any file system. Known file systems are
         prefixed with OC_SCAN_ALLOW_FS_.
         </li>
         <li class="itemize">0x00000002 (bit 1) — OC_SCAN_DEVICE_LOCK, restricts scanning to only known device types defined as a
         part of this policy. <span class="sout">This </span><span class="uwave">It </span>is not always possible to detect protocol tunneling, so be aware that on some
         systems<span class="uwave">, </span>it may be possible for e.g. USB HDDs to be recognised as SATA <span class="uwave">instead</span>. Cases like this must be
         reported. Known device types are prefixed with OC_SCAN_ALLOW_DEVICE_.
         </li>
         <li class="itemize">0x00000100 (bit 8) — OC_SCAN_ALLOW_FS_APFS, allows scanning of APFS file system.
         </li>
         <li class="itemize">0x00000200 (bit 9) — OC_SCAN_ALLOW_FS_HFS, allows scanning of HFS file system.
         </li>
         <li class="itemize">0x00000400 (bit 10) — OC_SCAN_ALLOW_FS_ESP, allows scanning of EFI System Partition file system.
         </li>
         <li class="itemize">0x00000800 (bit 11) — OC_SCAN_ALLOW_FS_NTFS, allows scanning of NTFS (Msft Basic Data) file system.
         </li>
         <li class="itemize">0x00001000 (bit 12) — OC_SCAN_ALLOW_FS_EXT, allows scanning of EXT (Linux Root) file system.
         </li>
         <li class="itemize">0x00010000 (bit 16) — OC_SCAN_ALLOW_DEVICE_SATA, allow scanning SATA devices.
         </li>
         <li class="itemize">0x00020000 (bit 17) — OC_SCAN_ALLOW_DEVICE_SASEX, allow scanning SAS and Mac NVMe devices.
         </li>
         <li class="itemize">0x00040000 (bit 18) — OC_SCAN_ALLOW_DEVICE_SCSI, allow scanning SCSI devices.
                                                                                                  
                                                                                                  
         </li>
         <li class="itemize">0x00080000 (bit 19) — OC_SCAN_ALLOW_DEVICE_NVME, allow scanning NVMe devices.
         </li>
         <li class="itemize">0x00100000 (bit 20) — OC_SCAN_ALLOW_DEVICE_ATAPI, allow scanning CD/DVD devices and old SATA.
         </li>
         <li class="itemize">0x00200000 (bit 21) — OC_SCAN_ALLOW_DEVICE_USB, allow scanning USB devices.
         </li>
         <li class="itemize">0x00400000 (bit 22) — OC_SCAN_ALLOW_DEVICE_FIREWIRE, allow scanning FireWire devices.
         </li>
         <li class="itemize">0x00800000 (bit 23) — OC_SCAN_ALLOW_DEVICE_SDCARD, allow scanning card reader devices.
         </li>
         <li class="itemize">0x01000000 (bit 24) — OC_SCAN_ALLOW_DEVICE_PCI, allow scanning devices directly connected to PCI bus
         (e.g. VIRTIO).</li></ul>
     <!--l. 4200--><p class="noindent" >Note: Given the above description, <span class="sout">0xF0103</span> <span class="sout">value </span><span class="uwave">a value of </span><span class="uwave">0xF0103</span> is expected to <span class="sout">allow scanning of </span><span class="uwave">do the following:
     </span>
</p>
         <ul class="itemize1">
         <li class="itemize"><span class="uwave">Permit scanning </span>SATA, SAS, SCSI, and NVMe devices with APFS file <span class="sout">system, and prevent scanning of
         </span><span class="uwave">systems. </span>
         </li>
         <li class="itemize"><span class="uwave">Prevent scanning </span>any devices with HFS or FAT32 file systems<span class="sout">in addition to not </span><span class="uwave">. </span>
         </li>
         <li class="itemize"><span class="uwave">Prevent </span>scanning APFS file systems on USB, CD, and FireWire drives.</li></ul>
     <!--l. 4212--><p class="noindent" >The combination reads as: </p>
         <ul class="itemize1">
         <li class="itemize">OC_SCAN_FILE_SYSTEM_LOCK
         </li>
         <li class="itemize">OC_SCAN_DEVICE_LOCK
         </li>
         <li class="itemize">OC_SCAN_ALLOW_FS_APFS
         </li>
         <li class="itemize">OC_SCAN_ALLOW_DEVICE_SATA
         </li>
         <li class="itemize">OC_SCAN_ALLOW_DEVICE_SASEX
         </li>
         <li class="itemize">OC_SCAN_ALLOW_DEVICE_SCSI
         </li>
         <li class="itemize">OC_SCAN_ALLOW_DEVICE_NVME</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-46048x14"><a 
 id="x1-4604714"></a> SecureBootModel<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Default<br 
class="newline" />Description: Apple Secure Boot hardware model.
     <!--l. 4230--><p class="noindent" >Sets Apple Secure Boot hardware model and policy. Specifying this value defines which operating systems will be
     bootable. Operating systems shipped before the specified model was released will not boot.
     </p><!--l. 4236--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Default — Recent available model, currently set to j137.
         </li>
         <li class="itemize">Disabled — No model, Secure Boot will be disabled.
         </li>
         <li class="itemize">j137 — iMacPro1,1 (December 2017). Minimum macOS 10.13.2 (17C2111)
                                                                                                  
                                                                                                  
         </li>
         <li class="itemize">j680 — MacBookPro15,1 (July 2018). Minimum macOS 10.13.6 (17G2112)
         </li>
         <li class="itemize">j132 — MacBookPro15,2 (July 2018). Minimum macOS 10.13.6 (17G2112)
         </li>
         <li class="itemize">j174 — Macmini8,1 (October 2018). Minimum macOS 10.14 (18A2063)
         </li>
         <li class="itemize">j140k — MacBookAir8,1 (October 2018). Minimum macOS 10.14.1 (18B2084)
         </li>
         <li class="itemize">j780 — MacBookPro15,3 (May 2019). Minimum macOS 10.14.5 (18F132)
         </li>
         <li class="itemize">j213 — MacBookPro15,4 (July 2019). Minimum macOS 10.14.5 (18F2058)
         </li>
         <li class="itemize">j140a — MacBookAir8,2 (July 2019). Minimum macOS 10.14.5 (18F2058)
         </li>
         <li class="itemize">j152f — MacBookPro16,1 (November 2019). Minimum macOS 10.15.1 (19B2093)
         </li>
         <li class="itemize">j160 — MacPro7,1 (December 2019). Minimum macOS 10.15.1 (19B88)
         </li>
         <li class="itemize">j230k — MacBookAir9,1 (March 2020). Minimum macOS 10.15.3 (19D2064)
         </li>
         <li class="itemize">j214k — MacBookPro16,2 (May 2020). Minimum macOS 10.15.4 (19E2269)
         </li>
         <li class="itemize">j223 — MacBookPro16,3 (May 2020). Minimum macOS 10.15.4 (19E2265)
         </li>
         <li class="itemize">j215 — MacBookPro16,4 (June 2020). Minimum macOS 10.15.5 (19F96)
         </li>
         <li class="itemize">j185 — iMac20,1 (August 2020). Minimum macOS 10.15.6 (19G2005)
         </li>
         <li class="itemize">j185f — iMac20,2 (August 2020). Minimum macOS 10.15.6 (19G2005)
         </li>
         <li class="itemize">x86legacy — Macs without T2 chip and VMs. Minimum macOS 11.0.1 (20B29)</li></ul>
     <!--l. 4261--><p class="noindent" >Apple Secure Boot appeared in macOS 10.13 on models with T2 chips. Since PlatformInfo and SecureBootModel are
     independent, Apple Secure Boot can be used with any SMBIOS with and without T2. Setting SecureBootModel to any
     valid value but Disabled is equivalent to <a 
href="https://support.apple.com/en-us/HT208330" >Medium Security</a> of Apple Secure Boot. The ApECID value must also be
     specified to achieve Full Security. Check ForceSecureBootScheme when using Apple Secure Boot on a virtual
     machine.
     </p><!--l. 4271--><p class="noindent" ><span class="sout">Enabling </span><span class="uwave">Note that enabling </span>Apple Secure Boot is <span class="sout">more demanding to incorrect configurations, buggy </span><span class="uwave">demanding on
     invalid configurations, faulty </span>macOS installations, and <span class="uwave">on </span>unsupported setups.
     </p><!--l. 4276--><p class="noindent" >Things to consider:
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-46050x1">As with T2 Macs, unsigned kernel drivers and several signed kernel drivers, including NVIDIA Web Drivers,
         cannot be installed.
         </li>
         <li 
  class="enumerate" id="x1-46052x2">The list of cached drivers may be different, resulting in <span class="sout">the </span><span class="uwave">a </span>need to change the list of Added or Forced
         kernel drivers. For example, IO80211Family cannot be injected in this case.
         </li>
         <li 
  class="enumerate" id="x1-46054x3">System volume alterations on operating systems with sealing, such as macOS 11, may result in the operating
         system being unbootable. Do not try to disable system volume encryption unless Apple Secure Boot is
         disabled.
         </li>
         <li 
  class="enumerate" id="x1-46056x4"><span class="sout">If </span><span class="uwave">Boot failures might occur when </span>the platform requires certain settings, but they <span class="uwave">have not been enabled
         because the associated issues </span>were not <span class="sout">enabled, because the obvious issues did not trigger before, boot
         failure might occur</span><span class="uwave">discovered earlier</span>. Be extra careful with IgnoreInvalidFlexRatio or HashServices.
         </li>
                                                                                                  
                                                                                                  
         <li 
  class="enumerate" id="x1-46058x5">Operating systems released before Apple Secure Boot <span class="sout">landed </span><span class="uwave">was released </span>(e.g. macOS 10.12 or earlier)<span class="uwave">,
         </span>will still boot until UEFI Secure Boot is enabled. This is so <span class="sout">, because from </span><span class="uwave">because </span>Apple Secure Boot <span class="sout">point
         they are treated </span><span class="uwave">treats these </span>as incompatible and <span class="sout">are assumed to be </span><span class="uwave">they are then </span>handled by the firmware
         <span class="uwave">(</span>as Microsoft Windows is<span class="uwave">)</span>.
         </li>
         <li 
  class="enumerate" id="x1-46060x6">On older CPUs (e.g. before Sandy Bridge)<span class="uwave">, </span>enabling Apple Secure Boot might cause slightly slower loading
         <span class="uwave">(</span>by up to 1 second<span class="uwave">)</span>.
         </li>
         <li 
  class="enumerate" id="x1-46062x7"><span class="sout">Since </span><span class="uwave">As the </span>Default value will increase with time to support the latest major <span class="sout">release </span><span class="uwave">released </span>operating
         system, it is not recommended to use <span class="uwave">the </span>ApECID and <span class="uwave">the </span>Default <span class="sout">value </span><span class="uwave">settings </span>together.
         </li>
         <li 
  class="enumerate" id="x1-46064x8">Installing macOS with Apple Secure Boot enabled is not possible while using HFS+ target <span class="sout">volume</span><span class="uwave">volumes</span>.
         This may include HFS+ formatted drives when no spare APFS drive is available.</li></ol>
     <!--l. 4305--><p class="noindent" ><span class="sout">Sometimes the already </span><span class="uwave">The </span>installed operating system may have <span class="uwave">sometimes </span>outdated Apple Secure Boot manifests on the
     Preboot partition<span class="sout">causing boot failure. If there is </span><span class="uwave">, resulting in boot failures. This is likely to be the case when an
     </span>“OCB: Apple Secure Boot prohibits this boot entry, enforcing!” message <span class="sout">, it is likely the case. </span><span class="uwave">is logged.
     </span>
     </p><!--l. 4313--><p class="noindent" >When this happens, either reinstall the operating system or copy the manifests (files with .im4m extension, such as
     boot.efi.j137.im4m) from /usr/standalone/i386 to /Volumes/Preboot/&#x003C;UUID&#x003E;/System/Library/CoreServices.
     Here<span class="uwave">, </span>&#x003C;UUID&#x003E; is the system volume identifier. On HFS+ installations<span class="uwave">, </span>the manifests should be copied to
     /System/Library/CoreServices on the system volume.
     </p><!--l. 4320--><p class="noindent" >For more details on how to configure Apple Secure Boot with UEFI Secure Boot<span class="sout">refer to </span><span class="uwave">, refer to the </span><a 
href="#x1-830002">UEFI Secure Boot</a>
     section.
</p>
     </li></ol>
<a 
 id="x1-46065r49"></a>
<h4 class="subsectionHead"><span class="titlemark">8.6   </span> <a 
 id="x1-470006"></a>Entry Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-47002x1">Arguments<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used as boot arguments (load options) of the specified entry.
     </li>
     <li 
  class="enumerate" id="x1-47004x2">Auxiliary<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This entry will not be listed by default </span><span class="uwave">Set to </span><span class="uwave">true</span> <span class="uwave">to hide this entry </span>when HideAuxiliary is <span class="uwave">also
     </span>set to true. <span class="uwave">Press the </span><span class="uwave">Spacebar</span> <span class="uwave">key to enter “Extended Mode” and display the entry when hidden. </span>
     </li>
     <li 
  class="enumerate" id="x1-47006x3">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description:  Arbitrary  ASCII  string  used  to  provide  <span class="uwave">a  </span>human  readable  reference  for  the  entry.  <span class="sout">It  is
     implementation defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-47008x4">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">This entry will not be listed unless set </span><span class="uwave">Set </span>to true <span class="uwave">activate this entry</span>.
     </li>
     <li 
  class="enumerate" id="x1-47010x5">Name<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Human readable entry name displayed in <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker.
     </li>
     <li 
  class="enumerate" id="x1-47012x6">Path<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Entry location depending on entry type.
         <ul class="itemize1">
         <li class="itemize">Entries specify  external  boot  options,  and  therefore  take  device  paths  in  <span class="uwave">the  </span>Path key.  <span class="sout">These
         </span><span class="uwave">Care  should  be  exercised  as  these  </span>values  are  not  checked<span class="sout">,  thus  be  extremely  careful</span>.  Example:
         PciRoot(0x0)/Pci(0x1,0x1)/.../\EFI\COOL.EFI
         </li>
         <li class="itemize">Tools specify internal boot options, which are part of <span class="uwave">the </span>bootloader vault, and therefore take file paths
         relative to <span class="uwave">the </span>OC/Tools directory. Example: OpenShell.efi.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-47014x7">RealPath<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Pass full path to the tool when launching.
     <!--l. 4386--><p class="noindent" ><span class="sout">Passing </span><span class="uwave">This should typically be disabled as passing the </span>tool directory may be unsafe <span class="sout">for tool accidentally trying </span><span class="uwave">with
     tools that accidentally attempt </span>to access files without checking their integrity<span class="sout">and thus should generally be disabled.
     Reason </span><span class="uwave">. Reasons </span>to enable this property may include cases where tools cannot work without external files or may need
     them for <span class="sout">better function (e.g. </span><span class="uwave">enhanced functionality such as </span>memtest86 <span class="uwave">(</span>for logging and configuration<span class="uwave">), </span>or Shell <span class="uwave">(</span>for
     automatic script execution).
     </p><!--l. 4395--><p class="noindent" >Note: This property is only valid for Tools <span class="sout">. For </span><span class="sout">Entries</span> <span class="sout">this property </span><span class="uwave">and </span>cannot be specified <span class="sout">and </span><span class="uwave">for </span><span class="uwave">Entries</span> <span class="uwave">(</span>is
     always true<span class="uwave">)</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-47016x8">TextMode<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Run the entry in text mode instead of graphics mode.
     <!--l. 4406--><p class="noindent" >This setting may be <span class="sout">benefitial to </span><span class="uwave">beneficial for </span>some older tools that require text output <span class="sout">. By default </span><span class="uwave">as </span>all the tools are
     launched in graphics mode <span class="sout">. Read more about text modes in </span><span class="uwave">by default. Refer to the </span><a 
href="#x1-7200010">Output Properties</a> section below <span class="uwave">for
     information on text modes</span>.
</p>
     </li></ol>
<a 
 id="x1-47017r44"></a>
<h3 class="sectionHead"><span class="titlemark">9   </span> <a 
 id="x1-480009"></a>NVRAM</h3>
<a 
 id="x1-48001r50"></a>
<h4 class="subsectionHead"><span class="titlemark">9.1   </span> <a 
 id="x1-490001"></a>Introduction</h4>
<!--l. 4418--><p class="noindent" >Has plist dict type and allows to set volatile UEFI variables commonly referred as NVRAM variables. Refer to man nvram
for more details. macOS extensively uses NVRAM variables for OS — Bootloader — Firmware intercommunication, and thus
supplying several NVRAM is required for proper macOS functioning.
</p><!--l. 4424--><p class="noindent" >Each NVRAM variable consists of its name, value, attributes (refer to UEFI specification), and its <a 
href="https://en.wikipedia.org/wiki/Universally_unique_identifier" >GUID</a>, representing which
‘section’ NVRAM variable belongs to. macOS uses several GUIDs, including but not limited to:
</p>
     <ul class="itemize1">
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14 (APPLE_VENDOR_VARIABLE_GUID)
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82 (APPLE_BOOT_VARIABLE_GUID)
                                                                                                  
                                                                                                  
     </li>
     <li class="itemize">8BE4DF61-93CA-11D2-AA0D-00E098032B8C (EFI_GLOBAL_VARIABLE_GUID)
     </li>
     <li class="itemize">4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102 (OC_VENDOR_VARIABLE_GUID)</li></ul>
<!--l. 4446--><p class="noindent" >Note: Some of the variables may be added by <a 
href="#x1-600005">PlatformNVRAM</a> or <a 
href="#x1-560002">Generic</a> subsections of <a 
href="#x1-5400010">PlatformInfo</a> section. Please ensure
that variables of this section never collide with them, as behaviour is undefined otherwise.
</p><!--l. 4453--><p class="noindent" >For proper macOS functioning it is often required to use OC_FIRMWARE_RUNTIME protocol implementation currently offered as a
part of OpenRuntime driver. While it brings any benefits, there are certain limitations which arise depending on the
use.
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-49002x1">Not all tools may be aware of protected namespaces.<br 
class="newline" />When RequestBootVarRouting is used Boot-prefixed variable access is restricted and protected in a separate
     namespace. To access the original variables tools have to be aware of OC_FIRMWARE_RUNTIME logic.</li></ol>
<a 
 id="x1-49003r52"></a>
<h4 class="subsectionHead"><span class="titlemark">9.2   </span> <a 
 id="x1-500002"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-50002x1">Add<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Sets NVRAM variables from a map (plist dict) of GUIDs to a map (plist dict) of variable
     names and their values in plist <span class="sout">metadata</span><span class="uwave">multidata</span> format. GUIDs must be provided in canonic string format
     in upper or lower case (e.g. 8BE4DF61-93CA-11D2-AA0D-00E098032B8C).
     <!--l. 4476--><p class="noindent" >Created variables get EFI_VARIABLE_BOOTSERVICE_ACCESS and EFI_VARIABLE_RUNTIME_ACCESS attributes set.
     Variables will only be set if not present or deleted. I.e. to overwrite an existing variable value add the variable
     name to the Delete section. This approach enables to provide default values till the operating system takes the
     lead.
     </p><!--l. 4483--><p class="noindent" >Note: If plist key does not conform to GUID format, behaviour is undefined.
     </p></li>
     <li 
  class="enumerate" id="x1-50004x2">Delete<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Removes NVRAM variables from a map (plist dict) of GUIDs to an array (plist array) of
     variable names in plist string format.
     </li>
     <li 
  class="enumerate" id="x1-50006x3">LegacyEnable<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enables loading of NVRAM variable file named nvram.plist from EFI volume root.
     <!--l. 4500--><p class="noindent" >This file must have root plist dictionary type and contain two fields: </p>
         <ul class="itemize1">
         <li class="itemize">Version — plist integer, file version, must be set to 1.
         </li>
         <li class="itemize">Add — plist dictionary, equivalent to Add from config.plist.</li></ul>
     <!--l. 4508--><p class="noindent" >Variable loading happens prior to Delete (and Add) phases. Unless LegacyOverwrite is enabled, it will not overwrite any
     existing variable. Variables allowed to be set must be specified in LegacySchema. Third-party scripts may be used to
     create nvram.plist file. An example of such script can be found in Utilities. The use of third-party scripts may
     require ExposeSensitiveData set to 0x3 to provide boot-path variable with OpenCore EFI partition
     UUID.
     </p><!--l. 4516--><p class="noindent" >Warning: This feature is very dangerous as it passes unprotected data to firmware variable services. Use it only when no
     hardware NVRAM implementation is provided by the firmware or it is incompatible.
     </p></li>
     <li 
  class="enumerate" id="x1-50008x4">LegacyOverwrite<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Permits overwriting firmware variables from nvram.plist.
     <!--l. 4526--><p class="noindent" >Note: Only variables accessible from the operating system will be overwritten.
     </p></li>
     <li 
  class="enumerate" id="x1-50010x5">LegacySchema<br 
class="newline" />Type: plist dict<br 
class="newline" />Description: Allows setting <span class="sout">select </span><span class="uwave">certain </span>NVRAM variables from a map (plist dict) of GUIDs to an array
     (plist array) of variable names in plist string format.
     <!--l. 4535--><p class="noindent" >* value can be used to accept all variables for <span class="sout">select </span><span class="uwave">certain </span>GUID.
     </p><!--l. 4537--><p class="noindent" >WARNING: Choose variables very carefully, as nvram.plist is not vaulted. For instance, do not put boot-args or
     csr-active-config, as this can bypass SIP.
     </p></li>
     <li 
  class="enumerate" id="x1-50012x6">WriteFlash<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enables writing to flash memory for all added variables.
     <!--l. 4547--><p class="noindent" >Note: It is recommended to have this value enabled on most types of firmware but it is left configurable for firmware that
     may have issues with NVRAM variable storage garbage collection or similar.
</p>
     </li></ol>
<!--l. 4553--><p class="noindent" >To read NVRAM variable value from macOS, nvram could be used by concatenating GUID and name variables separated by a
: symbol. For example, nvram 7C436110-AB2A-4BBB-A880-FE41995C9F82:boot-args.
</p><!--l. 4557--><p class="noindent" >A continuously updated variable list can be found in a corresponding document: <a 
href="https://docs.google.com/spreadsheets/d/1HTCBwfOBkXsHiK7os3b2CUc6k68axdJYdGl-TyXqLu0" >NVRAM Variables</a>.
<a 
 id="x1-50013r53"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">9.3   </span> <a 
 id="x1-510003"></a>Mandatory Variables</h4>
<!--l. 4562--><p class="noindent" >Warning: These variables may be added by <a 
href="#x1-600005">PlatformNVRAM</a> or <a 
href="#x1-560002">Generic</a> subsections of <a 
href="#x1-5400010">PlatformInfo</a> section. Using
PlatformInfo is the recommended way of setting these variables.
</p><!--l. 4568--><p class="noindent" >The following variables are mandatory for macOS functioning:
</p>
     <ul class="itemize1">
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:FirmwareFeatures
     32-bit FirmwareFeatures. Present on all Macs to avoid extra parsing of SMBIOS tables.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:FirmwareFeaturesMask
     32-bit FirmwareFeaturesMask. Present on all Macs to avoid extra parsing of SMBIOS tables.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:MLB
     BoardSerialNumber. Present on newer Macs (2013+ at least) to avoid extra parsing of SMBIOS tables, especially
     in boot.efi.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ROM
     Primary network adapter MAC address or replacement value. Present on newer Macs (2013+ at least) to avoid
     accessing special memory region, especially in boot.efi.</li></ul>
<a 
 id="x1-51001r54"></a>
<h4 class="subsectionHead"><span class="titlemark">9.4   </span> <a 
 id="x1-520004"></a>Recommended Variables</h4>
<!--l. 4595--><p class="noindent" >The following variables are recommended for faster startup or other improvements:
</p>
                                                                                                  
                                                                                                  
     <ul class="itemize1">
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:csr-active-config
     32-bit System Integrity Protection bitmask. Declared in XNU source code in <a 
href="https://opensource.apple.com/source/xnu/xnu-4570.71.2/bsd/sys/csr.h.auto.html" >csr.h</a>.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ExtendedFirmwareFeatures
     Combined FirmwareFeatures and ExtendedFirmwareFeatures. Present on newer Macs to avoid extra parsing
     of SMBIOS tables.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ExtendedFirmwareFeaturesMask
     Combined FirmwareFeaturesMask and ExtendedFirmwareFeaturesMask. Present on newer Macs to avoid extra
     parsing of SMBIOS tables.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_BID
     Hardware BoardProduct (e.g. Mac-35C1E88140C3E6CF). Not present on real Macs, but used to avoid extra
     parsing of SMBIOS tables, especially in boot.efi.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_MLB
     Hardware BoardSerialNumber. Override for MLB. Present on newer Macs (2013+ at least).
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_ROM
     Hardware ROM. Override for ROM. Present on newer Macs (2013+ at least).
     </li>
     <li class="itemize"><span class="uwave">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:SSN</span>
     <span class="uwave">Serial number. Present on newer Macs (2013+ at least). </span>
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:prev-lang:kbd
     ASCII string defining default keyboard layout. Format is lang-COUNTRY:keyboard, e.g. ru-RU:252 for Russian
     locale and ABC keyboard. Also accepts short forms: ru:252 or ru:0 (U.S. keyboard, compatible with 10.9). Full
     decoded keyboard list from AppleKeyboardLayouts-L.dat can be found <a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Utilities/AppleKeyboardLayouts" >here</a>. Using non-latin keyboard on 10.14
     will not enable ABC keyboard, unlike previous and subsequent macOS versions, and is thus not recommended
     in case 10.14 is needed.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:security-mode
     ASCII  string  defining  FireWire  security  mode.  Legacy,  can  be  found  in  IOFireWireFamily  source  code  in
     <a 
href="https://opensource.apple.com/source/IOFireWireFamily/IOFireWireFamily-473/IOFireWireFamily.kmodproj/IOFireWireController.cpp.auto.html" >IOFireWireController.cpp</a>. It is recommended not to set this variable, which may speedup system startup. Setting
     to full is equivalent to not setting the variable and none disables FireWire security.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:UIScale
     One-byte data defining boot.efi user interface scaling. Should be 01 for normal screens and 02 for HiDPI
     screens.
     </li>
     <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:DefaultBackgroundColor
     Four-byte BGRA data defining boot.efi user interface background colour. Standard colours include BF BF BF
     00 (Light Gray) and 00 00 00 00 (Syrah Black). Other colours may be set at user’s preference.</li></ul>
<a 
 id="x1-52001r55"></a>
<h4 class="subsectionHead"><span class="titlemark">9.5   </span> <a 
 id="x1-530005"></a>Other Variables</h4>
<!--l. 4665--><p class="noindent" >The following variables may be useful for certain configurations or troubleshooting:
</p>
     <ul class="itemize1">
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:boot-args
     Kernel arguments, used to pass configuration to Apple kernel and drivers. There are many arguments, which
     may be found by looking for the use of PE_parse_boot_argn function in the kernel or driver code. Some of the
     known boot arguments include:
         <ul class="itemize2">
         <li class="itemize">acpi_layer=0xFFFFFFFF
         </li>
                                                                                                  
                                                                                                  
         <li class="itemize">acpi_level=0xFFFF5F (implies <a 
href="https://github.com/acpica/acpica/blob/master/source/include/acoutput.h" >ACPI_ALL_COMPONENTS</a>)
         </li>
         <li class="itemize">arch=i386 (force kernel architecture to i386, see KernelArch)
         </li>
         <li class="itemize">batman=VALUE (AppleSmartBatteryManager debug mask)
         </li>
         <li class="itemize">batman-nosmc=1 (disable AppleSmartBatteryManager SMC interface)
         </li>
         <li class="itemize">cpus=VALUE (maximum number of CPUs used)
         </li>
         <li class="itemize">debug=VALUE (debug mask)
         </li>
         <li class="itemize">io=VALUE (IOKit debug mask)
         </li>
         <li class="itemize">ioaccel_debug=VALUE (IOAccelerator debug mask)
         </li>
         <li class="itemize">keepsyms=1 (show panic log debug symbols)
         </li>
         <li class="itemize">kextlog=VALUE (kernel extension loading debug mask)
         </li>
         <li class="itemize">nvram-log=1 (enables AppleEFINVRAM logs)
         </li>
         <li class="itemize">nv_disable=1 (disables NVIDIA GPU acceleration)
         </li>
         <li class="itemize">nvda_drv=1 (legacy way to enable NVIDIA web driver, removed in 10.12)
         </li>
         <li class="itemize">npci=0x2000 (<a 
href="https://www.insanelymac.com/forum/topic/260539-1068-officially-released/?do=findComment&comment=1707972" >legacy</a>, disables kIOPCIConfiguratorPFM64)
         </li>
         <li class="itemize">lapic_dont_panic=1 (disable lapic spurious interrupt panic on AP cores)
         </li>
         <li class="itemize">panic_on_display_hang=1 (trigger panic on display hang)
         </li>
         <li class="itemize">panic_on_gpu_hang=1 (trigger panic on GPU hang)
         </li>
         <li class="itemize">slide=VALUE (manually set KASLR slide)
         </li>
         <li class="itemize">smcdebug=VALUE (AppleSMC debug mask)
         </li>
         <li class="itemize">spin_wait_for_gpu=1 (reduces GPU timeout on high load)
         </li>
         <li class="itemize">-amd_no_dgpu_accel (alternative to <a 
href="https://github.com/acidanthera/WhateverGreen" >WhateverGreen</a>’s -radvesa for new GPUs)
         </li>
         <li class="itemize">-nehalem_error_disable <span class="uwave">(disables the AppleTyMCEDriver) </span>
         </li>
         <li class="itemize">-no_compat_check (disable model checking on 10.7+)
         </li>
         <li class="itemize">-s (single mode)
         </li>
         <li class="itemize">-v (verbose mode)
         </li>
         <li class="itemize">-x (safe mode)</li></ul>
     <!--l. 4710--><p class="noindent" >There are multiple external places summarising macOS argument lists: <a 
href="https://osxeon.wordpress.com/2015/08/10/boot-argument-options-in-os-x" >example 1</a>, <a 
href="https://superuser.com/questions/255176/is-there-a-list-of-available-boot-args-for-darwin-os-x" >example 2</a>.
     </p></li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:bootercfg
     Booter arguments, similar to boot-args but for boot.efi. Accepts a set of arguments, which are hexadecimal 64-bit
     values with or without 0x. At different stages boot.efi will request different debugging (logging) modes (e.g. after
     ExitBootServices it will only print to serial). Several booter arguments control whether these requests will succeed. The
                                                                                                  
                                                                                                  
     list of known requests is covered below:
         <ul class="itemize2">
         <li class="itemize">0x00 – INIT.
         </li>
         <li class="itemize">0x01 – VERBOSE (e.g. -v, force console logging).
         </li>
         <li class="itemize">0x02 – EXIT.
         </li>
         <li class="itemize">0x03 – RESET:OK.
         </li>
         <li class="itemize">0x04 – RESET:FAIL (e.g. unknown board-id, hibernate mismatch, panic loop, etc.).
         </li>
         <li class="itemize">0x05 – RESET:RECOVERY.
         </li>
         <li class="itemize">0x06 – RECOVERY.
         </li>
         <li class="itemize">0x07 – REAN:START.
         </li>
         <li class="itemize">0x08 – REAN:END.
         </li>
         <li class="itemize">0x09 – DT (can no longer log to DeviceTree).
         </li>
         <li class="itemize">0x0A – EXITBS:START (forced serial only).
         </li>
         <li class="itemize">0x0B – EXITBS:END (forced serial only).
         </li>
         <li class="itemize">0x0C – UNKNOWN.</li></ul>
     <!--l. 4741--><p class="noindent" >In 10.15<span class="uwave">, </span>debugging support was <span class="sout">mostly broken before </span><span class="uwave">defective up to the </span>10.15.4 <span class="sout">due to some kind of refactoring and
     </span><span class="uwave">release due to refactoring issues as well as the </span>introduction of a <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/Protocol/AppleDebugLog.h" >new debug protocol</a>. Some of the arguments and
     their values below may not be valid for versions prior to 10.15.4. The list of known arguments is covered
     below:
</p>
         <ul class="itemize2">
         <li class="itemize">boot-save-log=VALUE — debug log save mode for normal boot.
             <ul class="itemize3">
             <li class="itemize">0
             </li>
             <li class="itemize">1
             </li>
             <li class="itemize">2 — (default).
             </li>
             <li class="itemize">3
             </li>
             <li class="itemize">4 — (save to file).</li></ul>
         </li>
         <li class="itemize">wake-save-log=VALUE — debug log save mode for hibernation wake.
             <ul class="itemize3">
             <li class="itemize">0 — disabled.
             </li>
             <li class="itemize">1
             </li>
             <li class="itemize">2 — (default).
             </li>
             <li class="itemize">3 — (unavailable).
             </li>
             <li class="itemize">4 — (save to file, unavailable).</li></ul>
         </li>
                                                                                                  
                                                                                                  
             </li>
             <li class="itemize">2 — enables perf logging to /efi/debug-log in the device three
             </li>
             <li class="itemize">4 — enables timestamp printing for styled printf calls</li></ul>
         </li>
         <li class="itemize">level=VALUE — deprecated starting from 10.15. Verbosity level of DEBUG output. Everything but 0x80000000 is
         stripped from the binary, and this is the default value.</li></ul>
     <!--l. 4821--><p class="noindent" >Note: To see verbose output from boot.efi on modern macOS versions enable AppleDebug option. This will save the log
     to general OpenCore log. For versions before 10.15.4 set bootercfg to log=1. This will print verbose output
     onscreen.
     </p></li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:bootercfg-once
     Booter arguments override removed after first launch. Otherwise equivalent to bootercfg.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:efiboot-perf-record
     Enable performance log saving in boot.efi. Performance log is saved to physical memory and is pointed by
     efiboot-perf-record-data and efiboot-perf-record-size variables. Starting from 10.15.4 it can also be saved to
     OpenCore log by AppleDebug option.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:fmm-computer-name
     Current saved host name. ASCII string.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:nvda_drv
     NVIDIA Web Driver control variable. Takes ASCII digit 1 or 0 to enable or disable installed driver.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:run-efi-updater
     Override EFI firmware updating support in macOS (MultiUpdater, ThorUtil, and so on). Setting this to No or
     alternative boolean-castable value will prevent any firmware updates in macOS starting with 10.10 at
     least.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:StartupMute
     Mute startup chime sound in firmware audio support. 8-bit integer. The value of 0x00 means unmuted. Missing variable
     or any other value means muted.
     </li>
     <li class="itemize">7C436110-AB2A-4BBB-A880-FE41995C9F82:SystemAudioVolume
     System audio volume level for firmware audio support. 8-bit integer. The bit of 0x80 means muted. Lower bits are used
     to encode volume range specific to installed audio codec. The value is capped by MaximumBootBeepVolume AppleHDA
     layout value to avoid too loud audio playback in the firmware.</li></ul>
<a 
 id="x1-53001r51"></a>
<h3 class="sectionHead"><span class="titlemark">10   </span> <a 
 id="x1-5400010"></a>PlatformInfo</h3>
<!--l. 4867--><p class="noindent" >Platform information is comprised of several identification fields generated or filled manually to be compatible with macOS
services. The base part of the configuration may be obtained from <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/AppleModels" >AppleModels</a>, which itself generates a set of interfaces based
on a database in <a 
href="https://yaml.org/spec/1.2/spec.html" >YAML</a> format. These fields are written to three <span class="sout">select </span>destinations:
</p>
     <ul class="itemize1">
     <li class="itemize"><a 
href="https://www.dmtf.org/standards/smbios" >SMBIOS</a>
     </li>
     <li class="itemize"><a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Intel/Protocol/DataHub.h" >Data Hub</a>
     </li>
     <li class="itemize">NVRAM</li></ul>
<!--l. 4886--><p class="noindent" >Most of the fields specify the overrides in SMBIOS, and their field names conform to EDK2 <a 
href="https://github.com/acidanthera/audk/blob/master/MdePkg/Include/IndustryStandard/SmBios.h" >SmBios.h</a> header file. However,
several important fields reside in Data Hub and NVRAM. Some of the values can be found in more than one field and/or
destination, so there are two ways to control their update process: manual, where all the values are specified (the
default), and semi-automatic, where (Automatic) only <span class="sout">select </span><span class="uwave">certain </span>values are specified, and later used for system
configuration.
                                                                                                  
                                                                                                  
</p><!--l. 4896--><p class="noindent" >To inspect SMBIOS contents <a 
href="http://www.nongnu.org/dmidecode" >dmidecode</a> utility can be used. Version with macOS specific enhancements can be downloaded
from <a 
href="https://github.com/acidanthera/dmidecode/releases" >Acidanthera/dmidecode</a>.
<a 
 id="x1-54001r56"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">10.1   </span> <a 
 id="x1-550001"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-55002x1">Automatic<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Generate PlatformInfo based on Generic section instead of using values from DataHub, NVRAM,
     and SMBIOS sections.
     <!--l. 4911--><p class="noindent" >Enabling this option is useful when Generic section is flexible enough: </p>
         <ul class="itemize1">
         <li class="itemize">When enabled SMBIOS, DataHub, and PlatformNVRAM data is unused.
         </li>
         <li class="itemize">When disabled Generic section is unused.</li></ul>
     <!--l. 4920--><p class="noindent" >Warning: It is strongly discouraged <span class="uwave">to </span>set this option to false when intending to update platform information. The
     only reason to do <span class="sout">that is when doing minor correction of the SMBIOS present and similar</span><span class="uwave">so is if making minor
     corrections to SMBIOS values on legacy Apple hardware</span>. In all other cases <span class="sout">not using </span><span class="uwave">setting </span>Automatic <span class="uwave">to </span><span class="uwave">false</span> may
     lead to hard to debug errors<span class="uwave">, due to inconsistent or invalid settings</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-55004x2">CustomMemory<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Use custom memory configuration defined in the Memory section. This completely replaces any existing
     memory configuration in SMBIOS, and is only active when UpdateSMBIOS is set to true.
     </li>
     <li 
  class="enumerate" id="x1-55006x3">UpdateDataHub<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Update Data Hub fields. These fields are read from Generic or DataHub sections depending on Automatic
     value.
     <!--l. 4944--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: The implementation of the Data Hub protocol in EFI firmware on essentially all systems, including Apple
     hardware, means that existing Data Hub entries cannot be overridden, while new entries are added to
     the end with macOS ignoring them. This can be worked around by reinstalling the Data Hub protocol
     using the </span><span class="uwave">ProtocolOverrides</span> <span class="uwave">section. Refer to the </span><span class="uwave">DataHub</span> <span class="uwave">protocol override description for details.
     </span>
     </p></li>
     <li 
  class="enumerate" id="x1-55008x4">UpdateNVRAM<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Update NVRAM fields related to platform information.
     <!--l. 4956--><p class="noindent" >These fields are read from Generic or PlatformNVRAM sections depending on Automatic value. All the other fields are to
     be specified with NVRAM section.
     </p><!--l. 4960--><p class="noindent" >If UpdateNVRAM is set to false the aforementioned variables can be updated with <a 
href="#x1-480009">NVRAM</a> section. If UpdateNVRAM is set to
     true the behaviour is undefined when any of the fields are present in NVRAM section.
     </p></li>
     <li 
  class="enumerate" id="x1-55010x5">UpdateSMBIOS<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Update SMBIOS fields. These fields are read from Generic or SMBIOS sections depending on Automatic
                                                                                                  
                                                                                                  
     value.
     </li>
     <li 
  class="enumerate" id="x1-55012x6">UpdateSMBIOSMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Create<br 
class="newline" />Description: Update SMBIOS fields approach:
         <ul class="itemize1">
         <li class="itemize">TryOverwrite — Overwrite if new size is &#x003C;= than the page-aligned original and there are no issues with
         legacy region unlock. Create otherwise. Has issues on some types of firmware.
         </li>
         <li class="itemize">Create —  Replace  the  tables  with  newly  allocated  EfiReservedMemoryType  at  AllocateMaxAddress
         without any fallbacks.
         </li>
         <li class="itemize">Overwrite — Overwrite existing gEfiSmbiosTableGuid and gEfiSmbiosTable3Guid data if it fits new size.
         Abort with unspecified state otherwise.
         </li>
         <li class="itemize">Custom —  Write  SMBIOS  tables  (gEfiSmbios(3)TableGuid)  to  gOcCustomSmbios(3)TableGuid to
         workaround firmware overwriting SMBIOS contents at ExitBootServices. Otherwise equivalent to Create.
         Requires patching AppleSmbios.kext and AppleACPIPlatform.kext to read from another GUID: &#x0022;EB9D2D31&#x0022;
         - &#x0022;EB9D2D35&#x0022; (in ASCII), done automatically by CustomSMBIOSGuid quirk.</li></ul>
     <!--l. 5000--><p class="noindent" >Note: A side effect of using Custom approach is making SMBIOS updates exclusive to macOS, avoiding a collision with
     existing Windows activation and custom OEM software but potentially <span class="sout">breaking </span><span class="uwave">obstructing the operation of
     </span>Apple-specific tools.
     </p></li>
     <li 
  class="enumerate" id="x1-55014x7">UseRawUuidEncoding<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Use raw encoding for SMBIOS UUIDs.
     <!--l. 5011--><p class="noindent" >Each UUID AABBCCDD-EEFF-GGHH-IIJJ-KKLLMMNNOOPP is essentially a hexadecimal 16-byte number. It can be encoded in
     two ways:
</p>
         <ul class="itemize1">
         <li class="itemize">Big Endian — by writing all the bytes as they are without making any order changes ({AA BB CC DD EE FF
         GG HH II JJ KK LL MM NN OO PP}). This method is also known as <a 
href="https://tools.ietf.org/html/rfc4122" >RFC 4122</a> encoding or Raw encoding.
         </li>
         <li class="itemize">Little Endian — by interpreting the bytes as numbers and using Little Endian byte representation ({DD
         CC BB AA FF EE HH GG II JJ KK LL MM NN OO PP}).</li></ul>
     <!--l. 5026--><p class="noindent" >SMBIOS specification did not explicitly specify the encoding format for the UUID up to SMBIOS 2.6, where it stated
     that Little Endian encoding shall be used. This led to the confusion in both firmware implementations and system
     software as different vendors used different encodings prior to that.
</p>
         <ul class="itemize1">
         <li class="itemize">Apple uses Big Endian format everywhere but it ignores SMBIOS UUID within macOS.
         </li>
         <li class="itemize">dmidecode uses Big Endian format for SMBIOS 2.5.x or lower and Little Endian for 2.6 and newer.
         Acidanthera <a 
href="https://github.com/acidanthera/dmidecode" >dmidecode</a> prints all the three.
         </li>
         <li class="itemize">Windows uses Little Endian format everywhere, but it only affects the visual representation of the values.</li></ul>
     <!--l. 5041--><p class="noindent" >OpenCore always sets a recent SMBIOS version (currently 3.2) when generating the modified DMI tables. If
     UseRawUuidEncoding is enabled, then Big Endian format is used to store the SystemUUID data. Otherwise<span class="uwave">, </span>Little
     Endian is used.
     </p><!--l. 5045--><p class="noindent" >Note: Since UUIDs used in DataHub and NVRAM are not standardised and are added by Apple, this preference does not
                                                                                                  
                                                                                                  
     affect them. Unlike SMBIOS they are always stored in the Big Endian format.
     </p></li>
     <li 
  class="enumerate" id="x1-55016x8">Generic<br 
class="newline" />Type: plist dictionary<br 
class="newline" />Description: Update all fields in Automatic mode.
     <!--l. 5054--><p class="noindent" >Note: This section is ignored but may not be removed when Automatic is false.
     </p></li>
     <li 
  class="enumerate" id="x1-55018x9">DataHub<br 
class="newline" />Type: plist dictionary<br 
class="newline" />Description: Update Data Hub fields in non-Automatic mode.
     <!--l. 5061--><p class="noindent" >Note: This section is ignored and may be removed when Automatic is true.
     </p></li>
     <li 
  class="enumerate" id="x1-55020x10">Memory<br 
class="newline" />Type: plist dictionary<br 
class="newline" />Description: Define custom memory configuration.
     <!--l. 5068--><p class="noindent" >Note: This section is ignored and may be removed when CustomMemory is false.
     </p></li>
     <li 
  class="enumerate" id="x1-55022x11">PlatformNVRAM<br 
class="newline" />Type: plist dictionary<br 
class="newline" />Description: Update platform NVRAM fields in non-Automatic mode.
     <!--l. 5075--><p class="noindent" >Note: This section is ignored and may be removed when Automatic is true.
     </p></li>
     <li 
  class="enumerate" id="x1-55024x12">SMBIOS<br 
class="newline" />Type: plist dictionary<br 
class="newline" />Description: Update SMBIOS fields in non-Automatic mode.
     <!--l. 5082--><p class="noindent" >Note: This section is ignored and may be removed when Automatic is true.</p></li></ol>
<a 
 id="x1-55025r58"></a>
<h4 class="subsectionHead"><span class="titlemark">10.2   </span> <a 
 id="x1-560002"></a>Generic Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-56002x1">SpoofVendor<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Sets SMBIOS vendor fields to Acidanthera.
     <!--l. 5095--><p class="noindent" >It is dangerous to use Apple in SMBIOS vendor fields for reasons given in <span class="uwave">the </span>SystemManufacturer description.
     However, certain firmware may not provide valid values otherwise, which could <span class="sout">break </span><span class="uwave">obstruct the operation of
     </span>some software.
     </p></li>
     <li 
  class="enumerate" id="x1-56004x2">AdviseWindows<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Forces Windows support in FirmwareFeatures.
     <!--l. 5105--><p class="noindent" >Added bits to FirmwareFeatures:
</p>
         <ul class="itemize1">
         <li class="itemize">FW_FEATURE_SUPPORTS_CSM_LEGACY_MODE (0x1) - Without this bit it is not possible to reboot to Windows
         installed on a drive with EFI partition being not the first partition on the disk.
         </li>
         <li class="itemize">FW_FEATURE_SUPPORTS_UEFI_WINDOWS_BOOT (0x20000000) - Without this bit it is not possible to reboot
         to Windows installed on a drive with EFI partition being the first partition on the disk.</li></ul>
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-56006x3">MaxBIOSVersion<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Sets BIOSVersion to 9999.999.999.999.999, recommended for legacy Macs when using Automatic
     PlatformInfo to avoid BIOS updates in unofficially supported macOS versions.
     </li>
     <li 
  class="enumerate" id="x1-56008x4">SystemMemoryStatus<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Indicates whether system memory is upgradable in PlatformFeature. This controls the visibility of the
     Memory tab in About This Mac.
     <!--l. 5131--><p class="noindent" >Valid values:
</p>
         <ul class="itemize1">
         <li class="itemize">Auto — use the original PlatformFeature value.
         </li>
         <li class="itemize">Upgradable — explicitly unset PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY (0x2) in PlatformFeature.
         </li>
         <li class="itemize">Soldered — explicitly set PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY (0x2) in PlatformFeature.</li></ul>
     <!--l. 5142--><p class="noindent" >Note: On certain Mac models<span class="sout">(namely </span><span class="uwave">, such as the </span>MacBookPro10,x and any MacBookAir<span class="sout">)</span>, SPMemoryReporter.spreporter
     will ignore PT_FEATURE_HAS_SOLDERED_SYSTEM_MEMORY and assume that system memory is non-upgradable.
     </p></li>
     <li 
  class="enumerate" id="x1-56010x5">ProcessorType<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0 (Automatic)<br 
class="newline" />Description: Refer to SMBIOS ProcessorType.
     </li>
     <li 
  class="enumerate" id="x1-56012x6">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemProductName.
     </li>
     <li 
  class="enumerate" id="x1-56014x7">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemSerialNumber.
     <!--l. 5163--><p class="noindent" ><span class="uwave">Specify special string value </span><span class="uwave">OEM</span> <span class="uwave">to extract current value from NVRAM (</span><span class="uwave">SSN</span> <span class="uwave">variable) or SMBIOS and use it throughout
     the sections. This feature can only be used on Mac-compatible firmware. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56016x8">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS SystemUUID.
     <!--l. 5173--><p class="noindent" ><span class="uwave">Specify special string value </span><span class="uwave">OEM</span> <span class="uwave">to extract current value from NVRAM (</span><span class="uwave">system-id</span> <span class="uwave">variable) or SMBIOS and use it
     throughout the sections. Since not every firmware implementation has valid (and unique) values, this
     feature is not applicable to some setups, and may provide unexpected results. It is highly recommended to
     specify the UUID explicitly. Refer to </span><span class="uwave">UseRawUuidEncoding</span> <span class="uwave">to determine how SMBIOS value is parsed.
     </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56018x9">MLB<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to SMBIOS BoardSerialNumber.
     <!--l. 5186--><p class="noindent" ><span class="uwave">Specify special string value </span><span class="uwave">OEM</span> <span class="uwave">to extract current value from NVRAM (</span><span class="uwave">MLB</span> <span class="uwave">variable) or SMBIOS and use it throughout
     the sections. This feature can only be used on Mac-compatible firmware. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-56020x10">ROM<br 
class="newline" />Type: plist <span class="sout">data</span><span class="uwave">multidata</span>, 6 bytes<br 
class="newline" />Failsafe: <span class="uwave">Empty (</span>OEM specified or not installed<span class="uwave">)</span><br 
class="newline" />Description: Refer to 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ROM.
     <!--l. 5196--><p class="noindent" ><span class="uwave">Specify special string value </span><span class="uwave">OEM</span> <span class="uwave">to extract current value from NVRAM (</span><span class="uwave">ROM</span> <span class="uwave">variable) and use it throughout the sections.
     This feature can only be used on Mac-compatible firmware. </span>
</p>
     </li></ol>
<a 
 id="x1-56021r59"></a>
<h4 class="subsectionHead"><span class="titlemark">10.3   </span> <a 
 id="x1-570003"></a>DataHub Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-57002x1">PlatformName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets name in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is platform in ASCII.
     </li>
     <li 
  class="enumerate" id="x1-57004x2">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets Model in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is equal to SMBIOS
     SystemProductName in Unicode.
     </li>
     <li 
  class="enumerate" id="x1-57006x3">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets SystemSerialNumber in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is equal to
     SMBIOS SystemSerialNumber in Unicode.
     </li>
     <li 
  class="enumerate" id="x1-57008x4">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets system-id in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is equal to SMBIOS
     SystemUUID (with swapped byte order).
     </li>
     <li 
  class="enumerate" id="x1-57010x5">BoardProduct<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets board-id in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is equal to SMBIOS
     BoardProduct in ASCII.
     </li>
     <li 
  class="enumerate" id="x1-57012x6">BoardRevision<br 
class="newline" />Type: plist data, 1 byte<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Sets board-rev in gEfiMiscSubClassGuid. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs seems to correspond
     to internal board revision (e.g. 01).
     </li>
                                                                                                  
                                                                                                  
     server Intel segment, and 19.2 MHz for Intel Atom CPUs. macOS till 10.15 inclusive assumes 24 MHz by
     default.
     </p><!--l. 5335--><p class="noindent" >Note: On Intel Skylake X ART frequency may be a little less (approx. 0.25%) than 24 or 25 MHz due to special
     EMI-reduction circuit as described in <a 
href="https://github.com/acidanthera/bugtracker/issues/448#issuecomment-524914166" >Acidanthera Bugtracker</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-57022x11">DevicePathsSupported<br 
class="newline" />Type: plist integer, 32-bit<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">0</span> <span class="uwave">(Not installed)</span><br 
class="newline" />Description: Sets DevicePathsSupported in gEfiMiscSubClassGuid. Must be set to 1 for AppleACPIPlatform.kext to
     append SATA device paths to Boot#### and efi-boot-device-data variables. Set to 1 on all modern
     Macs.
     </li>
     <li 
  class="enumerate" id="x1-57024x12">SmcRevision<br 
class="newline" />Type: plist data, 6 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets REV in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     REV key.
     </li>
     <li 
  class="enumerate" id="x1-57026x13">SmcBranch<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets RBr in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     RBr key.
     </li>
     <li 
  class="enumerate" id="x1-57028x14">SmcPlatform<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Sets RPlt in gEfiMiscSubClassGuid. Custom property read by VirtualSMC or FakeSMC to generate SMC
     RPlt key.</li></ol>
<a 
 id="x1-57029r60"></a>
<h4 class="subsectionHead"><span class="titlemark">10.4   </span> <a 
 id="x1-580004"></a>Memory Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-58002x1">DataWidth<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: 0xFFFF (unknown)<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Data Width<br 
class="newline" />Description: Specifies the data width, in bits, of the memory. A DataWidth of 0 and a TotalWidth of 8 indicates
     that the device is being used solely to provide 8 error-correction bits.
     </li>
     <li 
  class="enumerate" id="x1-58004x2">Devices<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: Empty<br 
class="newline" />Description: Specifies the custom memory devices to be added.
     <!--l. 5392--><p class="noindent" >Designed to be filled with plist dictionary values, describing each memory device. See <span class="uwave">the </span>?? section below.
     This should include all memory slots, even if unpopulated.
     </p></li>
     <li 
  class="enumerate" id="x1-58006x3">ErrorCorrection<br 
class="newline" />Type: plist integer, 8-bit<br 
class="newline" />Failsafe: 0x03<br 
class="newline" />SMBIOS: Physical Memory Array (Type 16) — Memory Error Correction<br 
class="newline" />Description: Specifies the primary hardware error correction or detection method supported by the memory.
         <ul class="itemize1">
                                                                                                  
                                                                                                  
         <li class="itemize">0x01 — Other
         </li>
         <li class="itemize">0x02 — Unknown
         </li>
         <li class="itemize">0x03 — None
         </li>
         <li class="itemize">0x04 — Parity
         </li>
         <li class="itemize">0x05 — Single-bit ECC
         </li>
         <li class="itemize">0x06 — Multi-bit ECC
         </li>
         <li class="itemize">0x07 — CRC</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-58008x4">FormFactor<br 
class="newline" />Type: plist integer, 8-bit<br 
class="newline" />Failsafe: 0x02<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Form Factor<br 
class="newline" />Description: Specifies the form factor of the memory. On Macs<span class="sout">this should usually </span><span class="uwave">, this should typically </span>be DIMM or
     SODIMM. Commonly used form factors are listed below.
     <!--l. 5431--><p class="noindent" >When CustomMemory is false, this value is automatically set based on Mac product name.
</p>
         <ul class="itemize1">
         <li class="itemize">0x01 — Other
         </li>
         <li class="itemize">0x02 — Unknown
         </li>
         <li class="itemize">0x09 — DIMM
         </li>
         <li class="itemize">0x0D — SODIMM
         </li>
         <li class="itemize">0x0F — FB-DIMM</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-58010x5">MaxCapacity<br 
class="newline" />Type: plist integer, 64-bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />SMBIOS: Physical Memory Array (Type 16) — Maximum Capacity<br 
class="newline" />Description: Specifies the maximum amount of memory, in bytes, supported by the system.
     </li>
     <li 
  class="enumerate" id="x1-58012x6">TotalWidth<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: 0xFFFF (unknown)<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Total Width<br 
class="newline" />Description: Specifies the total width, in bits, of the memory, including any check or error-correction bits. If there are
     no error-correction bits, this value should be equal to DataWidth.
     </li>
     <li 
  class="enumerate" id="x1-58014x7">Type<br 
class="newline" />Type: plist integer, 8-bit<br 
class="newline" />Failsafe: 0x02<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Memory Type<br 
class="newline" />Description: Specifies the memory type. Commonly used types are listed below.
         <ul class="itemize1">
         <li class="itemize">0x01 — Other
         </li>
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-59006x3">DeviceLocator<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Unknown<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Device Locator<br 
class="newline" />Description: Specifies the physically-labeled socket or board position where the memory device is located.
     </li>
     <li 
  class="enumerate" id="x1-59008x4">Manufacturer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Unknown<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Manufacturer<br 
class="newline" />Description: Specifies the manufacturer of this memory device.
     </li>
     <li 
  class="enumerate" id="x1-59010x5">PartNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Unknown<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Part Number<br 
class="newline" />Description: Specifies the part number of this memory device.
     </li>
     <li 
  class="enumerate" id="x1-59012x6">SerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Unknown<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Serial Number<br 
class="newline" />Description: Specifies the serial number of this memory device.
     </li>
     <li 
  class="enumerate" id="x1-59014x7">Size<br 
class="newline" />Type: plist integer, 32-bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Size<br 
class="newline" />Description: Specifies the size of the memory device, in megabytes. 0 indicates this slot is not populated.
     </li>
     <li 
  class="enumerate" id="x1-59016x8">Speed<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: 0<br 
class="newline" />SMBIOS: Memory Device (Type 17) — Speed<br 
class="newline" />Description:  Specifies  the  maximum  capable  speed  of  the  device,  in  megatransfers  per  second  (MT/s).  0
     indicates an unknown speed.
     </li></ol>
<a 
 id="x1-59017r61"></a>
<h4 class="subsectionHead"><span class="titlemark">10.5   </span> <a 
 id="x1-600005"></a>PlatformNVRAM Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-60002x1">BID<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Specifies the value of NVRAM variable 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_BID.
     </li>
     <li 
  class="enumerate" id="x1-60004x2">ROM<br 
class="newline" />Type: plist data, 6 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Specifies the values of NVRAM variables 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_ROM and
     4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ROM.
     </li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-60006x3">MLB<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Specifies the values of NVRAM variables 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_MLB and
     4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:MLB.
     </li>
     <li 
  class="enumerate" id="x1-60008x4">FirmwareFeatures<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: This variable comes in pair with FirmwareFeaturesMask. Specifies the values of NVRAM
     variables:
         <ul class="itemize1">
         <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:FirmwareFeatures
         </li>
         <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ExtendedFirmwareFeatures</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-60010x5">FirmwareFeaturesMask<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: This variable comes in pair with FirmwareFeatures. Specifies the values of NVRAM variables:
         <ul class="itemize1">
         <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:FirmwareFeaturesMask
         </li>
         <li class="itemize">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:ExtendedFirmwareFeaturesMask</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-60012x6"><span class="uwave">SystemSerialNumber</span><br 
class="newline" /><span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist string</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: Empty (Not installed)</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Specifies the values of NVRAM variables </span><span class="uwave">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:HW_SSN</span> <span class="uwave">and
     </span><span class="uwave">4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:SSN</span><span class="uwave">. </span>
     </li>
     <li 
  class="enumerate" id="x1-60014x7">SystemUUID<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">Not installed</span><span class="uwave">Empty (Not installed)</span><br 
class="newline" />Description: Specifies the value of NVRAM variable 4D1EDE05-38C7-4A6A-9CC6-4BCCA8B38C14:system-id for boot
     services only. <span class="sout">Value </span><span class="uwave">The value </span>found on Macs is equal to SMBIOS SystemUUID.
     </li></ol>
<a 
 id="x1-60015r63"></a>
<h4 class="subsectionHead"><span class="titlemark">10.6   </span> <a 
 id="x1-610006"></a>SMBIOS Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-61002x1">BIOSVendor<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: BIOS Information (Type 0) — Vendor<br 
class="newline" />Description: BIOS Vendor. All rules of SystemManufacturer do apply.
     </li>
     <li 
  class="enumerate" id="x1-61004x2">BIOSVersion<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: BIOS Information (Type 0) — BIOS Version<br 
class="newline" />Description:  Firmware  version.  This  value  gets  updated  and  takes  part  in  update  delivery  configuration
     and  macOS  version  compatibility.  This  value  could  look  like  MM71.88Z.0234.B00.1809171422 in  older
                                                                                                  
                                                                                                  
     <div class="verbatim" id="verbatim-1">
     Apple ROM Version
      <br /> BIOS ID:      MBP151.88Z.F000.B00.1811142212
      <br /> Model:        MBP151
      <br /> EFI Version:  220.230.16.0.0
      <br /> Built by:     root@quinoa
      <br /> Date:         Wed Nov 14 22:12:53 2018
      <br /> Revision:     220.230.16 (B&#x0026;I)
      <br /> ROM Version:  F000_B00
      <br /> Build Type:   Official Build, RELEASE
      <br /> Compiler:     Apple LLVM version 10.0.0 (clang-1000.2.42)
      <br /> UUID:         E5D1475B-29FF-32BA-8552-682622BA42E1
      <br /> UUID:         151B0907-10F9-3271-87CD-4BF5DBECACF5</div>
     <!--l. 5699--><p class="nopar" >
     </p></li>
     <li 
  class="enumerate" id="x1-61006x3">BIOSReleaseDate<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: BIOS Information (Type 0) — BIOS Release Date<br 
class="newline" />Description: Firmware release date. Similar to BIOSVersion. May look like 12/08/2017.
     </li>
     <li 
  class="enumerate" id="x1-61008x4">SystemManufacturer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — Manufacturer<br 
class="newline" />Description: OEM manufacturer of the particular board. <span class="sout">Shall not be specified </span><span class="uwave">Use failsafe </span>unless strictly required.
     <span class="sout">Should </span><span class="sout">not</span> <span class="uwave">Do not override to </span>contain Apple Inc. <span class="uwave">on non-Apple hardware</span>, as this confuses numerous services present
     in the operating system, such as firmware updates, eficheck, as well as kernel extensions developed in
     Acidanthera, such as Lilu and its plugins. In addition it will also make some operating systems such as Linux
     unbootable.
     </li>
     <li 
  class="enumerate" id="x1-61010x5">SystemProductName<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1), Product Name<br 
class="newline" />Description: Preferred Mac model used to mark the device as supported by the operating system. This value must be
     specified by any configuration for later automatic generation of the related values in this and other SMBIOS tables and
     related configuration parameters. If SystemProductName is not compatible with the target operating system,
     -no_compat_check boot argument may be used as an override.
     <!--l. 5734--><p class="noindent" >Note: If SystemProductName is unknown, and related fields are unspecified, default values should be assumed as being
     set to MacPro6,1 data. The list of known products can be found in AppleModels.
     </p></li>
     <li 
  class="enumerate" id="x1-61012x6">SystemVersion<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — Version<br 
class="newline" />Description: Product iteration version number. May look like 1.1.
     </li>
     <li 
  class="enumerate" id="x1-61014x7">SystemSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — Serial Number<br 
class="newline" />Description: Product serial number in defined format. Known formats are described in <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Utilities/macserial/FORMAT.md" >macserial</a>.
     </li>
     <li 
  class="enumerate" id="x1-61016x8">SystemUUID<br 
class="newline" />Type: plist string, GUID<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — UUID<br 
class="newline" />Description: A UUID is an identifier that is designed to be unique across both time and space. It requires no central
     registration process.
     </li>
     <li 
  class="enumerate" id="x1-61018x9">SystemSKUNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — SKU Number<br 
class="newline" />Description: Mac Board ID (board-id). May look like Mac-7BA5B2D9E42DDD94 or Mac-F221BEC8 in older models.
     Sometimes it can be just empty.
     </li>
     <li 
  class="enumerate" id="x1-61020x10">SystemFamily<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Information (Type 1) — Family<br 
class="newline" />Description: Family name. May look like iMac Pro.
     </li>
     <li 
  class="enumerate" id="x1-61022x11">BoardManufacturer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) - Manufacturer<br 
class="newline" />Description: Board manufacturer. All rules of SystemManufacturer do apply.
     </li>
     <li 
  class="enumerate" id="x1-61024x12">BoardProduct<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) - Product<br 
class="newline" />Description: Mac Board ID (board-id). May look like Mac-7BA5B2D9E42DDD94 or Mac-F221BEC8 in older
     models.
     </li>
     <li 
  class="enumerate" id="x1-61026x13">BoardVersion<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) - Version<br 
class="newline" />Description: Board version number. Varies, may match SystemProductName or SystemProductVersion.
     </li>
     <li 
  class="enumerate" id="x1-61028x14">BoardSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) — Serial Number<br 
class="newline" />Description: Board serial number in defined format. Known formats are described in <a 
href="https://github.com/acidanthera/macserial/blob/master/FORMAT.md" >macserial</a>.
     </li>
     <li 
  class="enumerate" id="x1-61030x15">BoardAssetTag<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) — Asset Tag<br 
class="newline" />Description: Asset tag number. Varies, may be empty or Type2 - Board Asset Tag.
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-61032x16">BoardType<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">0</span> <span class="uwave">(OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) — Board Type<br 
class="newline" />Description: Either 0xA (Motherboard (includes processor, memory, and I/O) or 0xB (Processor/Memory Module),
     refer to Table 15 – Baseboard: Board Type for more details.
     </li>
     <li 
  class="enumerate" id="x1-61034x17">BoardLocationInChassis<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: Baseboard (or Module) Information (Type 2) — Location in Chassis<br 
class="newline" />Description: Varies, may be empty or Part Component.
     </li>
     <li 
  class="enumerate" id="x1-61036x18">ChassisManufacturer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Enclosure or Chassis (Type 3) — Manufacturer<br 
class="newline" />Description: Board manufacturer. All rules of SystemManufacturer do apply.
     </li>
     <li 
  class="enumerate" id="x1-61038x19">ChassisType<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">0</span> <span class="uwave">(OEM specified)</span><br 
class="newline" />SMBIOS: System Enclosure or Chassis (Type 3) — Type<br 
class="newline" />Description: Chassis type, refer to Table 17 — System Enclosure or Chassis Types for more details.
     </li>
     <li 
  class="enumerate" id="x1-61040x20">ChassisVersion<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Enclosure or Chassis (Type 3) — Version<br 
class="newline" />Description: Should match BoardProduct.
     </li>
     <li 
  class="enumerate" id="x1-61042x21">ChassisSerialNumber<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Enclosure or Chassis (Type 3) — Version<br 
class="newline" />Description: Should match SystemSerialNumber.
     </li>
     <li 
  class="enumerate" id="x1-61044x22">ChassisAssetTag<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">OEM specified</span><span class="uwave">Empty (OEM specified)</span><br 
class="newline" />SMBIOS: System Enclosure or Chassis (Type 3) — Asset Tag Number<br 
class="newline" />Description: Chassis type name. Varies, could be empty or MacBook-Aluminum.
     </li>
     <li 
  class="enumerate" id="x1-61046x23">PlatformFeature<br 
class="newline" />Type: plist integer, 32-bit<br 
class="newline" />Failsafe: 0xFFFFFFFF <span class="uwave">(OEM specified on Apple hardware, do not provide the table otherwise)</span><br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE133 - PlatformFeature<br 
class="newline" />Description: Platform features bitmask. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleFeatures.h" >AppleFeatures.h</a> for more details. <span class="sout">Use </span><span class="sout">0xFFFFFFFF</span> <span class="sout">value to not
     provide this table</span><span class="uwave">Missing on older Macs</span>.
     </li>
     <li 
  class="enumerate" id="x1-61048x24">SmcVersion<br 
class="newline" />Type: plist data, 16 bytes<br 
class="newline" />Failsafe: All zero <span class="uwave">(OEM specified on Apple hardware, do not provide the table otherwise)</span><br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE134 - Version<br 
class="newline" />Description: ASCII string containing SMC version in upper case. Missing on T2 based Macs. <span class="sout">Ignored when zero.
     </span>
     </li>
     <li 
  class="enumerate" id="x1-61050x25">FirmwareFeatures<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: 0 <span class="uwave">(OEM specified on Apple hardware, 0 otherwise)</span><br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE128 - FirmwareFeatures and ExtendedFirmwareFeatures<br 
class="newline" />Description: 64-bit firmware features bitmask. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleFeatures.h" >AppleFeatures.h</a> for more details. Lower 32 bits match
     FirmwareFeatures. Upper 64 bits match ExtendedFirmwareFeatures.
     </li>
     <li 
  class="enumerate" id="x1-61052x26">FirmwareFeaturesMask<br 
class="newline" />Type: plist data, 8 bytes<br 
class="newline" />Failsafe: 0 <span class="uwave">(OEM specified on Apple hardware, 0 otherwise)</span><br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE128 - FirmwareFeaturesMask and ExtendedFirmwareFeaturesMask<br 
class="newline" />Description: Supported bits of extended firmware features bitmask. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleFeatures.h" >AppleFeatures.h</a> for more details. Lower 32
     bits match FirmwareFeaturesMask. Upper 64 bits match ExtendedFirmwareFeaturesMask.
     </li>
     <li 
  class="enumerate" id="x1-61054x27">ProcessorType<br 
class="newline" />Type: plist integer, 16-bit<br 
class="newline" />Failsafe: 0 (Automatic)<br 
class="newline" />SMBIOS: APPLE_SMBIOS_TABLE_TYPE131 - ProcessorType<br 
class="newline" />Description: Combined of Processor Major and Minor types.
     <!--l. 5916--><p class="noindent" >Automatic value generation tries to provide most accurate value for the currently installed CPU. When this fails please
     make sure to create an <a 
href="https://github.com/acidanthera/bugtracker/issues" >issue</a> and provide sysctl machdep.cpu and <a 
href="https://github.com/acidanthera/dmidecode" >dmidecode</a> output. For a full list of available values
     and their limitations (the value will only apply if the CPU core count matches) refer to Apple SMBIOS definitions header
     <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/IndustryStandard/AppleSmBios.h" >here</a>.</p></li></ol>
<a 
 id="x1-61055r57"></a>
<h3 class="sectionHead"><span class="titlemark">11   </span> <a 
 id="x1-6200011"></a>UEFI</h3>
<a 
 id="x1-62001r64"></a>
<h4 class="subsectionHead"><span class="titlemark">11.1   </span> <a 
 id="x1-630001"></a>Introduction</h4>
<!--l. 5930--><p class="noindent" ><a 
href="https://uefi.org/specifications" >UEFI</a> (Unified Extensible Firmware Interface) is a specification that defines a software interface between an operating system
and platform firmware. This section allows to load additional UEFI modules and/or apply tweaks for the onboard firmware. To
inspect firmware contents, apply modifications and perform upgrades <a 
href="https://github.com/LongSoft/UEFITool/releases" >UEFITool</a> and supplementary utilities can be
used.
<a 
 id="x1-63001r66"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">11.2   </span> <a 
 id="x1-640002"></a>Drivers</h4>
<!--l. 5939--><p class="noindent" >Depending on the firmware a different set of drivers may be required. Loading an incompatible driver may lead the
system to unbootable state or even cause permanent firmware damage. Some of the known drivers are listed
below:
</p>
                                                                                                  
                                                                                                  
<div class="tabular"> <table id="TBL-4" class="tabular" 
 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1" /><col 
id="TBL-4-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:normal; text-align:left;" id="TBL-4-1-1"  
class="td11"><!--l. 5944--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >AudioDxe</a>*            </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-1-2"  
class="td11"><!--l. 5945--><p class="noindent" >HDA  audio  support  driver  in  UEFI  firmware  for  most  Intel  and  some  other  analog
audio controllers. Staging driver, refer to <a 
href="https://github.com/acidanthera/bugtracker/issues/740" >acidanthera/bugtracker#740</a> for known issues in
AudioDxe.                                                                                                          </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:normal; text-align:left;" id="TBL-4-2-1"  
class="td11"><!--l. 5948--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >CrScreenshotDxe</a>*   </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-2-2"  
class="td11"><!--l. 5949--><p class="noindent" >Screenshot  making  driver  saving  images  to  the  root  of  OpenCore  partition  (ESP)  or
any  available  writeable  filesystem  upon  pressing  F10.  This  is  a  modified  version  of
<a 
href="https://github.com/LongSoft/CrScreenshotDxe" >CrScreenshotDxe</a> driver by <a 
href="https://github.com/NikolajSchlej" >Nikolaj Schlej</a>.                                                                </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:normal; text-align:left;" id="TBL-4-3-1"  
class="td11"><!--l. 5953--><p class="noindent" ><a 
href="https://github.com/acidanthera/OcBinaryData" >ExFatDxe</a>           </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-3-2"  
class="td11"><!--l. 5954--><p class="noindent" >Proprietary  ExFAT  file  system  driver  for  Bootcamp  support  commonly  found  in  Apple
firmware. For Sandy Bridge and earlier CPUs<span class="uwave">, the </span>ExFatDxeLegacy driver should be used
due to the lack of RDRAND instruction support.                                                           </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:normal; text-align:left;" id="TBL-4-4-1"  
class="td11"><!--l. 5957--><p class="noindent" ><a 
href="https://github.com/acidanthera/OcBinaryData" >HfsPlus</a>            </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-4-2"  
class="td11"><!--l. 5958--><p class="noindent" ><span class="uwave">Recommended. </span>Proprietary HFS file system driver with bless support commonly found in
Apple firmware. For Sandy Bridge and earlier CPUs<span class="uwave">, the </span>HfsPlusLegacy driver should be
used due to the lack of RDRAND instruction support.                                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:normal; text-align:left;" id="TBL-4-5-1"  
class="td11"><!--l. 5961--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >HiiDatabase</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-5-2"  
class="td11"><!--l. 5962--><p class="noindent" >HII services support driver from MdeModulePkg. This driver is included in most types of
firmware starting with the Ivy Bridge generation. Some applications with GUI, such as UEFI
Shell, may need this driver to work properly.                                                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:normal; text-align:left;" id="TBL-4-6-1"  
class="td11"><!--l. 5965--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >EnhancedFatDxe</a>     </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-6-2"  
class="td11"><!--l. 5966--><p class="noindent" >FAT  filesystem  driver  from  FatPkg.  This  driver  is  embedded  in  all  UEFI  firmware  and
cannot be used from OpenCore. <span class="sout">Sevaral firmware have a flawed </span><span class="uwave">Several types of firmware
have defective </span>FAT support implementation that may lead to corrupted filesystems on write
attempts. Embedding this driver within the firmware may be required in case writing to the
EFI partition is needed during the boot process.                                                         </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:normal; text-align:left;" id="TBL-4-7-1"  
class="td11"><!--l. 5972--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >NvmExpressDxe</a>*      </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-7-2"  
class="td11"><!--l. 5973--><p class="noindent" >NVMe support driver from MdeModulePkg. This driver is included in most firmware starting
with the Broadwell generation. For Haswell and earlier, embedding it within the firmware
may be more favourable in case a NVMe SSD drive is installed.                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-8-"><td  style="white-space:normal; text-align:left;" id="TBL-4-8-1"  
class="td11"><!--l. 5976--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenCanopy</a>*          </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-8-2"  
class="td11"><!--l. 5977--><p class="noindent" ><a 
href="#x1-660004">OpenCore plugin</a> implementing graphical interface.                                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-9-"><td  style="white-space:normal; text-align:left;" id="TBL-4-9-1"  
class="td11"><!--l. 5978--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenRuntime</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-9-2"  
class="td11"><!--l. 5979--><p class="noindent" ><a 
href="#x1-670005">OpenCore plugin</a> implementing OC_FIRMWARE_RUNTIME protocol.                                    </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-10-"><td  style="white-space:normal; text-align:left;" id="TBL-4-10-1"  
class="td11"><!--l. 5980--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenUsbKbDxe</a>*       </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-10-2"  
class="td11"><!--l. 5981--><p class="noindent" >USB keyboard driver adding <span class="sout">the support of </span><span class="uwave">support for </span>AppleKeyMapAggregator protocols
on top of a custom USB keyboard driver implementation. This is an alternative to builtin
KeySupport, which may work better or worse depending on the firmware.                        </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-11-"><td  style="white-space:normal; text-align:left;" id="TBL-4-11-1"  
class="td11"><!--l. 5984--><p class="noindent" ><a 
href="https://github.com/acidanthera/OcBinaryData" >OpenPartitionDxe</a>*  </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-11-2"  
class="td11"><!--l. 5985--><p class="noindent" >Partition management driver with Apple Partitioning Scheme support. This driver can be
used to support loading older DMG recoveries such as macOS 10.9 using Apple Partitioning
Scheme. OpenDuet already includes this driver.                                                          </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-12-"><td  style="white-space:normal; text-align:left;" id="TBL-4-12-1"  
class="td11"><!--l. 5988--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >Ps2KeyboardDxe</a>*     </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-12-2"  
class="td11"><!--l. 5989--><p class="noindent" >PS/2 keyboard driver from MdeModulePkg. OpenDuetPkg and some types of firmware may not
include this driver, but it is necessary for PS/2 keyboard to work. Note, unlike OpenUsbKbDxe
this driver has no AppleKeyMapAggregator support and thus requires KeySupport to be
enabled.                                                                                                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-13-"><td  style="white-space:normal; text-align:left;" id="TBL-4-13-1"  
class="td11"><!--l. 5993--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >Ps2MouseDxe</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-13-2"  
class="td11"><!--l. 5994--><p class="noindent" >PS/2 mouse driver from MdeModulePkg. Some very old laptop firmware may not include this
driver but it is necessary for the touchpad to work in UEFI graphical interfaces such as
OpenCanopy.                                                                                                        </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-14-"><td  style="white-space:normal; text-align:left;" id="TBL-4-14-1"  
class="td11"><!--l. 5997--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenHfsPlus</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-14-2"  
class="td11"><!--l. 5998--><p class="noindent" >HFS file system driver with bless support. This driver is an alternative to a closed source
HfsPlus driver  commonly  found  in  Apple  firmware.  While  it  is  feature  complete,  it  is
approximately 3 times slower and is yet to undergo a security audit.                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-15-"><td  style="white-space:normal; text-align:left;" id="TBL-4-15-1"  
class="td11"><!--l. 6002--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >UsbMouseDxe</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-15-2"  
class="td11"><!--l. 6003--><p class="noindent" >USB mouse driver from MdeModulePkg. Some virtual machine firmware such as OVMF may
not include this driver but it is necessary for the mouse to work in UEFI graphical interfaces
such as OpenCanopy.                                                                                             </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-16-"><td  style="white-space:normal; text-align:left;" id="TBL-4-16-1"  
class="td11"><!--l. 6006--><p class="noindent" ><a 
href="https://github.com/acidanthera/audk" >XhciDxe</a>*              </p></td><td  style="white-space:normal; text-align:left;" id="TBL-4-16-2"  
class="td11"><!--l. 6007--><p class="noindent" >XHCI USB controller support driver from MdeModulePkg. This driver is included in most
types of firmware starting with the Sandy Bridge generation. For earlier firmware or legacy
systems, it may be used to support external USB 3.0 PCI cards.                                    </p></td>
</tr></table></div>
<!--l. 6012--><p class="noindent" >Driver marked with * are bundled with OpenCore. To compile the drivers from UDK (EDK II) the same command used for
OpenCore compilation can be taken, but choose a corresponding package: </p><!--l. 6015-->
<div class="lstlisting" id="listing-15"><span class="label"><a 
 id="x1-64001r1"></a></span>git clone https://github.com/acidanthera/audk UDK <br /><span class="label"><a 
 id="x1-64002r2"></a></span>cd UDK <br /><span class="label"><a 
 id="x1-64003r3"></a></span>source edksetup.sh <br /><span class="label"><a 
 id="x1-64004r4"></a></span>make -C BaseTools <br /><span class="label"><a 
 id="x1-64005r5"></a></span>build -a X64 -b RELEASE -t XCODE5 -p FatPkg/FatPkg.dsc <br /><span class="label"><a 
 id="x1-64006r6"></a></span>build -a X64 -b RELEASE -t XCODE5 -p MdeModulePkg/MdeModulePkg.dsc
</div>
<a 
 id="x1-64007r67"></a>
<h4 class="subsectionHead"><span class="titlemark">11.3   </span> <a 
 id="x1-650003"></a>Tools and Applications</h4>
<!--l. 6026--><p class="noindent" >Standalone tools may help to debug firmware and hardware. Some of the known tools are listed below. While some tools can be
launched from within OpenCore, see more details in the <a 
href="#x1-430116">Tools</a> subsection of the configuration, most should be run separately
either directly or from Shell.
                                                                                                  
                                                                                                  
</p><!--l. 6031--><p class="noindent" >To boot into OpenShell or any other tool directly save OpenShell.efi under the name of EFI\BOOT\BOOTX64.EFI on a FAT32
partition. <span class="sout">In general it is </span><span class="uwave">It is typically </span>unimportant whether the partition scheme is GPT or MBR.
</p><!--l. 6036--><p class="noindent" >While the previous approach works both on Macs and other computers, an alternative Mac-only approach to bless the tool on
an HFS+ or APFS volume:
</p>
<!--l. 6040-->
<a 
 id="x1-65001r3"></a>
<a 
 id="x1-65002"></a>
<div class="lstlisting" id="listing-16"><span class="label"><a 
 id="x1-65003r1"></a></span>sudo bless --verbose --file /Volumes/VOLNAME/DIR/OpenShell.efi \ <br /><span class="label"><a 
 id="x1-65004r2"></a></span>  --folder /Volumes/VOLNAME/DIR/ --setBoot
<figcaption class="caption" ><span class="id">Listing 3:</span><span  
class="content">Blessing tool</span></figcaption><!--tex4ht:label?: x1-65001r -->
</div>
<!--l. 6045--><p class="noindent" >Note 1: /System/Library/CoreServices/BridgeVersion.bin should be copied to /Volumes/VOLNAME/DIR.
<br 
class="newline" />Note 2: To be able to use <span class="uwave">the </span>bless <span class="uwave">command, </span><a 
href="https://developer.apple.com/library/archive/documentation/Security/Conceptual/System_Integrity_Protection_Guide/ConfiguringSystemIntegrityProtection/ConfiguringSystemIntegrityProtection.html" >disabling System Integrity Protection</a> is necessary. <br 
class="newline" />Note 3: To be able to boot <a 
href="https://support.apple.com/HT208330" >Secure Boot</a> might be disabled if present.
</p><!--l. 6052--><p class="noindent" >Some of the known tools are listed below (builtin tools are marked with *):
</p>
<div class="tabular"> <table id="TBL-5" class="tabular" 
 
><colgroup id="TBL-5-1g"><col 
id="TBL-5-1" /><col 
id="TBL-5-2" /></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-5-1-"><td  style="white-space:normal; text-align:left;" id="TBL-5-1-1"  
class="td11"><!--l. 6055--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >BootKicker</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-1-2"  
class="td11"><!--l. 6056--><p class="noindent" >Enter Apple BootPicker menu (exclusive for Macs with compatible GPUs).                      </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-2-"><td  style="white-space:normal; text-align:left;" id="TBL-5-2-1"  
class="td11"><!--l. 6057--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >ChipTune</a>*             </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-2-2"  
class="td11"><!--l. 6058--><p class="noindent" >Test BeepGen protocol and generate audio signals of different style and length.                </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-3-"><td  style="white-space:normal; text-align:left;" id="TBL-5-3-1"  
class="td11"><!--l. 6059--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >CleanNvram</a>*          </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-3-2"  
class="td11"><!--l. 6060--><p class="noindent" >Reset NVRAM alternative bundled as a standalone tool.                                              </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-4-"><td  style="white-space:normal; text-align:left;" id="TBL-5-4-1"  
class="td11"><!--l. 6061--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >GopStop</a>*              </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-4-2"  
class="td11"><!--l. 6062--><p class="noindent" >Test GraphicsOutput protocol with a <a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Application/GopStop" >simple scenario</a>.                                                  </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-5-"><td  style="white-space:normal; text-align:left;" id="TBL-5-5-1"  
class="td11"><!--l. 6064--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >KeyTester</a>*            </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-5-2"  
class="td11"><!--l. 6065--><p class="noindent" >Test keyboard input in SimpleText mode.                                                                 </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-6-"><td  style="white-space:normal; text-align:left;" id="TBL-5-6-1"  
class="td11"><!--l. 6066--><p class="noindent" ><a 
href="https://www.memtest86.com" >MemTest86</a>          </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-6-2"  
class="td11"><!--l. 6067--><p class="noindent" >Memory testing utility.                                                                                          </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-7-"><td  style="white-space:normal; text-align:left;" id="TBL-5-7-1"  
class="td11"><!--l. 6068--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenControl</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-7-2"  
class="td11"><!--l. 6069--><p class="noindent" >Unlock and lock back NVRAM protection for other tools to be able to get full NVRAM
access when launching from OpenCore.                                                                     </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-8-"><td  style="white-space:normal; text-align:left;" id="TBL-5-8-1"  
class="td11"><!--l. 6071--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenShell</a>*            </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-8-2"  
class="td11"><!--l. 6072--><p class="noindent" >OpenCore-configured <a 
href="http://github.com/tianocore/edk2" >UEFI Shell</a> for compatibility with a broad range of firmware.          </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-9-"><td  style="white-space:normal; text-align:left;" id="TBL-5-9-1"  
class="td11"><!--l. 6074--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >PavpProvision</a>      </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-9-2"  
class="td11"><!--l. 6075--><p class="noindent" >Perform EPID provisioning (requires certificate data configuration).                               </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-10-"><td  style="white-space:normal; text-align:left;" id="TBL-5-10-1"  
class="td11"><!--l. 6076--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >ResetSystem</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-10-2"  
class="td11"><!--l. 6077--><p class="noindent" >Utility to perform system reset. Takes reset type as an argument: ColdReset, Firmware,
Shutdown, WarmReset. Defaults to ColdReset.                                                           </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-11-"><td  style="white-space:normal; text-align:left;" id="TBL-5-11-1"  
class="td11"><!--l. 6080--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >RtcRw</a>*                 </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-11-2"  
class="td11"><!--l. 6081--><p class="noindent" >Utility to read and write RTC (CMOS) memory.                                                        </p></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-5-12-"><td  style="white-space:normal; text-align:left;" id="TBL-5-12-1"  
class="td11"><!--l. 6082--><p class="noindent" ><a 
href="https://github.com/acidanthera/OpenCorePkg" >VerifyMsrE2</a>*         </p></td><td  style="white-space:normal; text-align:left;" id="TBL-5-12-2"  
class="td11"><!--l. 6083--><p class="noindent" >Check CFG Lock (MSR 0xE2 write protection) consistency across all cores.                      </p></td>
</tr></table></div>
<a 
 id="x1-65005r68"></a>
<h4 class="subsectionHead"><span class="titlemark">11.4   </span> <a 
 id="x1-660004"></a>OpenCanopy</h4>
<!--l. 6088--><p class="noindent" >OpenCanopy is a graphical OpenCore user interface that runs in External PickerMode and relies on <a 
href="https://github.com/acidanthera/OpenCorePkg" >OpenCorePkg</a>
OcBootManagementLib similar to the builtin text interface.
</p><!--l. 6093--><p class="noindent" >OpenCanopy requires graphical resources located in Resources directory to run. Sample resources (fonts and
images) can be found in <a 
href="https://github.com/acidanthera/OcBinaryData" >OcBinaryData repository</a>. Customised icons can be found over the internet (e.g. <a 
href="https://github.com/blackosx/OpenCanopyIcons" >here</a> or
<a 
href="https://applelife.ru/threads/kastomizacija-opencanopy.2945020/" >there</a>).
</p><!--l. 6098--><p class="noindent" >OpenCanopy provides full support for PickerAttributes and offers a configurable builtin icon set. The default chosen icon set
depends on the DefaultBackgroundColor variable value. For Light Gray Old icon set will be used, for other colours — the one
without a prefix.
</p><!--l. 6103--><p class="noindent" >Predefined icons are <span class="sout">put to </span><span class="uwave">saved in the </span>\EFI\OC\Resources\Image directory. <span class="sout">Full </span><span class="uwave">A full </span>list of supported icons (in .icns
format) is provided below. <span class="sout">Missing optional icons will use </span><span class="uwave">When optional icons are missing, </span>the closest available icon <span class="uwave">will be
used</span>. External entries will use Ext-prefixed icon if available (e.g. OldExtHardDrive.icns).
</p><!--l. 6110--><p class="noindent" >Note: In the following all dimensions are normative for the 1x scaling level and shall be scaled accordingly for other
levels.
</p>
     <ul class="itemize1">
     <li class="itemize">Cursor — Mouse cursor (mandatory, up to 144x144).
                                                                                                  
                                                                                                  
     </li>
     <li class="itemize">Selected — Selected item (mandatory, 144x144).
     </li>
     <li class="itemize">Selector — Selecting item (mandatory, up to 144x40).
     </li>
     <li class="itemize">Left — Scrolling left (mandatory, 40x40).
     </li>
     <li class="itemize">Right — Scrolling right (mandatory, 40x40).
     </li>
     <li class="itemize">HardDrive — Generic OS (mandatory, 128x128).
     </li>
     <li class="itemize">Background — Centred background image.
     </li>
     <li class="itemize">Apple — Apple OS (128x128).
     </li>
     <li class="itemize">AppleRecv — Apple Recovery OS (128x128).
     </li>
     <li class="itemize">AppleTM — Apple Time Machine (128x128).
     </li>
     <li class="itemize">Windows — Windows (128x128).
     </li>
     <li class="itemize">Other — Custom entry (see Entries, 128x128).
     </li>
     <li class="itemize">ResetNVRAM — Reset NVRAM system action or tool (128x128).
     </li>
     <li class="itemize">Shell — Entry with UEFI Shell name for e.g. OpenShell (128x128).
     </li>
     <li class="itemize">Tool — Any other tool (128x128).</li></ul>
<!--l. 6132--><p class="noindent" >Predefined labels are <span class="sout">put to </span><span class="uwave">saved in the </span>\EFI\OC\Resources\Label directory. Each label has .lbl or .l2x suffix to represent
the scaling level. Full list of labels is provided below. All labels are mandatory.
</p>
     <ul class="itemize1">
     <li class="itemize">EFIBoot — Generic OS.
     </li>
     <li class="itemize">Apple — Apple OS.
     </li>
     <li class="itemize">AppleRecv — Apple Recovery OS.
     </li>
     <li class="itemize">AppleTM — Apple Time Machine.
     </li>
     <li class="itemize">Windows — Windows.
     </li>
     <li class="itemize">Other — Custom entry (see Entries).
     </li>
     <li class="itemize">ResetNVRAM — Reset NVRAM system action or tool.
     </li>
     <li class="itemize">Shell — Entry with UEFI Shell name (e.g. OpenShell).
     </li>
     <li class="itemize">Tool — Any other tool.</li></ul>
<!--l. 6150--><p class="noindent" >Note: All labels must have a height of exactly 12 px. There is no limit for their width.
</p><!--l. 6152--><p class="noindent" >Label and icon generation can be performed with bundled utilities: disklabel and icnspack. Font is Helvetica 12 pt times
scale factor.
</p><!--l. 6155--><p class="noindent" >Font format corresponds to <a 
href="https://www.angelcode.com/products/bmfont" >AngelCode binary BMF</a>. While there are many utilities to generate font files, currently it is
recommended to use <a 
href="https://github.com/danpla/dpfontbaker" >dpFontBaker</a> to generate bitmap font (<a 
href="https://github.com/danpla/dpfontbaker/pull/1" >using CoreText produces best results</a>) and <a 
href="https://github.com/usr-sse2/fonverter" >fonverter</a> to export it to
binary format.
                                                                                                  
                                                                                                  
<a 
 id="x1-66001r70"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">11.5   </span> <a 
 id="x1-670005"></a>OpenRuntime</h4>
<!--l. 6163--><p class="noindent" >OpenRuntime is an OpenCore plugin implementing OC_FIRMWARE_RUNTIME protocol. This protocol implements multiple features
required for OpenCore that are otherwise not possible to implement in OpenCore itself as they are needed to work in runtime,
i.e. during operating system functioning. Feature highlights:
</p>
     <ul class="itemize1">
     <li class="itemize">NVRAM   namespaces,   allowing   to   isolate   operating   systems   from   accessing   select   variables   (e.g.
     RequestBootVarRouting or ProtectSecureBoot).
     </li>
     <li class="itemize">Read-only and write-only NVRAM variables, enhancing the security of OpenCore, Lilu, and Lilu plugins, such
     as VirtualSMC, which implements AuthRestart support.
     </li>
     <li class="itemize">NVRAM isolation, allowing to protect all variables from being written from an untrusted operating system (e.g.
     DisableVariableWrite).
     </li>
     <li class="itemize">UEFI   Runtime   Services   memory   protection   management   to   workaround   read-only   mapping   (e.g.
     EnableWriteUnprotector).</li></ul>
<a 
 id="x1-67001r71"></a>
<h4 class="subsectionHead"><span class="titlemark">11.6   </span> <a 
 id="x1-680006"></a>Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-68002x1">APFS<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Provide APFS support as configured in <span class="uwave">the </span><a 
href="#x1-690007">APFS Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-68004x2">Audio<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Configure audio backend support described in <span class="uwave">the </span><a 
href="#x1-700008">Audio Properties</a> section below.
     <!--l. 6196--><p class="noindent" >Audio support provides a way for upstream protocols to interact with the selected hardware and audio resources.
     All audio resources should reside in \EFI\OC\Resources\Audio directory. Currently the supported audio file
     formats are MP3 and WAVE PCM. While it is driver-dependent which audio stream format is supported, most
     common audio cards support 16-bit signed stereo audio at 44100 or 48000 Hz.
     </p><!--l. 6203--><p class="noindent" >Audio file path is determined by audio type, audio localisation, and audio path. Each filename looks as follows:
     [audio type]_[audio localisation]_[audio path].[audio ext].  For  unlocalised  files  filename  does  not
     include the language code and looks as follows: [audio type]_[audio path].[audio ext]. Audio extension
     can either be mp3 or wav.
</p>
         <ul class="itemize1">
         <li class="itemize">Audio type can be OCEFIAudio for OpenCore audio files or AXEFIAudio for macOS bootloader audio files.
         </li>
         <li class="itemize">Audio localisation is a two letter language code (e.g. en) with an exception for Chinese, Spanish, and
         Portuguese. Refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/Protocol/AppleVoiceOver.h" >APPLE_VOICE_OVER_LANGUAGE_CODE definition</a> for the list of all supported localisations.
         </li>
         <li class="itemize">Audio path is the base filename corresponding to a file identifier. For macOS bootloader audio paths refer to
         <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Apple/Protocol/AppleVoiceOver.h" >APPLE_VOICE_OVER_AUDIO_FILE definition</a>. For OpenCore audio paths refer to <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Acidanthera/Protocol/OcAudio.h" >OC_VOICE_OVER_AUDIO_FILE
         definition</a>. The only exception is OpenCore boot chime file, which is OCEFIAudio_VoiceOver_Boot.mp3.</li></ul>
     <!--l. 6224--><p class="noindent" >Audio localisation is determined separately for macOS bootloader and OpenCore. For macOS bootloader it is set in
     preferences.efires archive in systemLanguage.utf8 file and is controlled by the operating system. For
                                                                                                  
                                                                                                  
     OpenCore the value of prev-lang:kbd variable is used. When native audio localisation of a particular file is
     missing, English language (en) localisation is used. Sample audio files can be found in <a 
href="https://github.com/acidanthera/OcBinaryData" >OcBinaryData
     repository</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-68006x3">ConnectDrivers<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Perform UEFI controller connection after driver loading.
     <!--l. 6238--><p class="noindent" >This option is useful for loading drivers following UEFI driver model as they may not start by themselves. Examples of
     such drivers are filesystem or audio drivers. While effective, this option may not be necessary for drivers performing
     automatic connection, and may slightly slowdown the boot.
     </p><!--l. 6243--><p class="noindent" >Note: Some types of firmware, particularly those made by Apple, only connect the boot drive to speed
     up the boot process. Enable this option to be able to see all the boot options when running multiple
     drives.
     </p></li>
     <li 
  class="enumerate" id="x1-68008x4">Drivers<br 
class="newline" />Type: plist array<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Load selected drivers from OC/Drivers directory.
     <!--l. 6254--><p class="noindent" >Designed to be filled with string filenames meant to be loaded as UEFI drivers.
     </p></li>
     <li 
  class="enumerate" id="x1-68010x5">Input<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Apply individual settings designed for input (keyboard and mouse) in <span class="uwave">the </span><a 
href="#x1-710009">Input Properties</a> section
     below.
     </li>
     <li 
  class="enumerate" id="x1-68012x6">Output<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Apply individual settings designed for output (text and graphics) in <span class="uwave">the </span><a 
href="#x1-7200010">Output Properties</a> section
     below.
     </li>
     <li 
  class="enumerate" id="x1-68014x7">ProtocolOverrides<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Force builtin versions of <span class="sout">select </span><span class="uwave">certain </span>protocols described in <span class="uwave">the </span><a 
href="#x1-7300011">ProtocolOverrides Properties</a> section
     below.
     <!--l. 6278--><p class="noindent" >Note: all protocol instances are installed prior to driver loading.
     </p></li>
     <li 
  class="enumerate" id="x1-68016x8">Quirks<br 
class="newline" />Type: plist dict<br 
class="newline" />Failsafe: None<br 
class="newline" />Description: Apply individual firmware quirks described in <span class="uwave">the </span><a 
href="#x1-7400012">Quirks Properties</a> section below.
     </li>
     <li 
  class="enumerate" id="x1-68018x9">ReservedMemory<br 
class="newline" />Type: plist array<br 
class="newline" />Description: Designed to be filled with plist dict values, describing memory areas exquisite to particular firmware
     and hardware functioning, which should not be used by the operating system. An example of such memory region could
     be second 256 MB corrupted by Intel HD 3000 or an area with faulty RAM. See <span class="uwave">the </span><a 
href="#x1-7500013">ReservedMemory Properties</a> section
     below.
                                                                                                  
                                                                                                  
     </li></ol>
<a 
 id="x1-68019r72"></a>
<h4 class="subsectionHead"><span class="titlemark">11.7   </span> <a 
 id="x1-690007"></a>APFS Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-69002x1">EnableJumpstart<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Load embedded APFS drivers from APFS containers.
     <!--l. 6308--><p class="noindent" >APFS EFI driver is bundled in all bootable APFS containers. This option performs loading of signed APFS
     drivers with respect to ScanPolicy. See more details in “EFI Jumpstart” section of <a 
href="https://developer.apple.com/support/apple-file-system/Apple-File-System-Reference.pdf" >Apple File System Reference</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-69004x2">GlobalConnect<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Perform full device connection during APFS loading.
     <!--l. 6320--><p class="noindent" >Instead  of  partition  handle  connection  normally  used  for  APFS  driver  loading  every  handle  is  connected
     recursively. This may take more time than usual but can be the only way to access APFS partitions on some
     types of firmware such as those on older HP laptops.
     </p></li>
     <li 
  class="enumerate" id="x1-69006x3">HideVerbose<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Hide verbose output from APFS driver.
     <!--l. 6331--><p class="noindent" >APFS verbose output can be useful for debugging.
     </p></li>
     <li 
  class="enumerate" id="x1-69008x4">JumpstartHotPlug<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Load APFS drivers for newly connected devices.
     <!--l. 6339--><p class="noindent" >Performs APFS driver loading not only at OpenCore startup but also during <span class="sout">boot </span><span class="uwave">the OpenCore </span>picker. This
     permits APFS USB hot plug. Disable if not required.
     </p></li>
     <li 
  class="enumerate" id="x1-69010x5">MinDate<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Minimal allowed APFS driver date.
     <!--l. 6349--><p class="noindent" >APFS driver date connects APFS driver with the calendar release date. Older versions of APFS drivers may
     contain unpatched vulnerabilities, which can be used to inflict harm to the computer. This option permits
     restricting APFS drivers to only recent releases.
</p>
         <ul class="itemize1">
         <li class="itemize">0 — require the default supported release date of APFS in OpenCore. The default release date will increase
         with time and thus this setting is recommended. Currently set to 2018/06/21.
         </li>
         <li class="itemize">-1 — permit any release date to load (strongly discouraged).
         </li>
         <li class="itemize">Other — use custom minimal APFS release date, e.g. 20200401 for 2020/04/01. APFS release dates can be
         found in OpenCore boot log and <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Acidanthera/Library/OcApfsLib.h" >OcApfsLib</a>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-69012x6">MinVersion<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Minimal allowed APFS driver version.
     <!--l. 6371--><p class="noindent" >APFS driver version connects APFS driver with the macOS release. APFS drivers from older macOS
     releases will become unsupported and thus may contain unpatched vulnerabilities, which can be used
     to inflict harm to the computer. This option permits restricting APFS drivers to only modern macOS
     versions.
</p>
         <ul class="itemize1">
         <li class="itemize">0 — require the default supported version of APFS in OpenCore. The default version will increase with
         time and thus this setting is recommended. Currently set to the latest point release from High Sierra from
         App Store (748077008000000).
         </li>
         <li class="itemize">-1 — permit any version to load (strongly discouraged).
         </li>
         <li class="itemize">Other — use custom minimal APFS version, e.g. 1412101001000000 from macOS Catalina 10.15.4. APFS
         versions can be found in OpenCore boot log and <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Acidanthera/Library/OcApfsLib.h" >OcApfsLib</a>.</li></ul>
     </li></ol>
<a 
 id="x1-69013r73"></a>
<h4 class="subsectionHead"><span class="titlemark">11.8   </span> <a 
 id="x1-700008"></a>Audio Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-70002x1">AudioCodec<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Codec address on the specified audio controller for audio support.
     <!--l. 6402--><p class="noindent" >Normally this contains first audio codec address on the builtin analog audio controller (HDEF). Audio codec
     addresses, e.g. 2, can be found in the debug log (marked in bold-italic):
     </p><!--l. 6405--><p class="noindent" >OCAU: 1/3 PciRoot(0x0)/Pci(0x1,0x0)/Pci(0x0,0x1)/VenMsg(&#x003C;redacted&#x003E;,00000000) (4 outputs)<br 
class="newline" />OCAU: 2/3 PciRoot(0x0)/Pci(0x3,0x0)/VenMsg(&#x003C;redacted&#x003E;,00000000) (1 outputs)<br 
class="newline" />OCAU: 3/3 PciRoot(0x0)/Pci(0x1B,0x0)/VenMsg(&#x003C;redacted&#x003E;,02000000) (7 outputs)
     </p><!--l. 6409--><p class="noindent" >As an alternative this value can be obtained from IOHDACodecDevice class in I/O Registry containing it in
     IOHDACodecAddress field.
     </p></li>
     <li 
  class="enumerate" id="x1-70004x2">AudioDevice<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">empty string</span><span class="uwave">Empty</span><br 
class="newline" />Description: Device path of the specified audio controller for audio support.
     <!--l. 6418--><p class="noindent" >Normally this contains builtin analog audio controller (HDEF) device path, e.g. PciRoot(0x0)/Pci(0x1b,0x0).
     The list of recognised audio controllers can be found in the debug log (marked in bold-italic):
     </p><!--l. 6422--><p class="noindent" >OCAU: 1/3 PciRoot(0x0)/Pci(0x1,0x0)/Pci(0x0,0x1)/VenMsg(&#x003C;redacted&#x003E;,00000000) (4 outputs)<br 
class="newline" />OCAU: 2/3 PciRoot(0x0)/Pci(0x3,0x0)/VenMsg(&#x003C;redacted&#x003E;,00000000) (1 outputs)<br 
class="newline" />OCAU: 3/3 PciRoot(0x0)/Pci(0x1B,0x0)/VenMsg(&#x003C;redacted&#x003E;,02000000) (7 outputs)
     </p><!--l. 6426--><p class="noindent" >As an alternative gfxutil -f HDEF command can be used in macOS. Specifying empty device path will result
     in the first available audio controller to be used.
     </p></li>
     <li 
  class="enumerate" id="x1-70006x3">AudioOut<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Index of the output port of the specified codec starting from 0.
     <!--l. 6435--><p class="noindent" >Normally this contains the index of the green out of the builtin analog audio controller (HDEF). The number of
     output nodes (N) in the debug log (marked in bold-italic):
                                                                                                  
                                                                                                  
     </p><!--l. 6438--><p class="noindent" >OCAU: 1/3 PciRoot(0x0)/Pci(0x1,0x0)/Pci(0x0,0x1)/VenMsg(&#x003C;redacted&#x003E;,00000000) (4 outputs)<br 
class="newline" />OCAU: 2/3 PciRoot(0x0)/Pci(0x3,0x0)/VenMsg(&#x003C;redacted&#x003E;,00000000) (1 outputs)<br 
class="newline" />OCAU: 3/3 PciRoot(0x0)/Pci(0x1B,0x0)/VenMsg(&#x003C;redacted&#x003E;,02000000) (7 outputs)
     </p><!--l. 6442--><p class="noindent" >The quickest way to find the right port is to bruteforce the values from 0 to N - 1.
     </p></li>
     <li 
  class="enumerate" id="x1-70008x4">AudioSupport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Activate audio support by connecting to a backend driver.
     <!--l. 6450--><p class="noindent" >Enabling this setting routes audio playback from builtin protocols to a dedicated audio port (AudioOut) of the
     specified codec (AudioCodec) located on the audio controller (AudioDevice).
     </p></li>
     <li 
  class="enumerate" id="x1-70010x5">MinimumVolume<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Minimal heard volume level from 0 to 100.
     <!--l. 6460--><p class="noindent" >Screen reader will use this volume level, when the calculated volume level is less than MinimumVolume. Boot
     chime sound will not play if the calculated volume level is less than MinimumVolume.
     </p></li>
     <li 
  class="enumerate" id="x1-70012x6">PlayChime<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Play chime sound at startup.
     <!--l. 6470--><p class="noindent" >Enabling  this  setting  plays  boot  chime  through  builtin  audio  support.  Volume  level  is  determined  by
     MinimumVolume and  VolumeAmplifier settings  and  SystemAudioVolume NVRAM  variable.  Possible  values
     include:
</p>
         <ul class="itemize1">
         <li class="itemize">Auto — Enables chime when StartupMute NVRAM variable is not present or set to 00.
         </li>
         <li class="itemize">Enabled — Enables chime unconditionally.
         </li>
         <li class="itemize">Disabled — Disables chime unconditionally.</li></ul>
     <!--l. 6482--><p class="noindent" >Note: Enabled can be used in separate from StartupMute NVRAM variable to avoid conflicts when the firmware is able
     to play boot chime.
     </p></li>
     <li 
  class="enumerate" id="x1-70014x7">SetupDelay<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Audio codec reconfiguration delay in microseconds.
     <!--l. 6491--><p class="noindent" >Some codecs require a vendor-specific delay after the reconfiguration (e.g. volume setting). This option
     makes it configurable. <span class="sout">In general the necessary delay may be as long as </span><span class="uwave">A typical delay can be up to </span>0.5
     seconds.
     </p></li>
     <li 
  class="enumerate" id="x1-70016x8">VolumeAmplifier<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Multiplication coefficient for system volume to raw volume linear translation from 0 to
     1000.
     <!--l. 6503--><p class="noindent" >Volume level range read from SystemAudioVolume varies depending on the codec. To transform read
     value in [0, 127] range into raw volume range [0, 100] the read value is scaled to VolumeAmplifier
                                                                                                  
                                                                                                  
     percents:
     </p><table 
class="align-star">
                 <tr><td 
class="align-odd">RawV olume</td>                 <td 
class="align-even"> = MIN(<img 
src="Differences3x.png" alt="SystemAudioV--olume-∗-VolumeAmplif-ier-
                100"  class="frac" align="middle" />,100)</td>                 <td 
class="align-label"></td>                 <td 
class="align-label"></td></tr></table>
     <!--l. 6509--><p class="noindent" >Note: the transformation used in macOS is not linear, but it is very close and this nuance is thus ignored.
</p>
     </li></ol>
<a 
 id="x1-70017r74"></a>
<h4 class="subsectionHead"><span class="titlemark">11.9   </span> <a 
 id="x1-710009"></a>Input Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-71002x1">KeyFiltering<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable keyboard input sanity checking.
     <!--l. 6524--><p class="noindent" >Apparently some boards such as the GA Z77P-D3 may return uninitialised data in EFI_INPUT_KEY with all input
     protocols. This option discards keys that are neither ASCII, nor are defined in the UEFI specification (see tables
     107 and 108 in version 2.8).
     </p></li>
     <li 
  class="enumerate" id="x1-71004x2">KeyForgetThreshold<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Remove key unless it was submitted during this timeout in milliseconds.
     <!--l. 6535--><p class="noindent" >AppleKeyMapAggregator protocol is supposed to contain a fixed length buffer of currently pressed keys. However,
     the majority of the drivers only report key presses as interrupts and pressing and holding the key on the keyboard
     results in subsequent submissions of this key with some defined time interval. As a result we use a timeout to
     remove once pressed keys from the buffer once the timeout expires and no new submission of this key happened.
     </p><!--l. 6542--><p class="noindent" >This option allows to set this timeout based on the platform. The recommended value that works on the majority
     of the platforms is 5 milliseconds. For reference, holding one key on VMware will repeat it roughly every 2
     milliseconds and the same value for APTIO V is 3-4 milliseconds. Thus it is possible to set a slightly lower value
     on faster platforms and slightly higher value on slower platforms for more responsive input.
     </p><!--l. 6549--><p class="noindent" ><span class="uwave">Pressing keys one after the other results in delays of at least </span><span class="uwave">6</span> <span class="uwave">and </span><span class="uwave">10</span> <span class="uwave">milliseconds for the same platforms. </span>
     </p><!--l. 6553--><p class="noindent" >Note: Some platforms may require different values, higher or lower. For example, when detecting key misses in
     OpenCanopy try increasing this value (e.g. to 10), and when detecting key stall, try decreasing this value. Since
     every platform is different it may be reasonable to check every value from 1 to 25.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-71006x3"><span class="sout">KeyMergeThreshold</span><span class="sout">Type</span><span class="sout">: </span><span class="sout">plist integer</span><span class="sout">Failsafe</span><span class="sout">: </span><span class="sout">0</span><span class="sout">Description</span><span class="sout">: Assume simultaneous combination for keys
     submitted within this timeout in milliseconds. </span>
     <!--l. 6577--><p class="noindent" ><span class="sout">Similarly to </span><span class="sout">KeyForgetThreshold</span><span class="sout">, this option works around the sequential nature of key submission. To be able
     to recognise simultaneously pressed keys in the situation when all keys arrive sequentially, we are required to set
     a timeout within which we assume the keys were pressed together. </span>
     </p><!--l. 6585--><p class="noindent" ><span class="sout">Holding multiple keys results in reports every </span><span class="sout">2</span> <span class="sout">and </span><span class="sout">1</span> <span class="sout">milliseconds for VMware and APTIO V respectively.
     Pressing keys one after the other results in delays of at least </span><span class="sout">6</span> <span class="sout">and </span><span class="sout">10</span> <span class="sout">milliseconds for the same platforms. The
     recommended value for this option is </span><span class="sout">2</span> <span class="sout">milliseconds, but it may be decreased for faster platforms and increased
     for slower. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-71008x4">KeySupport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable internal keyboard input translation to AppleKeyMapAggregator protocol.
     <!--l. 6606--><p class="noindent" >This option activates the internal keyboard interceptor driver, based on AppleGenericInput<span class="sout">aka (</span><span class="uwave">, also known
     as </span>AptioInputFix<span class="sout">)</span>, to fill AppleKeyMapAggregator database for input functioning. In case a separate driver is
     used, such as OpenUsbKbDxe, this option should never be enabled.
     </p></li>
     <li 
  class="enumerate" id="x1-71010x5">KeySupportMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Auto<br 
class="newline" />Description: Set internal keyboard input translation to AppleKeyMapAggregator protocol mode.
         <ul class="itemize1">
         <li class="itemize">Auto — Performs automatic choice as available with the following preference: AMI, V2, V1.
         </li>
         <li class="itemize">V1 — Uses UEFI standard legacy input protocol EFI_SIMPLE_TEXT_INPUT_PROTOCOL.
         </li>
         <li class="itemize">V2 — Uses UEFI standard modern input protocol EFI_SIMPLE_TEXT_INPUT_EX_PROTOCOL.
         </li>
         <li class="itemize">AMI — Uses APTIO input protocol AMI_EFIKEYCODE_PROTOCOL.</li></ul>
     <!--l. 6627--><p class="noindent" >Note: Currently V1, V2, and AMI unlike Auto only do filtering of the particular specified protocol. This may change in the
     future versions.
     </p></li>
     <li 
  class="enumerate" id="x1-71012x6">KeySwap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Swap Command and Option keys during submission.
     <!--l. 6636--><p class="noindent" >This option may be useful for keyboard layouts with Option key situated to the right of Command key.
     </p></li>
     <li 
  class="enumerate" id="x1-71014x7">PointerSupport<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Enable internal pointer driver.
     <!--l. 6645--><p class="noindent" >This option implements standard UEFI pointer protocol (EFI_SIMPLE_POINTER_PROTOCOL) through <span class="sout">select </span><span class="uwave">certain
     </span>OEM protocols. The option may be useful on Z87 ASUS boards, where EFI_SIMPLE_POINTER_PROTOCOL is
     <span class="sout">broken</span><span class="uwave">defective</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-71016x8">PointerSupportMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: <span class="sout">empty string</span><span class="uwave">Empty</span><br 
class="newline" />Description: Set OEM protocol used for internal pointer driver.
     <!--l. 6655--><p class="noindent" >Currently the only supported variant is ASUS, using specialised protocol available on <span class="sout">select </span><span class="uwave">certain </span>Z87 and Z97 ASUS
     boards. More details can be found in <a 
href="https://github.com/LongSoft/UEFITool/pull/116" >LongSoft/UefiTool#116</a>. The value of this property cannot be empty if
     PointerSupport is enabled.
     </p></li>
     <li 
  class="enumerate" id="x1-71018x9">TimerResolution<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Set architecture timer resolution.
     <!--l. 6666--><p class="noindent" >This option allows to update firmware architecture timer period with the specified value in 100 nanosecond
     units. Setting a lower value generally improves performance and responsiveness of the interface and input
     handling.
     </p><!--l. 6670--><p class="noindent" >The recommended value is 50000 (5 milliseconds) or slightly higher. Select ASUS Z87 boards use 60000 for the interface.
     Apple boards use 100000. In case of issues, this option can be left as 0.
</p>
     </li></ol>
<a 
 id="x1-71019r75"></a>
<h4 class="subsectionHead"><span class="titlemark">11.10   </span> <a 
 id="x1-7200010"></a>Output Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-72002x1">TextRenderer<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: BuiltinGraphics<br 
class="newline" />Description: Chooses renderer for text going through standard console output.
     <!--l. 6687--><p class="noindent" >Currently two renderers are supported: Builtin and System. System renderer uses firmware services for text
     rendering. Builtin bypassing firmware services and performs text rendering on its own. Different renderers
     support a different set of options. It is recommended to use Builtin renderer, as it supports HiDPI mode and
     uses full screen resolution.
     </p><!--l. 6694--><p class="noindent" >UEFI firmware generally supports ConsoleControl with two rendering modes: Graphics and Text. Some types
     of firmware do not support ConsoleControl and rendering modes. OpenCore and macOS expect text to only be
     shown in Graphics mode and graphics to be drawn in any mode. Since this is not required by UEFI specification,
     exact behaviour varies.
     </p><!--l. 6701--><p class="noindent" >Valid values are combinations of text renderer and rendering mode:
</p>
         <ul class="itemize1">
         <li class="itemize">BuiltinGraphics — Switch to Graphics mode and use Builtin renderer with custom ConsoleControl.
         </li>
         <li class="itemize">BuiltinText — Switch to Text mode and use Builtin renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemGraphics — Switch to Graphics mode and use System renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemText — Switch to Text mode and use System renderer with custom ConsoleControl.
         </li>
         <li class="itemize">SystemGeneric — Use System renderer with system ConsoleControl assuming it behaves correctly.</li></ul>
     <!--l. 6721--><p class="noindent" >The use of BuiltinGraphics is generally straightforward. For most platforms it is necessary to enable
     ProvideConsoleGop, set Resolution to Max. BuiltinText variant is an alternative BuiltinGraphics for some very old
     and <span class="sout">buggy </span><span class="uwave">defective </span>laptop firmware, which can only draw in Text mode.
     </p><!--l. 6727--><p class="noindent" >The use of System protocols is more complicated. <span class="sout">In general </span><span class="uwave">Typically, </span>the preferred setting is SystemGraphics or
     SystemText. Enabling ProvideConsoleGop, setting Resolution to Max, enabling ReplaceTabWithSpace is useful on
     almost all platforms. SanitiseClearScreen, IgnoreTextInGraphics, and ClearScreenOnModeSwitch are more specific,
     and their use depends on the firmware.
                                                                                                  
                                                                                                  
     </p><!--l. 6736--><p class="noindent" >Note: Some Macs, <span class="sout">namely </span><span class="uwave">such as the </span>MacPro5,1, may have <span class="sout">broken console output with newer </span><span class="uwave">incompatible console
     output when using modern </span>GPUs, and thus only BuiltinGraphics may work for them <span class="uwave">in such cases. NVIDIA GPUs
     may require additional </span><a 
href="https://github.com/acidanthera/bugtracker/issues/1280" >firmware upgrades</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-72004x2">ConsoleMode<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty <span class="sout">string</span><span class="uwave">(Maintain current console mode)</span><br 
class="newline" />Description: Sets console output mode as specified with the WxH (e.g. 80x24) formatted string.
     <!--l. 6749--><p class="noindent" >Set to <span class="sout">empty string not to change console mode. Set to </span>Max to <span class="sout">try to use </span><span class="uwave">attempt using the </span>largest available console
     mode. <span class="sout">Currently </span><span class="uwave">This option is currently ignored as the </span>Builtin text renderer <span class="sout">supports only </span><span class="uwave">only supports </span>one console
     mode<span class="sout">, so this option is ignored</span>.
     </p><!--l. 6755--><p class="noindent" >Note: This field is best left empty on most types of firmware.
     </p></li>
     <li 
  class="enumerate" id="x1-72006x3">Resolution<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty <span class="sout">string</span><span class="uwave">(Maintain current screen resolution)</span><br 
class="newline" />Description: Sets console output screen resolution.
         <ul class="itemize1">
         <li class="itemize">Set to WxH@Bpp (e.g. 1920x1080@32) or WxH (e.g. 1920x1080) formatted string to request custom resolution
         from GOP if available.
         </li>
         <li class="itemize">Set to <span class="sout">empty string not to change screen resolution. </span>
         </li>
         <li class="itemize"><span class="sout">Set to </span>Max to <span class="sout">try to use </span><span class="uwave">attempt using the </span>largest available screen resolution.</li></ul>
     <!--l. 6775--><p class="noindent" >On HiDPI screens APPLE_VENDOR_VARIABLE_GUID UIScale NVRAM variable may need to be set to 02 to enable HiDPI
     scaling in Builtin text renderer, FileVault 2 UEFI password interface, and boot screen logo. Refer to <span class="uwave">the </span><a 
href="#x1-520004">Recommended
     Variables</a> section for more details.
     </p><!--l. 6781--><p class="noindent" >Note: This will fail when console handle has no GOP protocol. When the firmware does not provide it, it can be added
     with ProvideConsoleGop set to true.
     </p></li>
     <li 
  class="enumerate" id="x1-72008x4">ForceResolution<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Forces Resolution to be set in cases where the desired resolution is not available by default, such as on
     legacy Intel GMA and first generation Intel HD Graphics (Ironlake/Arrandale). Setting Resolution to Max will try to
     pull the largest available resolution from the connected display’s EDID.
     <!--l. 6795--><p class="noindent" >Note: This option depends on the <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Include/Acidanthera/Protocol/OcForceResolution.h" >OC_FORCE_RESOLUTION_PROTOCOL</a> protocol being present. This protocol is
     currently only supported by OpenDuetPkg. The OpenDuetPkg implementation currently only supports Intel
     iGPUs.
     </p></li>
     <li 
  class="enumerate" id="x1-72010x5">ClearScreenOnModeSwitch<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware only clear part of the screen when switching from graphics to text mode, leaving a
     fragment of previously drawn images visible. This option fills the entire graphics screen with black colour before switching
     to text mode.
     <!--l. 6808--><p class="noindent" >Note: This option only applies to System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72012x6">DirectGopRendering<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Use builtin graphics output protocol renderer for console.
     <!--l. 6816--><p class="noindent" >On <span class="sout">some types of </span><span class="uwave">certain </span>firmware, such as on the MacPro5,1, this may provide better performance or fix rendering
     issues. However, this option is not recommended unless there is an obvious benefit as it may result in issues such as
     slower scrolling.
     </p></li>
     <li 
  class="enumerate" id="x1-72014x7"><span class="uwave">GopPassThrough</span><br 
class="newline" /><span class="uwave">Type</span><span class="uwave">: </span><span class="uwave">plist boolean</span><br 
class="newline" /><span class="uwave">Failsafe</span><span class="uwave">: </span><span class="uwave">false</span><br 
class="newline" /><span class="uwave">Description</span><span class="uwave">: Provide GOP protocol instances on top of UGA protocol instances. </span>
     <!--l. 6829--><p class="noindent" ><span class="uwave">This option provides the GOP protocol via a UGA-based proxy for firmware that do not implement the protocol.
     </span>
     </p><!--l. 6831--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This option requires </span><span class="uwave">ProvideConsoleGop</span> <span class="uwave">to be enabled. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-72016x8">IgnoreTextInGraphics<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware output text onscreen in both graphics and text mode. This is typically unexpected
     as random text may appear over graphical images and cause UI corruption. Setting this option to true will discard all
     text output when console control is in a different mode from Text.
     <!--l. 6843--><p class="noindent" >Note: This option only applies to the System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72018x9">ReplaceTabWithSpace<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware do not print tab characters or everything that follows them, causing difficulties in
     using the UEFI Shell’s builtin text editor to edit property lists and other documents. This option makes the console
     output spaces instead of tabs.
     <!--l. 6854--><p class="noindent" >Note: This option only applies to System renderer.
     </p></li>
     <li 
  class="enumerate" id="x1-72020x10">ProvideConsoleGop<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Ensure GOP (Graphics Output Protocol) on console handle.
     <!--l. 6862--><p class="noindent" >macOS bootloader requires GOP or UGA (for 10.4 EfiBoot) to be present on console handle, yet the exact location of the
     graphics protocol is not covered by the UEFI specification. This option will ensure GOP and UGA, if present, are
     available on the console handle.
     </p><!--l. 6867--><p class="noindent" >Note: This option will also replace <span class="sout">broken GOP protocol on </span><span class="uwave">incompatible implementations of GOP on the </span>console handle,
     <span class="sout">which </span><span class="uwave">as </span>may be the case on <span class="uwave">the </span>MacPro5,1 <span class="sout">with newer </span><span class="uwave">when using modern </span>GPUs.
     </p></li>
     <li 
  class="enumerate" id="x1-72022x11">ReconnectOnResChange<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Reconnect console controllers after changing screen resolution.
     <!--l. 6876--><p class="noindent" >On <span class="sout">some types of </span><span class="uwave">certain </span>firmware, the controllers that produce the console protocols (simple text out) must be
     reconnected when the screen resolution is changed via GOP. Otherwise<span class="uwave">, </span>they will not produce text based on the new
     resolution.
     </p><!--l. 6880--><p class="noindent" >Note: On several boards this logic may result in black screen when launching OpenCore from Shell and thus it is
     optional. In versions prior to 0.5.2 this option was mandatory and not configurable. Please do not use this unless
     required.
     </p></li>
                                                                                                  
                                                                                                  
     <li 
  class="enumerate" id="x1-72024x12">SanitiseClearScreen<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware reset screen resolutions to a failsafe value (such as 1024x768) on the
     attempts to clear screen contents when large display (e.g. 2K or 4K) is used. This option attempts to apply a
     workaround.
     <!--l. 6893--><p class="noindent" >Note: This option only applies to <span class="uwave">the </span>System renderer. On all known affected systems<span class="uwave">, </span>ConsoleMode <span class="sout">had to </span><span class="uwave">must </span>be set
     to <span class="uwave">an </span>empty string for this <span class="uwave">option </span>to work.
     </p></li>
     <li 
  class="enumerate" id="x1-72026x13">UgaPassThrough<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Provide UGA protocol instances on top of GOP protocol <span class="uwave">instances</span>.
     <!--l. 6903--><p class="noindent" >Some types of firmware do not implement the legacy UGA protocol but this may be required for screen output by older
     EFI applications such as EfiBoot from 10.4.
</p>
     </li></ol>
<a 
 id="x1-72027r76"></a>
<h4 class="subsectionHead"><span class="titlemark">11.11   </span> <a 
 id="x1-7300011"></a>ProtocolOverrides Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-73002x1">AppleAudio<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces </span>Apple audio protocols with builtin versions.
     <!--l. 6920--><p class="noindent" >Apple audio protocols allow macOS bootloader and OpenCore to play sounds and signals for screen reading or
     audible error reporting. Supported protocols are beep generation and VoiceOver. VoiceOver protocol is specific to
     Gibraltar machines (T2) and is not supported before macOS High Sierra (10.13). Instead older macOS versions
     use AppleHDA protocol, which is currently not implemented.
     </p><!--l. 6927--><p class="noindent" >Only one set of audio protocols can be available at a time, so in order to get audio playback in OpenCore user
     interface on Mac system implementing some of these protocols this setting should be enabled.
     </p><!--l. 6931--><p class="noindent" >Note: Backend audio driver needs to be configured in UEFI Audio section for these protocols to be able to stream
     audio.
     </p></li>
     <li 
  class="enumerate" id="x1-73004x2">AppleBootPolicy<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Boot Policy protocol with a builtin version. This may be used to
     ensure APFS compatibility on VMs <span class="sout">or </span><span class="uwave">and </span>legacy Macs.
     <!--l. 6941--><p class="noindent" >Note: <span class="sout">Some Macs, namely </span><span class="uwave">This option is advisable on certain Macs, such as the </span>MacPro5,1, <span class="sout">do have APFS
     compatibility, but their </span><span class="uwave">that are APFS compatible but on which the </span>Apple Boot Policy protocol <span class="sout">contains </span><span class="uwave">has
     </span>recovery detection issues<span class="sout">, thus using this option is advised on them as well</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-73006x3">AppleDebugLog<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Debug Log protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73008x4">AppleEvent<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Event protocol with a builtin version. This may be used to ensure
                                                                                                  
                                                                                                  
     <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility on VMs <span class="sout">or </span><span class="uwave">and </span>legacy Macs.
     </li>
     <li 
  class="enumerate" id="x1-73010x5">AppleFramebufferInfo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Framebuffer Info protocol with a builtin version. This may be used
     to override framebuffer information on VMs <span class="sout">or </span><span class="uwave">and </span>legacy Macs to improve compatibility with legacy EfiBoot
     such as the one in macOS 10.4.
     <!--l. 6969--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: The current implementation of this property results in it only being active when GOP is available (it is
     always equivalent to </span><span class="uwave">false</span> <span class="uwave">otherwise). </span>
     </p></li>
     <li 
  class="enumerate" id="x1-73012x6">AppleImageConversion<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Image Conversion protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73014x7">AppleImg4Verification<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple IMG4 Verification protocol with a builtin version. This protocol is
     used to verify im4m manifest files used by Apple Secure Boot.
     </li>
     <li 
  class="enumerate" id="x1-73016x8">AppleKeyMap<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces </span>Apple Key Map protocols with builtin versions.
     </li>
     <li 
  class="enumerate" id="x1-73018x9">AppleRtcRam<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple RTC RAM protocol with <span class="uwave">a </span>builtin version.
     <!--l. 7002--><p class="noindent" >Note: Builtin version of Apple RTC RAM protocol may filter out I/O attempts to <span class="sout">select </span><span class="uwave">certain </span>RTC memory
     addresses. The list of addresses can be specified in 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102:rtc-blacklist
     variable as a data array.
     </p></li>
     <li 
  class="enumerate" id="x1-73020x10">AppleSecureBoot<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple Secure Boot protocol with a builtin version.
     </li>
     <li 
  class="enumerate" id="x1-73022x11">AppleSmcIo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple SMC I/O protocol with a builtin version.
     <!--l. 7021--><p class="noindent" >This protocol replaces legacy VirtualSmc UEFI driver, and is compatible with any SMC kernel extension.
     However, in case FakeSMC kernel extension is used, manual NVRAM key variable addition may be needed.
     </p></li>
     <li 
  class="enumerate" id="x1-73024x12">AppleUserInterfaceTheme<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Apple User Interface Theme protocol with a builtin version.
                                                                                                  
                                                                                                  
     </li>
     <li 
  class="enumerate" id="x1-73026x13">DataHub<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Data Hub protocol with a builtin version. <span class="sout">This will delete all previous
     properties </span>
     <!--l. 7039--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This will discard all previous entries </span>if the protocol was already installed<span class="uwave">, so all properties required for safe
     operation of the system must be specified in your configuration</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-73028x14">DeviceProperties<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Reinstalls </span><span class="uwave">Replaces the </span>Device Property protocol with a builtin version. This <span class="sout">will delete all previous
     properties if it was already installed. This </span>may be used to ensure full compatibility on VMs <span class="sout">or </span><span class="uwave">and </span>legacy Macs.
     <!--l. 7051--><p class="noindent" ><span class="uwave">Note</span><span class="uwave">: This will discard all previous entries if the protocol was already installed, so all properties required for safe
     operation of the system must be specified in your configuration. </span>
     </p></li>
     <li 
  class="enumerate" id="x1-73030x15">FirmwareVolume<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly wraps </span><span class="uwave">Wraps </span>Firmware Volume protocols or installs <span class="sout">new </span><span class="uwave">a new version </span>to support custom
     cursor images for <span class="sout">File Vault </span><span class="uwave">FileVault </span>2. <span class="sout">Should be set </span><span class="uwave">Set </span>to true to ensure <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility
     on <span class="sout">everything but </span><span class="uwave">anything other than on </span>VMs and legacy Macs.
     <!--l. 7065--><p class="noindent" >Note: Several virtual machines including VMware may have corrupted cursor <span class="sout">image </span><span class="uwave">images </span>in HiDPI mode and
     thus<span class="uwave">, </span>may also require <span class="sout">this setting to be enabled</span><span class="uwave">enabling this setting</span>.
     </p></li>
     <li 
  class="enumerate" id="x1-73032x16">HashServices<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces </span>Hash Services protocols with builtin versions. <span class="sout">Should be set </span><span class="uwave">Set </span>to
     true to ensure <span class="sout">File Vault </span><span class="uwave">FileVault </span>2 compatibility on platforms <span class="sout">providing broken </span><span class="uwave">with defective </span>SHA-1 <span class="sout">hashing.
     Can be diagnosed by </span><span class="uwave">hash implementations. This can be determined by an </span>invalid cursor size <span class="sout">with </span><span class="uwave">when </span>UIScale
     <span class="uwave">is </span>set to 02<span class="sout">, in general platforms prior to </span><span class="uwave">. Platforms earlier than </span>APTIO V (Haswell and older) are <span class="uwave">typically
     </span>affected.
     </li>
     <li 
  class="enumerate" id="x1-73034x17">OSInfo<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description:  <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces the </span>OS Info protocol with <span class="sout">builtin versions</span><span class="uwave">a builtin version</span>.  This
     protocol is <span class="sout">generally used </span><span class="uwave">typically used by the firmware and other applications </span>to receive notifications from
     <span class="sout">macOS bootloader, by the firmware or by other applications</span><span class="uwave">the macOS bootloader</span>.
     </li>
     <li 
  class="enumerate" id="x1-73036x18">UnicodeCollation<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: <span class="sout">Forcibly reinstalls </span><span class="uwave">Replaces </span>unicode collation services with builtin <span class="sout">version. Should be set </span><span class="uwave">versions.
     Set </span>to true to ensure UEFI Shell compatibility on platforms <span class="sout">providing broken unicode collation . In general
     legacy </span><span class="uwave">with defective unicode collation implementations. Legacy </span>Insyde and APTIO platforms on Ivy Bridge<span class="sout">and
     earlier are </span><span class="uwave">, and earlier, are typically </span>affected.
     </li></ol>
<a 
 id="x1-73037r77"></a>
                                                                                                  
                                                                                                  
<h4 class="subsectionHead"><span class="titlemark">11.12   </span> <a 
 id="x1-7400012"></a>Quirks Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-74002x1">DisableSecurityPolicy<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Disable platform security policy.
     <!--l. 7110--><p class="noindent" >Note: This setting disables various security features of the firmware, defeating the purpose of any kind of Secure
     Boot. Do NOT enable if <span class="sout">you use </span><span class="uwave">using </span>UEFI Secure Boot.
     </p></li>
     <li 
  class="enumerate" id="x1-74004x2">ExitBootServicesDelay<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Adds delay in microseconds after EXIT_BOOT_SERVICES event.
     <!--l. 7122--><p class="noindent" >This is a very rough workaround to circumvent the Still waiting for root device message on some APTIO
     IV firmware (ASUS Z87-Pro) particularly when using FileVault 2. It appears that for some reason, they execute
     code in parallel to EXIT_BOOT_SERVICES, which results in the SATA controller being inaccessible from macOS.
     A better approach <span class="sout">should be found in some future</span><span class="uwave">is required and Acidanthera is open to suggestions</span>. Expect 3
     to 5 seconds to be adequate when this quirk is needed.
     </p></li>
     <li 
  class="enumerate" id="x1-74006x3">IgnoreInvalidFlexRatio<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware (such as APTIO IV) may contain invalid values in the MSR_FLEX_RATIO
     (0x194) MSR register. These values may cause macOS boot failures on Intel platforms.
     <!--l. 7137--><p class="noindent" >Note: While the option is not expected to harm unaffected firmware, its use is <span class="sout">only recommended when it is
     </span><span class="uwave">recommended only when </span>specifically required.
     </p></li>
     <li 
  class="enumerate" id="x1-74008x4">ReleaseUsbOwnership<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Attempt to detach USB controller ownership from the firmware driver. While most types of
     firmware manage to do <span class="sout">that </span><span class="uwave">this </span>properly, or at least have an option for this, some do not. As a result, the
     operating system may freeze upon boot. Not recommended unless <span class="uwave">specifically </span>required.
     </li>
     <li 
  class="enumerate" id="x1-74010x5">RequestBootVarRouting<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Request redirect of all Boot prefixed variables from EFI_GLOBAL_VARIABLE_GUID to <br 
class="newline" />OC_VENDOR_VARIABLE_GUID.
     <!--l. 7156--><p class="noindent" >This quirk requires OC_FIRMWARE_RUNTIME protocol implemented in OpenRuntime.efi. The quirk lets default
     boot entry preservation at times when the firmware deletes incompatible boot entries. In summary, this quirk is
     required to reliably use the <a 
href="https://support.apple.com/HT202796" >Startup Disk</a> preference pane in firmware that is not compatible with macOS boot
     entries by design.
     </p><!--l. 7163--><p class="noindent" >By redirecting Boot prefixed variables to a separate GUID namespace with the help of RequestBootVarRouting quirk we
     achieve multiple goals: </p>
         <ul class="itemize1">
         <li class="itemize">Operating systems are jailed and only controlled by OpenCore boot environment to enhance security.
         </li>
         <li class="itemize">Operating systems do not mess with OpenCore boot priority, and guarantee fluent updates and hibernation
         wakes for cases that require reboots with OpenCore in the middle.
         </li>
         <li class="itemize">Potentially incompatible boot entries, such as macOS entries, are not deleted or <span class="sout">anyhow corrupted </span><span class="uwave">corrupted
                                                                                                  
                                                                                                  
         in any way</span>.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-74012x6">TscSyncTimeout<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Attempts to perform TSC synchronisation with a specified timeout.
     <!--l. 7182--><p class="noindent" >The primary purpose of this quirk is to enable early bootstrap TSC synchronisation on some server and laptop models
     when running a debug XNU kernel. For the debug kernel the TSC needs to be kept in sync across the
     cores before any kext could kick in rendering all other solutions problematic. The timeout is specified in
     microseconds and depends on the amount of cores present on the platform, the recommended starting value is
     500000.
     </p><!--l. 7188--><p class="noindent" >This is an experimental quirk, which should only be used for the aforementioned problem. In all other cases<span class="uwave">, </span>the quirk
     may render the operating system unstable and is not recommended. The recommended solution in the other cases is to
     install a kernel driver such as <a 
href="https://github.com/RehabMan/VoodooTSCSync" >VoodooTSCSync</a>, <a 
href="https://github.com/interferenc/TSCAdjustReset" >TSCAdjustReset</a>, or <a 
href="https://github.com/lvs1974/CpuTscSync" >CpuTscSync</a> (a more specialised variant of
     VoodooTSCSync for newer laptops).
     </p><!--l. 7196--><p class="noindent" >Note: <span class="sout">The reason this </span><span class="uwave">This </span>quirk cannot replace the kernel driver <span class="sout">is </span>because it cannot operate in ACPI S3 <span class="sout">mode </span>(sleep
     wake) <span class="uwave">mode </span>and because the UEFI firmware <span class="uwave">only </span>provides very limited multicore support <span class="sout">preventing the precise update
     </span><span class="uwave">which prevents precise updates </span>of the MSR registers.
     </p></li>
     <li 
  class="enumerate" id="x1-74014x7">UnblockFsConnect<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: Some types of firmware block partition handles by opening them in By Driver mode, resulting in <span class="sout">being
     unable </span><span class="uwave">an inability </span>to install File System protocols.
     <!--l. 7208--><p class="noindent" >Note: <span class="sout">The quirk is mostly relevant for select HP laptops with no drives listed</span><span class="uwave">This quirk is useful in cases where
     unsuccessful drive detection results in an absence of boot entries</span>.
</p>
     </li></ol>
<a 
 id="x1-74015r78"></a>
<h4 class="subsectionHead"><span class="titlemark">11.13   </span> <a 
 id="x1-7500013"></a>ReservedMemory Properties</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-75002x1">Address<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Start address of the reserved memory region, which should be allocated as reserved effectively
     marking the memory of this type inaccessible to the operating system.
     <!--l. 7224--><p class="noindent" >The addresses written here must be part of the memory map, have <span class="uwave">a </span>EfiConventionalMemory type, and <span class="uwave">be
     </span>page-aligned (4 KBs).
     </p><!--l. 7227--><p class="noindent" >Note: Some types of firmware may not allocate memory areas used by S3 (sleep) and S4 (hibernation) code unless
     CSM is enabled causing wake failures. After comparing the memory maps with CSM disabled and enabled, these
     areas can be found in the lower memory and can be fixed up by doing the reservation. See Sample.plist for
     more details.
     </p></li>
     <li 
  class="enumerate" id="x1-75004x2">Comment<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Empty<span class="sout">string</span><br 
class="newline" />Description: Arbitrary ASCII string used to provide human readable reference for the entry. <span class="sout">It is implementation
     defined whether </span><span class="uwave">Whether </span>this value is used <span class="uwave">is implementation defined</span>.
     </li>
     <li 
  class="enumerate" id="x1-75006x3">Size<br 
class="newline" />Type: plist integer<br 
class="newline" />Failsafe: 0<br 
class="newline" />Description: Size of the reserved memory region, must be page-aligned (4 KBs).
     </li>
     <li 
  class="enumerate" id="x1-75008x4">Type<br 
class="newline" />Type: plist string<br 
class="newline" />Failsafe: Reserved<br 
class="newline" />Description: Memory region type matching the UEFI specification memory descriptor types. Mapping:
         <ul class="itemize1">
         <li class="itemize">Reserved — EfiReservedMemoryType
         </li>
         <li class="itemize">LoaderCode — EfiLoaderCode
         </li>
         <li class="itemize">LoaderData — EfiLoaderData
         </li>
         <li class="itemize">BootServiceCode — EfiBootServicesCode
         </li>
         <li class="itemize">BootServiceData — EfiBootServicesData
         </li>
         <li class="itemize">RuntimeCode — EfiRuntimeServicesCode
         </li>
         <li class="itemize">RuntimeData — EfiRuntimeServicesData
         </li>
         <li class="itemize">Available — EfiConventionalMemory
         </li>
         <li class="itemize">Persistent — EfiPersistentMemory
         </li>
         <li class="itemize">UnusableMemory — EfiUnusableMemory
         </li>
         <li class="itemize">ACPIReclaimMemory — EfiACPIReclaimMemory
         </li>
         <li class="itemize">ACPIMemoryNVS — EfiACPIMemoryNVS
         </li>
         <li class="itemize">MemoryMappedIO — EfiMemoryMappedIO
         </li>
         <li class="itemize">MemoryMappedIOPortSpace — EfiMemoryMappedIOPortSpace
         </li>
         <li class="itemize">PalCode — EfiPalCode</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-75010x5">Enabled<br 
class="newline" />Type: plist boolean<br 
class="newline" />Failsafe: false<br 
class="newline" />Description: This region will not be reserved unless set to true.
     </li></ol>
<a 
 id="x1-75011r65"></a>
<h3 class="sectionHead"><span class="titlemark">12   </span> <a 
 id="x1-7600012"></a>Troubleshooting</h3>
<a 
 id="x1-76001r79"></a>
<h4 class="subsectionHead"><span class="titlemark">12.1   </span> <a 
 id="x1-770001"></a>Legacy Apple OS</h4>
<!--l. 7283--><p class="noindent" >Older operating systems may be more complicated to install, but sometimes can be necessary to use for all kinds of reasons.
While a compatible board identifier and CPUID are the obvious requirements for proper functioning of an older operating
system, there are many other less obvious things to consider. This section tries to cover a common set of issues relevant to
installing older macOS operating systems.
</p><!--l. 7290--><p class="noindent" >While newer operating systems can be downloaded over the internet, older operating systems did not have installation media
for every minor release<span class="sout">, so to get a compatible distribution one may have to </span><span class="uwave">. For compatible distributions of such, </span>download
                                                                                                  
                                                                                                  
<h5 class="subsubsectionHead"><span class="titlemark">12.1.4   </span> <a 
 id="x1-810004"></a>macOS 10.5</h5>
     <ul class="itemize1">
     <li class="itemize">All previous issues apply.
     </li>
     <li class="itemize">This macOS version does not support x86_64 kernel and requires i386 kernel extensions and patches.
     </li>
     <li class="itemize">This macOS version uses the first (V1) version of prelinkedkernel, which has kext symbol tables corrupted by
     the kext tools. This nuance renders prelinkedkernel kext injection impossible in OpenCore. Mkext kext injection
     will still work without noticeable performance drain and will be chosen automatically when KernelCache is set
     to Auto.
     </li>
     <li class="itemize">Last released installer image for macOS 10.5 is macOS 10.5.7 build 9J3050 (for MacBookPro5,3). Unlike the
     others, this image is not limited to the target model identifiers and can be used as is. The original 9J3050 image
     can be found <a 
href="https://archive.org/details/10.5.7-9-j-3050" >here</a> (<a 
href="https://mega.nz/folder/inRBTarD#zanf7fUbviwz3WHBU5xpCg" >MEGA Mirror</a>), assuming macOS 10.5 is legally owned. Read DIGEST.txt for more details.
     Note that this is the earliest tested version of macOS 10.5 with OpenCore.</li></ul>
<a 
 id="x1-81001r85"></a>
<h5 class="subsubsectionHead"><span class="titlemark">12.1.5   </span> <a 
 id="x1-820005"></a>macOS 10.4</h5>
     <ul class="itemize1">
     <li class="itemize">All previous issues apply.
     </li>
     <li class="itemize">This  macOS  version  has  a  hard  requirement  to  access  all  the  optional  packages  on  the  second  DVD  disk
     installation media, requiring either two disks or USB media installation.
     </li>
     <li class="itemize">Last released installer images for macOS 10.4 are macOS 10.4.10 builds 8R4061a (for MacBookPro3,1) and
     8R4088 (for iMac7,1)). These images are limited to their target model identifiers as on newer macOS versions.
     Modified 8R4088 images (with  ACDT suffix) without model restrictions can be found <a 
href="https://archive.org/details/10.4.10-8-r-4088-acdt" >here</a> (<a 
href="https://mega.nz/folder/D3ASzLzA#7sjYXE2X09f6aGjol_C7dg" >MEGA Mirror</a>),
     assuming macOS 10.4 is legally owned. Read DIGEST.txt for more details. Note that these are the earliest tested
     versions of macOS 10.4 with OpenCore.</li></ul>
<a 
 id="x1-82001r81"></a>
<h4 class="subsectionHead"><span class="titlemark">12.2   </span> <a 
 id="x1-830002"></a>UEFI Secure Boot</h4>
<!--l. 7425--><p class="noindent" >OpenCore is designed to provide a secure boot chain between firmware and operating system. On most x86 platforms trusted
loading is implemented via <a 
href="https://en.wikipedia.org/wiki/UEFI_Secure_Boot" >UEFI Secure Boot</a> model. Not only OpenCore fully supports this model, but it also extends its
capabilities to ensure sealed configuration via <a 
href="#x1-4603712">vaulting</a> and provide trusted loading to the operating systems using custom
verification, such as <a 
href="#x1-4604714">Apple Secure Boot</a>. Proper secure boot chain requires several steps and careful configuration of <span class="sout">select
</span><span class="uwave">certain </span>settings as explained below:
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-83002x1">Enable Apple Secure Boot by setting SecureBootModel to run macOS. Note, that not every macOS is compatible
     with Apple Secure Boot and there are several other restrictions as explained in <a 
href="#x1-4604714">Apple Secure Boot</a> section.
     </li>
     <li 
  class="enumerate" id="x1-83004x2">Disable DMG loading by setting DmgLoading to Disabled if users have concerns of loading old vulnerable DMG
     recoveries. This is not required, but recommended. For the actual tradeoffs see the details in <a 
href="#x1-460186">DMG loading</a>
     section.
     </li>
     <li 
  class="enumerate" id="x1-83006x3">Make sure that APFS JumpStart functionality restricts the loading of old vulnerable drivers by setting MinDate
     and MinVersion to 0. More details are provided in <a 
href="#x1-690007">APFS JumpStart</a> section. An alternative is to install apfs.efi
     driver manually.
     </li>
     <li 
  class="enumerate" id="x1-83008x4">Make sure that Force driver loading is not needed and all the operating systems are still bootable.
     </li>
     <li 
  class="enumerate" id="x1-83010x5">Make sure that ScanPolicy restricts loading from undesired devices. It is a good idea to prohibit all removable
                                                                                                  
                                                                                                  
version of Boot Camp installed it should be removed first by running msiexec /x BootCamp.msi command.
BootCamp.msi file is located in BootCamp/Drivers/Apple directory and can be reached through Windows
Explorer.
</p><!--l. 7521--><p class="noindent" >While Windows support software from Boot Camp solves most of compatibility problems, the rest may still have to be
addressed manually:
</p>
     <ul class="itemize1">
     <li class="itemize">To invert mouse wheel scroll direction FlipFlopWheel must be set to 1 as explained on <a 
href="https://superuser.com/a/364353" >SuperUser</a>.
     </li>
     <li class="itemize">RealTimeIsUniversal must be set to 1 to avoid time desync between Windows and macOS as explained on
     <a 
href="https://superuser.com/q/494432" >SuperUser</a> (this is <span class="sout">usually not needed</span><span class="uwave">typically not required</span>).
     </li>
     <li class="itemize">To access Apple filesystems such as HFS+ and APFS, separate software may need to be installed. Some of the
     known utilities are: <a 
href="https://forums.macrumors.com/threads/apple-hfs-windows-driver-download.1368010/" >Apple HFS+ driver</a> (<a 
href="https://forums.macrumors.com/threads/apple-hfs-windows-driver-download.1368010/post-24180079" >workaround for Windows 10</a>), <a 
href="http://www.catacombae.org/hfsexplorer" >HFSExplorer</a>, MacDrive, Paragon APFS,
     Paragon HFS+, TransMac, etc. Remember to never ever attempt to modify Apple file systems from Windows
     as this often leads to irrecoverable data loss.</li></ul>
<!--l. 7540--><p class="noindent" >Why do I see Basic data partition in Boot Camp Startup Disk control panel?
</p><!--l. 7542--><p class="noindent" >Boot Camp control panel uses GPT partition table to obtain each boot option name. After installing Windows separately the
partition will have to be relabelled manually. This can be done with many utilities including open-source <a 
href="https://sourceforge.net/projects/gptfdisk" >gdisk</a> utility.
Reference example:
</p>
<!--l. 7547-->
<a 
 id="x1-84001r4"></a>
<a 
 id="x1-84002"></a>
<div class="lstlisting" id="listing-18"><span class="label"><a 
 id="x1-84003r1"></a></span>PS C:\gdisk&#x003E; .\gdisk64.exe \\.\physicaldrive0 <br /><span class="label"><a 
 id="x1-84004r2"></a></span>GPT fdisk (gdisk) version 1.0.4 <br /><span class="label"><a 
 id="x1-84005r3"></a></span> <br /><span class="label"><a 
 id="x1-84006r4"></a></span>Command (? for help): p <br /><span class="label"><a 
 id="x1-84007r5"></a></span>Disk \\.\physicaldrive0: 419430400 sectors, 200.0 GiB <br /><span class="label"><a 
 id="x1-84008r6"></a></span>Sector size (logical): 512 bytes <br /><span class="label"><a 
 id="x1-84009r7"></a></span>Disk identifier (GUID): DEC57EB1-B3B5-49B2-95F5-3B8C4D3E4E12 <br /><span class="label"><a 
 id="x1-84010r8"></a></span>Partition table holds up to 128 entries <br /><span class="label"><a 
 id="x1-84011r9"></a></span>Main partition table begins at sector 2 and ends at sector 33 <br /><span class="label"><a 
 id="x1-84012r10"></a></span>First usable sector is 34, last usable sector is 419430366 <br /><span class="label"><a 
 id="x1-84013r11"></a></span>Partitions will be aligned on 2048-sector boundaries <br /><span class="label"><a 
 id="x1-84014r12"></a></span>Total free space is 4029 sectors (2.0 MiB) <br /><span class="label"><a 
 id="x1-84015r13"></a></span> <br /><span class="label"><a 
 id="x1-84016r14"></a></span>Number  Start (sector)    End (sector)  Size       Code  Name <br /><span class="label"><a 
 id="x1-84017r15"></a></span>   1            2048         1023999   499.0 MiB   2700  Basic data partition <br /><span class="label"><a 
 id="x1-84018r16"></a></span>   2         1024000         1226751   99.0 MiB    EF00  EFI system partition <br /><span class="label"><a 
 id="x1-84019r17"></a></span>   3         1226752         1259519   16.0 MiB    0C01  Microsoft reserved ... <br /><span class="label"><a 
 id="x1-84020r18"></a></span>   4         1259520       419428351   199.4 GiB   0700  Basic data partition <br /><span class="label"><a 
 id="x1-84021r19"></a></span> <br /><span class="label"><a 
 id="x1-84022r20"></a></span>Command (? for help): c <br /><span class="label"><a 
 id="x1-84023r21"></a></span>Partition number (1-4): 4 <br /><span class="label"><a 
 id="x1-84024r22"></a></span>Enter name: BOOTCAMP <br /><span class="label"><a 
 id="x1-84025r23"></a></span> <br /><span class="label"><a 
 id="x1-84026r24"></a></span>Command (? for help): w <br /><span class="label"><a 
 id="x1-84027r25"></a></span> <br /><span class="label"><a 
 id="x1-84028r26"></a></span>Final checks complete. About to write GPT data. THIS WILL OVERWRITE EXISTING PARTITIONS!! <br /><span class="label"><a 
 id="x1-84029r27"></a></span> <br /><span class="label"><a 
 id="x1-84030r28"></a></span>Do you want to proceed? (Y/N): Y <br /><span class="label"><a 
 id="x1-84031r29"></a></span>OK; writing new GUID partition table (GPT) to \\.\physicaldrive0. <br /><span class="label"><a 
 id="x1-84032r30"></a></span>Disk synchronization succeeded! The computer should now use the new partition table. <br /><span class="label"><a 
 id="x1-84033r31"></a></span>The operation has completed successfully.
<figcaption class="caption" ><span class="id">Listing 4:</span><span  
class="content">Relabeling Windows volume</span></figcaption><!--tex4ht:label?: x1-84001r -->
</div>
<!--l. 7582--><p class="noindent" >How to choose Windows BOOTCAMP with custom NTFS drivers?
</p><!--l. 7584--><p class="noindent" >Third-party drivers providing NTFS support, such as <a 
href="https://www.tuxera.com/community/open-source-ntfs-3g" >NTFS-3G</a>, Paragon NTFS, Tuxera NTFS or <a 
href="https://www.seagate.com/support/software/paragon" >Seagate Paragon Driver</a>
<span class="sout">break </span><span class="uwave">disrupt </span>certain macOS functionality, including <a 
href="https://support.apple.com/HT202796" >Startup Disk</a> preference pane normally used for operating system
selection. While the recommended option remains not to use such drivers as they commonly corrupt the filesystem, and prefer
the driver bundled with macOS with optional write support ( <a 
href="http://osxdaily.com/2013/10/02/enable-ntfs-write-support-mac-os-x" >command</a> or <a 
href="https://mounty.app" >GUI</a>), there still exist vendor-specific workarounds
for their products: <a 
href="https://www.tuxera.com/products/tuxera-ntfs-for-mac/faq" >Tuxera</a>, <a 
href="https://kb.paragon-software.com/article/6604" >Paragon</a>, etc.
<a 
 id="x1-84034r88"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">12.4   </span> <a 
 id="x1-850004"></a>Debugging</h4>
<!--l. 7600--><p class="noindent" >Similar to other projects working with hardware OpenCore supports auditing and debugging. The use of NOOPT or DEBUG build
modes instead of RELEASE can produce a lot more debug output. With NOOPT source level debugging with GDB or IDA Pro is
also available. For GDB check <a 
href="https://github.com/acidanthera/OpenCorePkg/tree/master/Debug" >OpenCore Debug</a> page. For IDA Pro, version 7.3 or newer is needed, and <a 
href="https://www.hex-rays.com/products/ida/support/tutorials/index.shtml" >Debugging the XNU
Kernel with IDA Pro</a> may also help.
</p><!--l. 7609--><p class="noindent" >To obtain the log during boot serial port debugging can be used. Serial port debugging is enabled in Target,
e.g. 0xB for onscreen with serial. To initialise serial within OpenCore use SerialInit configuration option.
For macOS the best choice is CP2102-based UART devices. Connect motherboard TX to USB UART RX, and
motherboard GND to USB UART GND. Use screen utility to get the output, or download GUI software, such as
<a 
href="https://freeware.the-meiers.org" >CoolTerm</a>.
</p><!--l. 7617--><p class="noindent" >Note: On several motherboards (and possibly USB UART dongles) PIN naming may be incorrect. It is very common to have
GND swapped with RX, thus, motherboard “TX” must be connected to USB UART GND, and motherboard “GND” to USB UART
RX.
                                                                                                  
                                                                                                  
</p><!--l. 7622--><p class="noindent" >Remember to enable COM port in firmware settings, and never use USB cables longer than 1 meter to avoid output corruption.
To additionally enable XNU kernel serial output debug=0x8 boot argument is needed.
<a 
 id="x1-85001r90"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">12.5   </span> <a 
 id="x1-860005"></a>Tips and Tricks</h4>
     <ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-86002x1">How to debug boot failure?
     <!--l. 7632--><p class="noindent" >Normally it is enough to obtain the actual error message. For this ensure that: </p>
         <ul class="itemize1">
         <li class="itemize">A DEBUG or NOOPT version of OpenCore is used.
         </li>
         <li class="itemize">Logging is enabled (1) and shown onscreen (2): Misc → Debug → Target = 3.
         </li>
         <li class="itemize">Logged messages from at least DEBUG_ERROR (0x80000000), DEBUG_WARN (0x00000002), and DEBUG_INFO
         (0x00000040) levels are visible onscreen: Misc → Debug → DisplayLevel = 0x80000042.
         </li>
         <li class="itemize">Critical error messages, such as DEBUG_ERROR, stop booting: Misc→Security→HaltLevel = 0x80000000.
         </li>
         <li class="itemize">Watch Dog is disabled to prevent automatic reboot: Misc → Debug → DisableWatchDog = true.
         </li>
         <li class="itemize">Boot Picker (entry selector) is enabled: Misc → Boot → ShowPicker = true.</li></ul>
     <!--l. 7655--><p class="noindent" >If there is no obvious error, check the available <span class="sout">hacks in </span><span class="uwave">workarounds in the </span>Quirks sections one by one. For early boot
     troubleshooting, for instance, when OpenCore menu does not appear, using UEFI Shell (bundled with OpenCore) may
     help to see early debug messages.
     </p></li>
     <li 
  class="enumerate" id="x1-86004x2">How to debug macOS boot failure?
         <ul class="itemize1">
         <li class="itemize">Refer to boot-args values such as debug=0x100, keepsyms=1, -v, and similar.
         </li>
         <li class="itemize">Do not forget about AppleDebug and ApplePanic properties.
         </li>
         <li class="itemize">Take care of Booter, Kernel, and UEFI quirks.
         </li>
         <li class="itemize">Consider using serial port to inspect early kernel boot failures. For this debug=0x108, serial=5, and
         msgbuf=1048576 boot arguments are needed. Refer to the patches in Sample.plist when dying before serial
         init.
         </li>
         <li class="itemize">Always read the logs carefully.</li></ul>
     </li>
     <li 
  class="enumerate" id="x1-86006x3">How to customise boot entries?
     <!--l. 7678--><p class="noindent" >OpenCore follows standard Apple Bless model and extracts the entry name from .contentDetails and
     .disk_label.contentDetails files in the booter directory if present. These files contain an ASCII string with an entry
     title, which may then be customised by the user.
     </p></li>
     <li 
  class="enumerate" id="x1-86008x4">How to choose the default boot entry?
     <!--l. 7686--><p class="noindent" >OpenCore uses the primary UEFI boot option to select the default entry. This choice can be altered from UEFI Setup,
     with the macOS <a 
href="https://support.apple.com/HT202796" >Startup Disk</a> preference, or the Windows <a 
href="https://support.apple.com/guide/bootcamp-control-panel/start-up-your-mac-in-windows-or-macos-bcmp29b8ac66/mac" >Boot Camp</a> Control Panel. Since choosing OpenCore’s
     BOOTx64.EFI as a primary boot option limits this functionality in addition to several types of firmware deleting
     incompatible boot options, potentially including those created by macOS, users are strongly encouraged to
     use the RequestBootVarRouting quirk, which will preserve the selection made in the operating system
     within the OpenCore variable space. Note, that RequestBootVarRouting requires a separate driver for
     functioning.
                                                                                                  
                                                                                                  
     </p></li>
     <li 
  class="enumerate" id="x1-86010x5"><a 
 id="x1-860095"></a> What is the simplest way to install macOS?
     <!--l. 7700--><p class="noindent" >Copy online recovery image (*.dmg and *.chunklist files) to com.apple.recovery.boot directory on a FAT32 partition
     with OpenCore. Load <span class="sout">OpenCore Boot Picker </span><span class="uwave">the OpenCore picker </span>and choose the entry, it will have a (dmg) suffix.
     Custom name may be created by providing .contentDetails file.
     </p><!--l. 7705--><p class="noindent" >To download recovery online <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Utilities/macrecovery/macrecovery.py" >macrecovery.py</a> can be used.
     </p><!--l. 7709--><p class="noindent" >For offline installation refer to <a 
href="https://support.apple.com/HT201372" >How to create a bootable installer for macOS</a> article. Apart from App Store and
     softwareupdate utility there also are <a 
href="https://github.com/corpnewt/gibMacOS" >third-party utilities</a> to download an offline image.
     </p></li>
     <li 
  class="enumerate" id="x1-86012x6">Why do online recovery images (*.dmg) fail to load?
     <!--l. 7717--><p class="noindent" >This may be caused by missing HFS+ driver, as all presently known recovery volumes have HFS+ filesystem.
     </p></li>
     <li 
  class="enumerate" id="x1-86014x7">Can I use this on Apple hardware or virtual machines?
     <!--l. 7723--><p class="noindent" >Sure, most relatively modern Mac models including MacPro5,1 and virtual machines are fully supported. Even though
     there are little to none specific details relevant to Mac hardware, some ongoing instructions can be found on
     <a 
href="https://forums.macrumors.com/threads/opencore-on-the-mac-pro.2207814" >MacRumors.com</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-86016x8">Why <span class="sout">do </span><span class="uwave">must </span>Find&#x0026;Replace patches <span class="sout">must </span><span class="uwave">be </span>equal in <span class="sout">length</span><span class="uwave">size</span>?
     <!--l. 7731--><p class="noindent" >For machine code (x86 code) it is not possible to do differently sized replacements due to <a 
href="https://en.wikipedia.org/w/index.php?title=Relative_addressing" >relative addressing</a>. For ACPI
     code this is risky, and is technically equivalent to ACPI table replacement, thus not implemented. More detailed
     explanation can be found on <a 
href="https://applelife.ru/posts/819790" >AppleLife.ru</a> or in the ACPI section of this document.
     </p></li>
     <li 
  class="enumerate" id="x1-86018x9">How can I decide which Booter quirks to use?
     <!--l. 7740--><p class="noindent" >These quirks originate from AptioMemoryFix driver but provide a wider set of changes specific to modern systems. Note,
     that OpenRuntime driver is required for most configurations. To get a configuration similar to AptioMemoryFix the
     following set of quirks should be enabled: </p>
         <ul class="itemize1">
         <li class="itemize">ProvideConsoleGop (UEFI quirk)
         </li>
         <li class="itemize">AvoidRuntimeDefrag
         </li>
         <li class="itemize">DiscardHibernateMap
         </li>
         <li class="itemize">EnableSafeModeSlide
         </li>
         <li class="itemize">EnableWriteUnprotector
         </li>
         <li class="itemize">ForceExitBootServices
         </li>
         <li class="itemize">ProtectMemoryRegions
         </li>
         <li class="itemize">ProvideCustomSlide
         </li>
         <li class="itemize">RebuildAppleMemoryMap
         </li>
         <li class="itemize">SetupVirtualMap</li></ul>
     <!--l. 7758--><p class="noindent" >However, as of today, such set is strongly discouraged as some of these quirks are not necessary to be enabled or need
     additional quirks. For example, DevirtualiseMmio and ProtectUefiServices are often required, while
     DiscardHibernateMap and ForceExitBootServices are rarely necessary.
     </p><!--l. 7764--><p class="noindent" >Unfortunately for some quirks such as RebuildAppleMemoryMap, EnableWriteUnprotector, ProtectMemoryRegions,
                                                                                                  


</body>
</html>