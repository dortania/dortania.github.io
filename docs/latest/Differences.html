<!DOCTYPE html> 
<html lang="en-US" xml:lang="en-US" > 
<head><title>Differences</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="Differences.css" /> 
<meta name="src" content="Differences.tex" /> 
<link rel="stylesheet" type="text/css" href="../main.css" /></head><body 
><div class="center" 
>
<!--l. 142--><p class="noindent" >
</p><!--l. 149--><p class="noindent" > <img 
src="Logos/Logo.png" alt="PIC"  
width="160" height="160"  />
</p><!--l. 153--><p class="noindent" >OpenCore
</p><!--l. 157--><p class="noindent" >Reference Manual (0.7<span class="sout">.6</span><span class="uwave">.7</span>)
</p><!--l. 161--><p class="noindent" >[2022.01.06]
</p><!--l. 169--><p class="noindent" >Copyright ©<span class="sout">2018-2021 </span><span class="uwave">2018-2022 </span>vit9696
</p>
</div>
                                                                                                  
                                                                                                  
     </p></li>
     <li class="itemize">
     <!--l. 628--><p class="noindent" >nvram.plist <br 
class="newline" />OpenCore variable import file.
     </p></li>
     <li class="itemize">
     <!--l. 631--><p class="noindent" >opencore-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />OpenCore log file.
     </p></li>
     <li class="itemize">
     <!--l. 634--><p class="noindent" >panic-YYYY-MM-DD-HHMMSS.txt <br 
class="newline" />Kernel panic log file.</p></li></ul>
<!--l. 638--><p class="noindent" >Note: It is not guaranteed that paths longer than OC_STORAGE_SAFE_PATH_MAX (128 characters including the
<br 
class="newline" />0-terminator) will be accessible within OpenCore.
<a 
 id="x1-9001r9"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-100002"></a>Installation and Upgrade</h4>
<!--l. 644--><p class="noindent" >To install OpenCore, replicate the ?? described in the previous section in the EFI volume of a GPT partition. While
corresponding sections of this document provide some information regarding external resources such as ACPI tables, UEFI
drivers, or kernel extensions (kexts), completeness of the matter is out of the scope of this document. Information about kernel
extensions may be found in a separate <a 
href="https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Kexts.md" >Kext List</a> document available in the OpenCore repository. Vaulting information is
provided in the ?? section of this document.
</p><!--l. 656--><p class="noindent" >The OC config file, as with any property list file, can be edited with any text editor, such as nano or vim. However, specialised
software may provide a better experience. On macOS, the preferred GUI application is <a 
href="https://developer.apple.com/xcode" >Xcode</a>. The <a 
href="https://github.com/corpnewt/ProperTree" >ProperTree</a> editor is a
lightweight, cross-platform and open-source alternative.
</p><!--l. 663--><p class="noindent" >It is strongly recommended to avoid configuration creation tools that are aware of the internal configuration structure as this
may result in invalid configurations (since the structure gets constantly updated). If such tools are to be used despite this
warning, ensure that only stable versions of OpenCore explicitly supported by such tools are used. In such cases, the use of
open-source implementations with transparent binary generation (such as <a 
href="https://github.com/ic005k/QtOpenCoreConfig" >OCAT</a>) is encouraged, given that other tools may
contain malware. In addition, configurations created for a specific hardware setup should never be used on different hardware
setups.
</p><!--l. 672--><p class="noindent" >For BIOS booting, a third-party UEFI environment provider is required and OpenDuetPkg is one such UEFI environment
provider for legacy systems. To run OpenCore on such a legacy system, OpenDuetPkg can be installed with a dedicated tool —
BootInstall (bundled with OpenCore). <a 
href="https://github.com/corpnewt/gibMacOS" >Third-party utilities</a> can be used to perform this on systems other than
macOS.
</p><!--l. 679--><p class="noindent" >For upgrade purposes, refer to the Differences.pdf document which provides information about changes to the configuration
(as compared to the previous release) as well as to the Changelog.md document (which contains a list of modifications across
all published updates).
<a 
 id="x1-10001r10"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.3   </span> <a 
 id="x1-110003"></a>Contribution</h4>
<!--l. 686--><p class="noindent" >OpenCore can be compiled as a standard <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II" >EDK II</a> package and requires the <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II#stable-tags" >EDK II Stable</a> package. The currently supported
EDK II release is hosted in <a 
href="https://github.com/acidanthera/audk" >acidanthera/audk</a>. Required patches for this package can be found in the Patches
directory.
</p><!--l. 694--><p class="noindent" ><span class="uwave">When updating the LaTeX documentation (e.g. </span><span class="uwave">Configuration.tex</span><span class="uwave">) please do </span><span class="uwave">not</span> <span class="uwave">rebuild the PDF files till merging to
master happens. This avoids unnecessary merge conflicts: </span></p>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 699--><p class="noindent" ><span class="uwave">External contributors using the pull-request approach should request the maintainers to handle the PDF rebuild
     in the pull-request message. </span>
     </p></li>
                                                                                                  
                                                                                                  
     <li class="itemize">
     <!--l. 701--><p class="noindent" ><span class="uwave">Internal contributors should rebuild the documentation at merge time in the same or in a separate commit. One
     can ask another maintainer to rebuild the documentation when lacking the necessary tools in the pull-request
     message. </span></p></li></ul>
<!--l. 707--><p class="noindent" >The only officially supported toolchain is XCODE5. Other toolchains might work but are neither supported nor recommended.
Contributions of clean patches are welcome. Please do follow <a 
href="https://github.com/tianocore/tianocore.github.io/wiki/Code-Style-C" >EDK II C Codestyle</a>.
</p><!--l. 712--><p class="noindent" >To compile with XCODE5, besides <a 
href="https://developer.apple.com/xcode" >Xcode</a>, users should also install <a 
href="https://www.nasm.us" >NASM</a> and <a 
href="https://github.com/acidanthera/ocbuild/tree/master/external" >MTOC</a>. The latest Xcode version is recommended
for use despite the toolchain name. An example command sequence is as follows:
</p>
<!--l. 718-->
<a 
 id="x1-11001r1"></a>
<a 
 id="x1-11002"></a>
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x1-11003r1"></a></span>git clone --depth=1 https://github.com/acidanthera/audk UDK <br /> 
<span class="label"><a 
 id="x1-11004r2"></a></span>cd UDK <br /> 
<span class="label"><a 
 id="x1-11005r3"></a></span>git submodule update --init --recommend-shallow <br /> 
<span class="label"><a 
 id="x1-11006r4"></a></span>git clone --depth=1 https://github.com/acidanthera/OpenCorePkg <br /> 
<span class="label"><a 
 id="x1-11007r5"></a></span>. ./edksetup.sh <br /> 
<span class="label"><a 
 id="x1-11008r6"></a></span>make -C BaseTools <br /> 
<span class="label"><a 
 id="x1-11009r7"></a></span>build -a X64 -b RELEASE -t XCODE5 -p OpenCorePkg/OpenCorePkg.dsc</div>
<figcaption class="caption" ><span class="id">Listing 1:</span><span  
class="content">Compilation Commands</span></figcaption><!--tex4ht:label?: x1-11001r -->
<!--l. 728--><p class="noindent" >For IDE usage Xcode projects are available in the root of the repositories. Another approach could be using <a 
href="https://microsoft.github.io/language-server-protocol" >Language Server
Protocols</a>. For example, <a 
href="https://www.sublimetext.com" >Sublime Text</a> with <a 
href="https://lsp.sublimetext.io" >LSP for Sublime Text</a> plugin. Add compile_flags.txt file with similar content to
the UDK root:
</p>
<!--l. 733-->
<a 
 id="x1-11010r2"></a>
<a 
 id="x1-11011"></a>
<div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x1-11012r1"></a></span>-I/UefiPackages/MdePkg <br /> 
<span class="label"><a 
 id="x1-11013r2"></a></span>-I/UefiPackages/MdePkg/Include <br /> 
<span class="label"><a 
 id="x1-11014r3"></a></span>-I/UefiPackages/MdePkg/Include/X64 <br /> 
<span class="label"><a 
 id="x1-11015r4"></a></span>-I/UefiPackages/MdeModulePkg <br /> 
<span class="label"><a 
 id="x1-11016r5"></a></span>-I/UefiPackages/MdeModulePkg/Include <br /> 
<span class="label"><a 
 id="x1-11017r6"></a></span>-I/UefiPackages/MdeModulePkg/Include/X64 <br /> 
<span class="label"><a 
 id="x1-11018r7"></a></span>-I/UefiPackages/OpenCorePkg/Include/AMI <br /> 
<span class="label"><a 
 id="x1-11019r8"></a></span>-I/UefiPackages/OpenCorePkg/Include/Acidanthera <br /> 
<span class="label"><a 
 id="x1-11020r9"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple <br /> 
<span class="label"><a 
 id="x1-11021r10"></a></span>-I/UefiPackages/OpenCorePkg/Include/Apple/X64 <br /> 
<span class="label"><a 
 id="x1-11022r11"></a></span>-I/UefiPackages/OpenCorePkg/Include/Duet <br /> 
<span class="label"><a 
 id="x1-11023r12"></a></span>-I/UefiPackages/OpenCorePkg/Include/Generic <br /> 
<span class="label"><a 
 id="x1-11024r13"></a></span>-I/UefiPackages/OpenCorePkg/Include/Intel <br /> 
<span class="label"><a 
 id="x1-11025r14"></a></span>-I/UefiPackages/OpenCorePkg/Include/Microsoft <br /> 
<span class="label"><a 
 id="x1-11026r15"></a></span>-I/UefiPackages/OpenCorePkg/Include/Nvidia <br /> 
<span class="label"><a 
 id="x1-11027r16"></a></span>-I/UefiPackages/OpenCorePkg/Include/VMware <br /> 
<span class="label"><a 
 id="x1-11028r17"></a></span>-I/UefiPackages/OvmfPkg/Include <br /> 
<span class="label"><a 
 id="x1-11029r18"></a></span>-I/UefiPackages/ShellPkg/Include <br /> 
<span class="label"><a 
 id="x1-11030r19"></a></span>-I/UefiPackages/UefiCpuPkg/Include <br /> 
<span class="label"><a 
 id="x1-11031r20"></a></span>-IInclude <br /> 
<span class="label"><a 
 id="x1-11032r21"></a></span>-include <br /> 
<span class="label"><a 
 id="x1-11033r22"></a></span>/UefiPackages/MdePkg/Include/Uefi.h <br /> 
<span class="label"><a 
 id="x1-11034r23"></a></span>-fshort-wchar <br /> 
<span class="label"><a 
 id="x1-11035r24"></a></span>-Wall <br /> 
<span class="label"><a 
 id="x1-11036r25"></a></span>-Wextra <br /> 
<span class="label"><a 
 id="x1-11037r26"></a></span>-Wno-unused-parameter <br /> 
<span class="label"><a 
 id="x1-11038r27"></a></span>-Wno-missing-braces <br /> 
<span class="label"><a 
 id="x1-11039r28"></a></span>-Wno-missing-field-initializers <br /> 
<span class="label"><a 
 id="x1-11040r29"></a></span>-Wno-tautological-compare <br /> 
<span class="label"><a 
 id="x1-11041r30"></a></span>-Wno-sign-compare <br /> 
<span class="label"><a 
 id="x1-11042r31"></a></span>-Wno-varargs <br /> 
<span class="label"><a 
 id="x1-11043r32"></a></span>-Wno-unused-const-variable <br /> 
<span class="label"><a 
 id="x1-11044r33"></a></span>-DOC_TARGET_NOOPT=1 <br /> 
<span class="label"><a 
 id="x1-11045r34"></a></span>-DNO_MSABI_VA_FUNCS=1</div>
<figcaption class="caption" ><span class="id">Listing 2:</span><span  
class="content">ECC Configuration</span></figcaption><!--tex4ht:label?: x1-11010r -->
<!--l. 770--><p class="noindent" >Note: /UefiPackages in the sample file denotes an absolute path.
</p><!--l. 772--><p class="noindent" >Warning: Tool developers modifying config.plist or any other OpenCore files must ensure that their tools check the
opencore-version NVRAM variable (see the ?? section below) and warn users if the version listed is unsupported or
prerelease. The OpenCore configuration may change across releases and such tools shall ensure that they carefully follow
this document. Failure to do so may result in such tools being considered to be malware and blocked by any
means.
<a 
 id="x1-11046r11"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">3.4   </span> <a 
 id="x1-120004"></a>Coding conventions</h4>
<!--l. 781--><p class="noindent" >As with any other project, we have conventions that we follow during development. All third-party contributors are advised to
adhere to the conventions listed below before submitting patches. To minimise abortive work and the potential rejection of
submissions, third-party contributors should initially raise issues to the <a 
href="https://github.com/acidanthera/bugtracker" >Acidanthera Bugtracker</a> for feedback before submitting
patches.
</p><!--l. 788--><p class="noindent" >Organisation. The codebase is contained in the OpenCorePkg repository, which is the primary EDK II package.
</p>
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 792--><p class="noindent" >Whenever changes are required in multiple repositories, separate pull requests should be sent to each.
     </p></li>
     <li class="itemize">
     <!--l. 794--><p class="noindent" >Committing the changes should happen firstly to dependent repositories, secondly to primary repositories to
     avoid automatic build errors.
     </p></li>
     <li class="itemize">
                                                                                                  
                                                                                                  
         <li class="itemize">
         <!--l. 2254--><p class="noindent" >Enabling support for an unsupported CPU model (e.g. Intel Pentium).
         </p></li>
         <li class="itemize">
         <!--l. 2255--><p class="noindent" >Enabling support for a CPU model not yet supported by a specific version of macOS (typically old versions).
         </p></li>
         <li class="itemize">
         <!--l. 2256--><p class="noindent" >Enabling XCPM support for an unsupported CPU variant.</p></li></ul>
     <!--l. 2259--><p class="noindent" >Note 1: It may also be the case that the CPU model is supported but there is no power management supported (e.g.
     virtual machines). In this case, MinKernel and MaxKernel can be set to restrict CPU virtualisation and dummy power
     management patches to the particular macOS kernel version.
     </p><!--l. 2263--><p class="noindent" >Note 2: Only the value of EAX, which represents the full CPUID, typically needs to be accounted for and remaining bytes
     should be left as zeroes. The byte order is Little Endian. For example, C3 06 03 00 stands for CPUID 0x0306C3
     (Haswell).
     </p><!--l. 2268--><p class="noindent" >Note 3: For XCPM support it is recommended to use the following combinations. <span class="uwave">Be warned that one is required to set
     the correct </span><a 
href="https://github.com/dortania/bugtracker/issues/190" ><span class="uwave">frequency vectors</span></a> <span class="uwave">matching the installed CPU. </span>
</p>
         <ul class="itemize1">
         <li class="itemize">
         <!--l. 2276--><p class="noindent" >Haswell-E (0x0306F2) to Haswell (0x0306C3):<br 
class="newline" />Cpuid1Data: C3 06 03 00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00
         </p></li>
         <li class="itemize">
         <!--l. 2279--><p class="noindent" >Broadwell-E (0x0406F1) to Broadwell (0x0306D4):<br 
class="newline" />Cpuid1Data: D4 06 03 00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00
         </p></li>
         <li class="itemize">
         <!--l. 2282--><p class="noindent" ><span class="uwave">Comet Lake U62 (</span><span class="uwave">0x0A0660</span><span class="uwave">) to Comet Lake U42 (</span><span class="uwave">0x0806EC</span><span class="uwave">):</span><br 
class="newline" /><span class="uwave">Cpuid1Data</span><span class="uwave">: </span><span class="uwave">EC 06 08 00 00 00 00 00 00 00 00 00 00 00 00 00</span><br 
class="newline" /><span class="uwave">Cpuid1Mask</span><span class="uwave">: </span><span class="uwave">FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00</span>
         </p></li>
         <li class="itemize">
         <!--l. 2285--><p class="noindent" >Rocket Lake (0x0A0670) to Comet Lake (<span class="sout">0x0906EB</span><span class="uwave">0x0A0655</span>):<br 
class="newline" />Cpuid1Data: <span class="sout">EB </span><span class="uwave">55 </span>06 <span class="sout">09 </span><span class="uwave">0A </span>00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00
         </p></li>
         <li class="itemize">
         <!--l. 2288--><p class="noindent" ><span class="sout">Comet Lake U62 (</span><span class="uwave">Alder Lake (</span><span class="sout">0x0A0660</span><span class="uwave">0x090672</span>) to Comet Lake <span class="sout">U42 (</span><span class="uwave">(</span><span class="sout">0x0806EC</span><span class="uwave">0x0A0655</span>):<br 
class="newline" />Cpuid1Data: <span class="sout">EC </span><span class="uwave">55 </span>06 <span class="sout">08 </span><span class="uwave">0A </span>00 00 00 00 00 00 00 00 00 00 00 00 00<br 
class="newline" />Cpuid1Mask: FF FF FF FF 00 00 00 00 00 00 00 00 00 00 00 00</p></li></ul>
     <!--l. 2293--><p class="noindent" >Note 4: Be aware that the following configurations are unsupported by XCPM (at least out of the box):
</p>
         <ul class="itemize1">
         <li class="itemize">
         <!--l. 2297--><p class="noindent" >Consumer Ivy Bridge (0x0306A9) as Apple disabled XCPM for Ivy Bridge and recommends legacy power
         management for these CPUs. _xcpm_bootstrap should manually be patched to enforce XCPM on these
         CPUs instead of this option.
         </p></li>
         <li class="itemize">
         <!--l. 2300--><p class="noindent" >Low-end CPUs (e.g. Haswell+ Pentium) as they are not supported properly by macOS. Legacy workarounds
         for older models can be found in the Special NOTES section of <a 
href="https://github.com/acidanthera/bugtracker/issues/365" >acidanthera/bugtracker#365</a>.</p></li></ul>
     </li>
                                                                                                  
                                                                                                  
     
     
     
     
     
      
     
     
     
      
     
     
     
      
     
     
                    ^^      </body>
</html>